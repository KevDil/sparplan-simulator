<!doctype html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sparplan & Entnahme Simulator (Web)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand__dot"></div>
      <div>
        <p class="eyebrow">ETF & Tagesgeld</p>
        <h1>Sparplan- & Entnahme-Simulator</h1>
      </div>
    </div>
    <p class="tagline">Steuer-optimiert mit Depot-Trick, Sonderausgaben & dynamischen Sparraten.</p>
  </header>

  <main class="page">
    <section class="panel panel--inputs">
      <form id="sim-form" novalidate>
        <div class="group">
          <div class="group__header">
            <h2>Basisdaten & Zinsen</h2>
            <p>Startwerte, Zinsen und TG-Ziel.</p>
          </div>
          <div class="grid">
            <label class="field">
              <span>Start Tagesgeld (EUR)</span>
              <input type="number" step="100" id="start_savings" value="2700">
            </label>
            <label class="field">
              <span>Start ETF (EUR)</span>
              <input type="number" step="100" id="start_etf" value="100">
            </label>
            <label class="field">
              <span>Tagesgeld Zins p.a. (%)</span>
              <input type="number" step="0.1" id="savings_rate" value="3.0">
            </label>
            <label class="field">
              <span>ETF Rendite p.a. (%)</span>
              <input type="number" step="0.1" id="etf_rate" value="7.0">
            </label>
            <label class="field">
              <span>Tagesgeld-Ziel (EUR)</span>
              <input type="number" step="100" id="savings_target" value="5000">
            </label>
          </div>
        </div>

        <div class="group">
          <div class="group__header">
            <h2>Ansparphase</h2>
            <p>Monatliche Raten, Dynamik und Sonderausgaben.</p>
          </div>
          <div class="grid">
            <label class="field">
              <span>Dauer Ansparen (Jahre)</span>
              <input type="number" step="1" id="years_save" value="15">
            </label>
            <label class="field">
              <span>Monatlich Tagesgeld (EUR)</span>
              <input type="number" step="50" id="monthly_savings" value="100">
            </label>
            <label class="field">
              <span>Monatlich ETF (EUR)</span>
              <input type="number" step="50" id="monthly_etf" value="150">
            </label>
            <label class="field">
              <span>Gehaltserhöhung p.a. (%)</span>
              <input type="number" step="0.1" id="annual_raise" value="3.0">
            </label>
            <label class="field">
              <span>Sonderausgabe Anspar (EUR)</span>
              <input type="number" step="500" id="special_savings" value="15000">
            </label>
            <label class="field">
              <span>Sonderausgabe Anspar alle X J.</span>
              <input type="number" step="1" id="special_savings_interval" value="10">
            </label>
          </div>
        </div>

        <div class="group">
          <div class="group__header">
            <h2>Entnahmephase</h2>
            <p>Rentenmodus, Sonderausgaben und Dauer.</p>
          </div>
          <div class="grid grid--split">
            <label class="field">
              <span>Dauer Entnahme (Jahre)</span>
              <input type="number" step="1" id="years_withdraw" value="30">
            </label>
            <div class="field">
              <span>Wunschrente</span>
              <div class="mode-switch">
                <label><input type="radio" name="rent_mode" value="eur" checked> EUR / Monat</label>
                <label><input type="radio" name="rent_mode" value="percent"> % vom Vermögen (p.a.)</label>
              </div>
            </div>
            <label class="field">
              <span>Wunschrente Netto (EUR)</span>
              <input type="number" step="50" id="rent_eur" value="1000">
            </label>
            <label class="field">
              <span>Wunschrente % vom Vermögen p.a.</span>
              <input type="number" step="0.1" id="rent_percent" value="4.0">
            </label>
            <label class="field">
              <span>Sonderausgabe Entnahme (EUR)</span>
              <input type="number" step="500" id="special_withdraw" value="15000">
            </label>
            <label class="field">
              <span>Sonderausgabe Entnahme alle X J.</span>
              <input type="number" step="1" id="special_withdraw_interval" value="10">
            </label>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn">Simulation starten</button>
          <p class="hint">Hinweis: Simulation nutzt automatisch den „Depot-Trick“ (jüngste Anteile zuerst) für geringere Steuerlast. Sparerpauschbetrag 1000 EUR/Jahr.</p>
        </div>
        <div id="message" class="message" role="alert" aria-live="polite"></div>
      </form>
    </section>

    <section class="panel panel--results">
      <div class="result-header">
        <div>
          <p class="eyebrow">Visualisierung</p>
          <h2>Vermögensverlauf</h2>
        </div>
        <div class="legend">
          <span class="legend__item"><span class="dot dot--total"></span>Gesamtvermögen</span>
          <span class="legend__item"><span class="dot dot--etf"></span>ETF</span>
          <span class="legend__item"><span class="dot dot--cash"></span>Tagesgeld</span>
        </div>
      </div>
      <div class="graph-wrapper">
        <canvas id="graph" aria-label="Vermögensgraph"></canvas>
      </div>

      <div class="result-header">
        <div>
          <p class="eyebrow">Jahresübersicht</p>
          <h2>Aggregierte Werte</h2>
        </div>
      </div>
      <div class="table-wrapper">
        <table id="year-table">
          <thead>
            <tr>
              <th>Jahr</th>
              <th>Phase</th>
              <th>TG-Saldo</th>
              <th>ETF-Saldo</th>
              <th>Gesamt</th>
              <th>Rendite</th>
              <th>Entnahme</th>
              <th>Steuern</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>Statische Web-App – bereit für GitHub Pages. Keine Serverabhängigkeiten.</p>
  </footer>

  <div id="tooltip" class="tooltip" aria-hidden="true"></div>

  <script src="app.js"></script>
</body>
</html>
