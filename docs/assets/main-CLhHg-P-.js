(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wl(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const be={},Rn=[],St=()=>{},ai=()=>!1,Ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Nl=e=>e.startsWith("onUpdate:"),Xe=Object.assign,Ll=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Co=Object.prototype.hasOwnProperty,pe=(e,t)=>Co.call(e,t),Q=Array.isArray,kn=e=>os(e)==="[object Map]",Ls=e=>os(e)==="[object Set]",_a=e=>os(e)==="[object Date]",se=e=>typeof e=="function",Oe=e=>typeof e=="string",xt=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",ii=e=>(_e(e)||se(e))&&se(e.then)&&se(e.catch),oi=Object.prototype.toString,os=e=>oi.call(e),Po=e=>os(e).slice(8,-1),ri=e=>os(e)==="[object Object]",js=e=>Oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kn=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Us=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},$o=/-\w/g,tn=Us(e=>e.replace($o,t=>t.slice(1).toUpperCase())),Io=/\B([A-Z])/g,gn=Us(e=>e.replace(Io,"-$1").toLowerCase()),ui=Us(e=>e.charAt(0).toUpperCase()+e.slice(1)),hl=Us(e=>e?`on${ui(e)}`:""),Qt=(e,t)=>!Object.is(e,t),Rs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ci=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Bs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sa;const Ks=()=>Sa||(Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jl(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],l=Oe(n)?Oo(n):jl(n);if(l)for(const a in l)t[a]=l[a]}return t}else if(Oe(e)||_e(e))return e}const Fo=/;(?![^(]*\))/g,Ao=/:([^]+)/,zo=/\/\*[^]*?\*\//g;function Oo(e){const t={};return e.replace(zo,"").split(Fo).forEach(s=>{if(s){const n=s.split(Ao);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function De(e){let t="";if(Oe(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const n=De(e[s]);n&&(t+=n+" ")}else if(_e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Vo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Do=Wl(Vo);function di(e){return!!e||e===""}function Wo(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Cn(e[n],t[n]);return s}function Cn(e,t){if(e===t)return!0;let s=_a(e),n=_a(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=xt(e),n=xt(t),s||n)return e===t;if(s=Q(e),n=Q(t),s||n)return s&&n?Wo(e,t):!1;if(s=_e(e),n=_e(t),s||n){if(!s||!n)return!1;const l=Object.keys(e).length,a=Object.keys(t).length;if(l!==a)return!1;for(const o in e){const r=e.hasOwnProperty(o),d=t.hasOwnProperty(o);if(r&&!d||!r&&d||!Cn(e[o],t[o]))return!1}}return String(e)===String(t)}function No(e,t){return e.findIndex(s=>Cn(s,t))}const fi=e=>!!(e&&e.__v_isRef===!0),G=e=>Oe(e)?e:e==null?"":Q(e)||_e(e)&&(e.toString===oi||!se(e.toString))?fi(e)?G(e.value):JSON.stringify(e,hi,2):String(e),hi=(e,t)=>fi(t)?hi(e,t.value):kn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,l],a)=>(s[pl(n,a)+" =>"]=l,s),{})}:Ls(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>pl(s))}:xt(t)?pl(t):_e(t)&&!Q(t)&&!ri(t)?String(t):t,pl=(e,t="")=>{var s;return xt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Be;class pi{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Be;try{return Be=this,t()}finally{Be=s}}}on(){++this._on===1&&(this.prevScope=Be,Be=this)}off(){this._on>0&&--this._on===0&&(Be=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function mi(e){return new pi(e)}function gi(){return Be}function Lo(e,t=!1){Be&&Be.cleanups.push(e)}let ye;const ml=new WeakSet;class vi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ml.has(this)&&(ml.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xa(this),_i(this);const t=ye,s=ft;ye=this,ft=!0;try{return this.fn()}finally{Si(this),ye=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Kl(t);this.deps=this.depsTail=void 0,xa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ml.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ml(this)&&this.run()}get dirty(){return Ml(this)}}let bi=0,Hn,Jn;function yi(e,t=!1){if(e.flags|=8,t){e.next=Jn,Jn=e;return}e.next=Hn,Hn=e}function Ul(){bi++}function Bl(){if(--bi>0)return;if(Jn){let t=Jn;for(Jn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function _i(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Si(e){let t,s=e.depsTail,n=s;for(;n;){const l=n.prevDep;n.version===-1?(n===s&&(s=l),Kl(n),jo(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=l}e.deps=t,e.depsTail=s}function Ml(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===es)||(e.globalVersion=es,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ml(e))))return;e.flags|=2;const t=e.dep,s=ye,n=ft;ye=e,ft=!0;try{_i(e);const l=e.fn(e._value);(t.version===0||Qt(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{ye=s,ft=n,Si(e),e.flags&=-3}}function Kl(e,t=!1){const{dep:s,prevSub:n,nextSub:l}=e;if(n&&(n.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Kl(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function jo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const wi=[];function Dt(){wi.push(ft),ft=!1}function Wt(){const e=wi.pop();ft=e===void 0?!0:e}function xa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ye;ye=void 0;try{t()}finally{ye=s}}}let es=0;class Uo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ye||!ft||ye===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ye)s=this.activeLink=new Uo(ye,this),ye.deps?(s.prevDep=ye.depsTail,ye.depsTail.nextDep=s,ye.depsTail=s):ye.deps=ye.depsTail=s,Ei(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ye.depsTail,s.nextDep=void 0,ye.depsTail.nextDep=s,ye.depsTail=s,ye.deps===s&&(ye.deps=n)}return s}trigger(t){this.version++,es++,this.notify(t)}notify(t){Ul();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Bl()}}}function Ei(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ei(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Is=new WeakMap,fn=Symbol(""),Rl=Symbol(""),ts=Symbol("");function Ke(e,t,s){if(ft&&ye){let n=Is.get(e);n||Is.set(e,n=new Map);let l=n.get(s);l||(n.set(s,l=new Hl),l.map=n,l.key=s),l.track()}}function Ft(e,t,s,n,l,a){const o=Is.get(e);if(!o){es++;return}const r=d=>{d&&d.trigger()};if(Ul(),t==="clear")o.forEach(r);else{const d=Q(e),c=d&&js(s);if(d&&s==="length"){const h=Number(n);o.forEach((S,p)=>{(p==="length"||p===ts||!xt(p)&&p>=h)&&r(S)})}else switch((s!==void 0||o.has(void 0))&&r(o.get(s)),c&&r(o.get(ts)),t){case"add":d?c&&r(o.get("length")):(r(o.get(fn)),kn(e)&&r(o.get(Rl)));break;case"delete":d||(r(o.get(fn)),kn(e)&&r(o.get(Rl)));break;case"set":kn(e)&&r(o.get(fn));break}}Bl()}function Bo(e,t){const s=Is.get(e);return s&&s.get(t)}function Sn(e){const t=de(e);return t===e?t:(Ke(t,"iterate",ts),ot(e)?t:t.map(pt))}function Hs(e){return Ke(e=de(e),"iterate",ts),e}function Zt(e,t){return Nt(e)?zt(e)?Pn(pt(t)):Pn(t):pt(t)}const Ko={__proto__:null,[Symbol.iterator](){return gl(this,Symbol.iterator,e=>Zt(this,e))},concat(...e){return Sn(this).concat(...e.map(t=>Q(t)?Sn(t):t))},entries(){return gl(this,"entries",e=>(e[1]=Zt(this,e[1]),e))},every(e,t){return Pt(this,"every",e,t,void 0,arguments)},filter(e,t){return Pt(this,"filter",e,t,s=>s.map(n=>Zt(this,n)),arguments)},find(e,t){return Pt(this,"find",e,t,s=>Zt(this,s),arguments)},findIndex(e,t){return Pt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pt(this,"findLast",e,t,s=>Zt(this,s),arguments)},findLastIndex(e,t){return Pt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pt(this,"forEach",e,t,void 0,arguments)},includes(...e){return vl(this,"includes",e)},indexOf(...e){return vl(this,"indexOf",e)},join(e){return Sn(this).join(e)},lastIndexOf(...e){return vl(this,"lastIndexOf",e)},map(e,t){return Pt(this,"map",e,t,void 0,arguments)},pop(){return Wn(this,"pop")},push(...e){return Wn(this,"push",e)},reduce(e,...t){return wa(this,"reduce",e,t)},reduceRight(e,...t){return wa(this,"reduceRight",e,t)},shift(){return Wn(this,"shift")},some(e,t){return Pt(this,"some",e,t,void 0,arguments)},splice(...e){return Wn(this,"splice",e)},toReversed(){return Sn(this).toReversed()},toSorted(e){return Sn(this).toSorted(e)},toSpliced(...e){return Sn(this).toSpliced(...e)},unshift(...e){return Wn(this,"unshift",e)},values(){return gl(this,"values",e=>Zt(this,e))}};function gl(e,t,s){const n=Hs(e),l=n[t]();return n!==e&&!ot(e)&&(l._next=l.next,l.next=()=>{const a=l._next();return a.done||(a.value=s(a.value)),a}),l}const Ho=Array.prototype;function Pt(e,t,s,n,l,a){const o=Hs(e),r=o!==e&&!ot(e),d=o[t];if(d!==Ho[t]){const S=d.apply(e,a);return r?pt(S):S}let c=s;o!==e&&(r?c=function(S,p){return s.call(this,Zt(e,S),p,e)}:s.length>2&&(c=function(S,p){return s.call(this,S,p,e)}));const h=d.call(o,c,n);return r&&l?l(h):h}function wa(e,t,s,n){const l=Hs(e);let a=s;return l!==e&&(ot(e)?s.length>3&&(a=function(o,r,d){return s.call(this,o,r,d,e)}):a=function(o,r,d){return s.call(this,o,Zt(e,r),d,e)}),l[t](a,...n)}function vl(e,t,s){const n=de(e);Ke(n,"iterate",ts);const l=n[t](...s);return(l===-1||l===!1)&&Gs(s[0])?(s[0]=de(s[0]),n[t](...s)):l}function Wn(e,t,s=[]){Dt(),Ul();const n=de(e)[t].apply(e,s);return Bl(),Wt(),n}const Jo=Wl("__proto__,__v_isRef,__isVue"),Mi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xt));function Go(e){xt(e)||(e=String(e));const t=de(this);return Ke(t,"has",e),t.hasOwnProperty(e)}class Ri{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const l=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!l;if(s==="__v_isReadonly")return l;if(s==="__v_isShallow")return a;if(s==="__v_raw")return n===(l?a?lr:Pi:a?Ci:Ti).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Q(t);if(!l){let d;if(o&&(d=Ko[s]))return d;if(s==="hasOwnProperty")return Go}const r=Reflect.get(t,s,ke(t)?t:n);if((xt(s)?Mi.has(s):Jo(s))||(l||Ke(t,"get",s),a))return r;if(ke(r)){const d=o&&js(s)?r:r.value;return l&&_e(d)?Tl(d):d}return _e(r)?l?Tl(r):Js(r):r}}class ki extends Ri{constructor(t=!1){super(!1,t)}set(t,s,n,l){let a=t[s];const o=Q(t)&&js(s);if(!this._isShallow){const c=Nt(a);if(!ot(n)&&!Nt(n)&&(a=de(a),n=de(n)),!o&&ke(a)&&!ke(n))return c||(a.value=n),!0}const r=o?Number(s)<t.length:pe(t,s),d=Reflect.set(t,s,n,ke(t)?t:l);return t===de(l)&&(r?Qt(n,a)&&Ft(t,"set",s,n):Ft(t,"add",s,n)),d}deleteProperty(t,s){const n=pe(t,s);t[s];const l=Reflect.deleteProperty(t,s);return l&&n&&Ft(t,"delete",s,void 0),l}has(t,s){const n=Reflect.has(t,s);return(!xt(s)||!Mi.has(s))&&Ke(t,"has",s),n}ownKeys(t){return Ke(t,"iterate",Q(t)?"length":fn),Reflect.ownKeys(t)}}class Zo extends Ri{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Yo=new ki,qo=new Zo,Xo=new ki(!0);const kl=e=>e,xs=e=>Reflect.getPrototypeOf(e);function Qo(e,t,s){return function(...n){const l=this.__v_raw,a=de(l),o=kn(a),r=e==="entries"||e===Symbol.iterator&&o,d=e==="keys"&&o,c=l[e](...n),h=s?kl:t?Pn:pt;return!t&&Ke(a,"iterate",d?Rl:fn),{next(){const{value:S,done:p}=c.next();return p?{value:S,done:p}:{value:r?[h(S[0]),h(S[1])]:h(S),done:p}},[Symbol.iterator](){return this}}}}function ws(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function er(e,t){const s={get(l){const a=this.__v_raw,o=de(a),r=de(l);e||(Qt(l,r)&&Ke(o,"get",l),Ke(o,"get",r));const{has:d}=xs(o),c=t?kl:e?Pn:pt;if(d.call(o,l))return c(a.get(l));if(d.call(o,r))return c(a.get(r));a!==o&&a.get(l)},get size(){const l=this.__v_raw;return!e&&Ke(de(l),"iterate",fn),l.size},has(l){const a=this.__v_raw,o=de(a),r=de(l);return e||(Qt(l,r)&&Ke(o,"has",l),Ke(o,"has",r)),l===r?a.has(l):a.has(l)||a.has(r)},forEach(l,a){const o=this,r=o.__v_raw,d=de(r),c=t?kl:e?Pn:pt;return!e&&Ke(d,"iterate",fn),r.forEach((h,S)=>l.call(a,c(h),c(S),o))}};return Xe(s,e?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(l){!t&&!ot(l)&&!Nt(l)&&(l=de(l));const a=de(this);return xs(a).has.call(a,l)||(a.add(l),Ft(a,"add",l,l)),this},set(l,a){!t&&!ot(a)&&!Nt(a)&&(a=de(a));const o=de(this),{has:r,get:d}=xs(o);let c=r.call(o,l);c||(l=de(l),c=r.call(o,l));const h=d.call(o,l);return o.set(l,a),c?Qt(a,h)&&Ft(o,"set",l,a):Ft(o,"add",l,a),this},delete(l){const a=de(this),{has:o,get:r}=xs(a);let d=o.call(a,l);d||(l=de(l),d=o.call(a,l)),r&&r.call(a,l);const c=a.delete(l);return d&&Ft(a,"delete",l,void 0),c},clear(){const l=de(this),a=l.size!==0,o=l.clear();return a&&Ft(l,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(l=>{s[l]=Qo(l,e,t)}),s}function Jl(e,t){const s=er(e,t);return(n,l,a)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?n:Reflect.get(pe(s,l)&&l in n?s:n,l,a)}const tr={get:Jl(!1,!1)},nr={get:Jl(!1,!0)},sr={get:Jl(!0,!1)};const Ti=new WeakMap,Ci=new WeakMap,Pi=new WeakMap,lr=new WeakMap;function ar(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ir(e){return e.__v_skip||!Object.isExtensible(e)?0:ar(Po(e))}function Js(e){return Nt(e)?e:Gl(e,!1,Yo,tr,Ti)}function or(e){return Gl(e,!1,Xo,nr,Ci)}function Tl(e){return Gl(e,!0,qo,sr,Pi)}function Gl(e,t,s,n,l){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ir(e);if(a===0)return e;const o=l.get(e);if(o)return o;const r=new Proxy(e,a===2?n:s);return l.set(e,r),r}function zt(e){return Nt(e)?zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function ot(e){return!!(e&&e.__v_isShallow)}function Gs(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function Zl(e){return!pe(e,"__v_skip")&&Object.isExtensible(e)&&ci(e,"__v_skip",!0),e}const pt=e=>_e(e)?Js(e):e,Pn=e=>_e(e)?Tl(e):e;function ke(e){return e?e.__v_isRef===!0:!1}function le(e){return rr(e,!1)}function rr(e,t){return ke(e)?e:new ur(e,t)}class ur{constructor(t,s){this.dep=new Hl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:de(t),this._value=s?t:pt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ot(t)||Nt(t);t=n?t:de(t),Qt(t,s)&&(this._rawValue=t,this._value=n?t:pt(t),this.dep.trigger())}}function b(e){return ke(e)?e.value:e}const cr={get:(e,t,s)=>t==="__v_raw"?e:b(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const l=e[t];return ke(l)&&!ke(s)?(l.value=s,!0):Reflect.set(e,t,s,n)}};function $i(e){return zt(e)?e:new Proxy(e,cr)}function dr(e){const t=Q(e)?new Array(e.length):{};for(const s in e)t[s]=hr(e,s);return t}class fr{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=de(t);let l=!0,a=t;if(!Q(t)||!js(String(s)))do l=!Gs(a)||ot(a);while(l&&(a=a.__v_raw));this._shallow=l}get value(){let t=this._object[this._key];return this._shallow&&(t=b(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&ke(this._raw[this._key])){const s=this._object[this._key];if(ke(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return Bo(this._raw,this._key)}}function hr(e,t,s){return new fr(e,t,s)}class pr{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Hl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=es-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ye!==this)return yi(this,!0),!0}get value(){const t=this.dep.track();return xi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function mr(e,t,s=!1){let n,l;return se(e)?n=e:(n=e.get,l=e.set),new pr(n,l,s)}const Es={},Fs=new WeakMap;let dn;function gr(e,t=!1,s=dn){if(s){let n=Fs.get(s);n||Fs.set(s,n=[]),n.push(e)}}function vr(e,t,s=be){const{immediate:n,deep:l,once:a,scheduler:o,augmentJob:r,call:d}=s,c=M=>l?M:ot(M)||l===!1||l===0?At(M,1):At(M);let h,S,p,m,_=!1,x=!1;if(ke(e)?(S=()=>e.value,_=ot(e)):zt(e)?(S=()=>c(e),_=!0):Q(e)?(x=!0,_=e.some(M=>zt(M)||ot(M)),S=()=>e.map(M=>{if(ke(M))return M.value;if(zt(M))return c(M);if(se(M))return d?d(M,2):M()})):se(e)?t?S=d?()=>d(e,2):e:S=()=>{if(p){Dt();try{p()}finally{Wt()}}const M=dn;dn=h;try{return d?d(e,3,[m]):e(m)}finally{dn=M}}:S=St,t&&l){const M=S,w=l===!0?1/0:l;S=()=>At(M(),w)}const D=gi(),P=()=>{h.stop(),D&&D.active&&Ll(D.effects,h)};if(a&&t){const M=t;t=(...w)=>{M(...w),P()}}let f=x?new Array(e.length).fill(Es):Es;const E=M=>{if(!(!(h.flags&1)||!h.dirty&&!M))if(t){const w=h.run();if(l||_||(x?w.some((O,z)=>Qt(O,f[z])):Qt(w,f))){p&&p();const O=dn;dn=h;try{const z=[w,f===Es?void 0:x&&f[0]===Es?[]:f,m];f=w,d?d(t,3,z):t(...z)}finally{dn=O}}}else h.run()};return r&&r(E),h=new vi(S),h.scheduler=o?()=>o(E,!1):E,m=M=>gr(M,!1,h),p=h.onStop=()=>{const M=Fs.get(h);if(M){if(d)d(M,4);else for(const w of M)w();Fs.delete(h)}},t?n?E(!0):f=h.run():o?o(E.bind(null,!0),!0):h.run(),P.pause=h.pause.bind(h),P.resume=h.resume.bind(h),P.stop=P,P}function At(e,t=1/0,s){if(t<=0||!_e(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,ke(e))At(e.value,t,s);else if(Q(e))for(let n=0;n<e.length;n++)At(e[n],t,s);else if(Ls(e)||kn(e))e.forEach(n=>{At(n,t,s)});else if(ri(e)){for(const n in e)At(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&At(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rs(e,t,s,n){try{return n?e(...n):e()}catch(l){Zs(l,t,s)}}function wt(e,t,s,n){if(se(e)){const l=rs(e,t,s,n);return l&&ii(l)&&l.catch(a=>{Zs(a,t,s)}),l}if(Q(e)){const l=[];for(let a=0;a<e.length;a++)l.push(wt(e[a],t,s,n));return l}}function Zs(e,t,s,n=!0){const l=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||be;if(t){let r=t.parent;const d=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const h=r.ec;if(h){for(let S=0;S<h.length;S++)if(h[S](e,d,c)===!1)return}r=r.parent}if(a){Dt(),rs(a,null,10,[e,d,c]),Wt();return}}br(e,s,l,n,o)}function br(e,t,s,n=!0,l=!1){if(l)throw e;console.error(e)}const Ye=[];let yt=-1;const Tn=[];let Yt=null,En=0;const Ii=Promise.resolve();let As=null;function Ys(e){const t=As||Ii;return e?t.then(this?e.bind(this):e):t}function yr(e){let t=yt+1,s=Ye.length;for(;t<s;){const n=t+s>>>1,l=Ye[n],a=ns(l);a<e||a===e&&l.flags&2?t=n+1:s=n}return t}function Yl(e){if(!(e.flags&1)){const t=ns(e),s=Ye[Ye.length-1];!s||!(e.flags&2)&&t>=ns(s)?Ye.push(e):Ye.splice(yr(t),0,e),e.flags|=1,Fi()}}function Fi(){As||(As=Ii.then(zi))}function _r(e){Q(e)?Tn.push(...e):Yt&&e.id===-1?Yt.splice(En+1,0,e):e.flags&1||(Tn.push(e),e.flags|=1),Fi()}function Ea(e,t,s=yt+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ai(e){if(Tn.length){const t=[...new Set(Tn)].sort((s,n)=>ns(s)-ns(n));if(Tn.length=0,Yt){Yt.push(...t);return}for(Yt=t,En=0;En<Yt.length;En++){const s=Yt[En];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Yt=null,En=0}}const ns=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zi(e){try{for(yt=0;yt<Ye.length;yt++){const t=Ye[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ye.length;yt++){const t=Ye[yt];t&&(t.flags&=-2)}yt=-1,Ye.length=0,Ai(),As=null,(Ye.length||Tn.length)&&zi()}}let ut=null,Oi=null;function zs(e){const t=ut;return ut=e,Oi=e&&e.type.__scopeId||null,t}function Sr(e,t=ut,s){if(!t||e._n)return e;const n=(...l)=>{n._d&&Aa(-1);const a=zs(t);let o;try{o=e(...l)}finally{zs(a),n._d&&Aa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xe(e,t){if(ut===null)return e;const s=el(ut),n=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[a,o,r,d=be]=t[l];a&&(se(a)&&(a={mounted:a,updated:a}),a.deep&&At(o),n.push({dir:a,instance:s,value:o,oldValue:void 0,arg:r,modifiers:d}))}return e}function rn(e,t,s,n){const l=e.dirs,a=t&&t.dirs;for(let o=0;o<l.length;o++){const r=l[o];a&&(r.oldValue=a[o].value);let d=r.dir[n];d&&(Dt(),wt(d,s,8,[e.el,r,e,t]),Wt())}}const xr=Symbol("_vte"),wr=e=>e.__isTeleport,Er=Symbol("_leaveCb");function ql(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ql(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Os=new WeakMap;function Gn(e,t,s,n,l=!1){if(Q(e)){e.forEach((_,x)=>Gn(_,t&&(Q(t)?t[x]:t),s,n,l));return}if(Zn(n)&&!l){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Gn(e,t,s,n.component.subTree);return}const a=n.shapeFlag&4?el(n.component):n.el,o=l?null:a,{i:r,r:d}=e,c=t&&t.r,h=r.refs===be?r.refs={}:r.refs,S=r.setupState,p=de(S),m=S===be?ai:_=>pe(p,_);if(c!=null&&c!==d){if(Ma(t),Oe(c))h[c]=null,m(c)&&(S[c]=null);else if(ke(c)){c.value=null;const _=t;_.k&&(h[_.k]=null)}}if(se(d))rs(d,r,12,[o,h]);else{const _=Oe(d),x=ke(d);if(_||x){const D=()=>{if(e.f){const P=_?m(d)?S[d]:h[d]:d.value;if(l)Q(P)&&Ll(P,a);else if(Q(P))P.includes(a)||P.push(a);else if(_)h[d]=[a],m(d)&&(S[d]=h[d]);else{const f=[a];d.value=f,e.k&&(h[e.k]=f)}}else _?(h[d]=o,m(d)&&(S[d]=o)):x&&(d.value=o,e.k&&(h[e.k]=o))};if(o){const P=()=>{D(),Os.delete(e)};P.id=-1,Os.set(e,P),at(P,s)}else Ma(e),D()}}}function Ma(e){const t=Os.get(e);t&&(t.flags|=8,Os.delete(e))}Ks().requestIdleCallback;Ks().cancelIdleCallback;const Zn=e=>!!e.type.__asyncLoader,Di=e=>e.type.__isKeepAlive;function Mr(e,t){Wi(e,"a",t)}function Rr(e,t){Wi(e,"da",t)}function Wi(e,t,s=qe){const n=e.__wdc||(e.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(qs(t,n,s),s){let l=s.parent;for(;l&&l.parent;)Di(l.parent.vnode)&&kr(n,t,s,l),l=l.parent}}function kr(e,t,s,n){const l=qs(t,e,n,!0);cs(()=>{Ll(n[t],l)},s)}function qs(e,t,s=qe,n=!1){if(s){const l=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Dt();const r=ds(s),d=wt(t,s,e,o);return r(),Wt(),d});return n?l.unshift(a):l.push(a),a}}const jt=e=>(t,s=qe)=>{(!as||e==="sp")&&qs(e,(...n)=>t(...n),s)},Tr=jt("bm"),us=jt("m"),Cr=jt("bu"),Pr=jt("u"),$r=jt("bum"),cs=jt("um"),Ir=jt("sp"),Fr=jt("rtg"),Ar=jt("rtc");function zr(e,t=qe){qs("ec",e,t)}const Or=Symbol.for("v-ndc");function en(e,t,s,n){let l;const a=s,o=Q(e);if(o||Oe(e)){const r=o&&zt(e);let d=!1,c=!1;r&&(d=!ot(e),c=Nt(e),e=Hs(e)),l=new Array(e.length);for(let h=0,S=e.length;h<S;h++)l[h]=t(d?c?Pn(pt(e[h])):pt(e[h]):e[h],h,void 0,a)}else if(typeof e=="number"){l=new Array(e);for(let r=0;r<e;r++)l[r]=t(r+1,r,void 0,a)}else if(_e(e))if(e[Symbol.iterator])l=Array.from(e,(r,d)=>t(r,d,void 0,a));else{const r=Object.keys(e);l=new Array(r.length);for(let d=0,c=r.length;d<c;d++){const h=r[d];l[d]=t(e[h],h,d,a)}}else l=[];return l}const Cl=e=>e?oo(e)?el(e):Cl(e.parent):null,Yn=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Cl(e.parent),$root:e=>Cl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Li(e),$forceUpdate:e=>e.f||(e.f=()=>{Yl(e.update)}),$nextTick:e=>e.n||(e.n=Ys.bind(e.proxy)),$watch:e=>Zr.bind(e)}),bl=(e,t)=>e!==be&&!e.__isScriptSetup&&pe(e,t),Vr={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:l,props:a,accessCache:o,type:r,appContext:d}=e;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return l[t];case 4:return s[t];case 3:return a[t]}else{if(bl(n,t))return o[t]=1,n[t];if(l!==be&&pe(l,t))return o[t]=2,l[t];if(pe(a,t))return o[t]=3,a[t];if(s!==be&&pe(s,t))return o[t]=4,s[t];Pl&&(o[t]=0)}}const c=Yn[t];let h,S;if(c)return t==="$attrs"&&Ke(e.attrs,"get",""),c(e);if((h=r.__cssModules)&&(h=h[t]))return h;if(s!==be&&pe(s,t))return o[t]=4,s[t];if(S=d.config.globalProperties,pe(S,t))return S[t]},set({_:e},t,s){const{data:n,setupState:l,ctx:a}=e;return bl(l,t)?(l[t]=s,!0):n!==be&&pe(n,t)?(n[t]=s,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:l,props:a,type:o}},r){let d;return!!(s[r]||e!==be&&r[0]!=="$"&&pe(e,r)||bl(t,r)||pe(a,r)||pe(n,r)||pe(Yn,r)||pe(l.config.globalProperties,r)||(d=o.__cssModules)&&d[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ra(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Pl=!0;function Dr(e){const t=Li(e),s=e.proxy,n=e.ctx;Pl=!1,t.beforeCreate&&ka(t.beforeCreate,e,"bc");const{data:l,computed:a,methods:o,watch:r,provide:d,inject:c,created:h,beforeMount:S,mounted:p,beforeUpdate:m,updated:_,activated:x,deactivated:D,beforeDestroy:P,beforeUnmount:f,destroyed:E,unmounted:M,render:w,renderTracked:O,renderTriggered:z,errorCaptured:T,serverPrefetch:u,expose:k,inheritAttrs:v,components:te,directives:me,filters:we}=t;if(c&&Wr(c,n,null),o)for(const N in o){const K=o[N];se(K)&&(n[N]=K.bind(s))}if(l){const N=l.call(s,s);_e(N)&&(e.data=Js(N))}if(Pl=!0,a)for(const N in a){const K=a[N],he=se(K)?K.bind(s,s):se(K.get)?K.get.bind(s,s):St,Pe=!se(K)&&se(K.set)?K.set.bind(s):St,je=ce({get:he,set:Pe});Object.defineProperty(n,N,{enumerable:!0,configurable:!0,get:()=>je.value,set:Me=>je.value=Me})}if(r)for(const N in r)Ni(r[N],n,s,N);if(d){const N=se(d)?d.call(s):d;Reflect.ownKeys(N).forEach(K=>{Kr(K,N[K])})}h&&ka(h,e,"c");function B(N,K){Q(K)?K.forEach(he=>N(he.bind(s))):K&&N(K.bind(s))}if(B(Tr,S),B(us,p),B(Cr,m),B(Pr,_),B(Mr,x),B(Rr,D),B(zr,T),B(Ar,O),B(Fr,z),B($r,f),B(cs,M),B(Ir,u),Q(k))if(k.length){const N=e.exposed||(e.exposed={});k.forEach(K=>{Object.defineProperty(N,K,{get:()=>s[K],set:he=>s[K]=he,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===St&&(e.render=w),v!=null&&(e.inheritAttrs=v),te&&(e.components=te),me&&(e.directives=me),u&&Vi(e)}function Wr(e,t,s=St){Q(e)&&(e=$l(e));for(const n in e){const l=e[n];let a;_e(l)?"default"in l?a=qn(l.from||n,l.default,!0):a=qn(l.from||n):a=qn(l),ke(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function ka(e,t,s){wt(Q(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ni(e,t,s,n){let l=n.includes(".")?Bi(s,n):()=>s[n];if(Oe(e)){const a=t[e];se(a)&&Ot(l,a)}else if(se(e))Ot(l,e.bind(s));else if(_e(e))if(Q(e))e.forEach(a=>Ni(a,t,s,n));else{const a=se(e.handler)?e.handler.bind(s):t[e.handler];se(a)&&Ot(l,a,e)}}function Li(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:l,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,r=a.get(t);let d;return r?d=r:!l.length&&!s&&!n?d=t:(d={},l.length&&l.forEach(c=>Vs(d,c,o,!0)),Vs(d,t,o)),_e(t)&&a.set(t,d),d}function Vs(e,t,s,n=!1){const{mixins:l,extends:a}=t;a&&Vs(e,a,s,!0),l&&l.forEach(o=>Vs(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const r=Nr[o]||s&&s[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Nr={data:Ta,props:Ca,emits:Ca,methods:Bn,computed:Bn,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:Bn,directives:Bn,watch:jr,provide:Ta,inject:Lr};function Ta(e,t){return t?e?function(){return Xe(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function Lr(e,t){return Bn($l(e),$l(t))}function $l(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ge(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?Xe(Object.create(null),e,t):t}function Ca(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Xe(Object.create(null),Ra(e),Ra(t??{})):t}function jr(e,t){if(!e)return t;if(!t)return e;const s=Xe(Object.create(null),e);for(const n in t)s[n]=Ge(e[n],t[n]);return s}function ji(){return{app:null,config:{isNativeTag:ai,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ur=0;function Br(e,t){return function(n,l=null){se(n)||(n=Xe({},n)),l!=null&&!_e(l)&&(l=null);const a=ji(),o=new WeakSet,r=[];let d=!1;const c=a.app={_uid:Ur++,_component:n,_props:l,_container:null,_context:a,_instance:null,version:Ru,get config(){return a.config},set config(h){},use(h,...S){return o.has(h)||(h&&se(h.install)?(o.add(h),h.install(c,...S)):se(h)&&(o.add(h),h(c,...S))),c},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),c},component(h,S){return S?(a.components[h]=S,c):a.components[h]},directive(h,S){return S?(a.directives[h]=S,c):a.directives[h]},mount(h,S,p){if(!d){const m=c._ceVNode||J(n,l);return m.appContext=a,p===!0?p="svg":p===!1&&(p=void 0),e(m,h,p),d=!0,c._container=h,h.__vue_app__=c,el(m.component)}},onUnmount(h){r.push(h)},unmount(){d&&(wt(r,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(h,S){return a.provides[h]=S,c},runWithContext(h){const S=hn;hn=c;try{return h()}finally{hn=S}}};return c}}let hn=null;function Kr(e,t){if(qe){let s=qe.provides;const n=qe.parent&&qe.parent.provides;n===s&&(s=qe.provides=Object.create(n)),s[e]=t}}function qn(e,t,s=!1){const n=io();if(n||hn){let l=hn?hn._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return s&&se(t)?t.call(n&&n.proxy):t}}function Hr(){return!!(io()||hn)}const Jr=Symbol.for("v-scx"),Gr=()=>qn(Jr);function Ot(e,t,s){return Ui(e,t,s)}function Ui(e,t,s=be){const{immediate:n,deep:l,flush:a,once:o}=s,r=Xe({},s),d=t&&n||!t&&a!=="post";let c;if(as){if(a==="sync"){const m=Gr();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!d){const m=()=>{};return m.stop=St,m.resume=St,m.pause=St,m}}const h=qe;r.call=(m,_,x)=>wt(m,h,_,x);let S=!1;a==="post"?r.scheduler=m=>{at(m,h&&h.suspense)}:a!=="sync"&&(S=!0,r.scheduler=(m,_)=>{_?m():Yl(m)}),r.augmentJob=m=>{t&&(m.flags|=4),S&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const p=vr(e,t,r);return as&&(c?c.push(p):d&&p()),p}function Zr(e,t,s){const n=this.proxy,l=Oe(e)?e.includes(".")?Bi(n,e):()=>n[e]:e.bind(n,n);let a;se(t)?a=t:(a=t.handler,s=t);const o=ds(this),r=Ui(l,a.bind(n),s);return o(),r}function Bi(e,t){const s=t.split(".");return()=>{let n=e;for(let l=0;l<s.length&&n;l++)n=n[s[l]];return n}}const Yr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tn(t)}Modifiers`]||e[`${gn(t)}Modifiers`];function qr(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||be;let l=s;const a=t.startsWith("update:"),o=a&&Yr(n,t.slice(7));o&&(o.trim&&(l=s.map(h=>Oe(h)?h.trim():h)),o.number&&(l=s.map(Bs)));let r,d=n[r=hl(t)]||n[r=hl(tn(t))];!d&&a&&(d=n[r=hl(gn(t))]),d&&wt(d,e,6,l);const c=n[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,wt(c,e,6,l)}}const Xr=new WeakMap;function Ki(e,t,s=!1){const n=s?Xr:t.emitsCache,l=n.get(e);if(l!==void 0)return l;const a=e.emits;let o={},r=!1;if(!se(e)){const d=c=>{const h=Ki(c,t,!0);h&&(r=!0,Xe(o,h))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!r?(_e(e)&&n.set(e,null),null):(Q(a)?a.forEach(d=>o[d]=null):Xe(o,a),_e(e)&&n.set(e,o),o)}function Xs(e,t){return!e||!Ns(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,gn(t))||pe(e,t))}function Pa(e){const{type:t,vnode:s,proxy:n,withProxy:l,propsOptions:[a],slots:o,attrs:r,emit:d,render:c,renderCache:h,props:S,data:p,setupState:m,ctx:_,inheritAttrs:x}=e,D=zs(e);let P,f;try{if(s.shapeFlag&4){const M=l||n,w=M;P=_t(c.call(w,M,h,S,m,p,_)),f=r}else{const M=t;P=_t(M.length>1?M(S,{attrs:r,slots:o,emit:d}):M(S,null)),f=t.props?r:Qr(r)}}catch(M){Xn.length=0,Zs(M,e,1),P=J(nn)}let E=P;if(f&&x!==!1){const M=Object.keys(f),{shapeFlag:w}=E;M.length&&w&7&&(a&&M.some(Nl)&&(f=eu(f,a)),E=$n(E,f,!1,!0))}return s.dirs&&(E=$n(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&ql(E,s.transition),P=E,zs(D),P}const Qr=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ns(s))&&((t||(t={}))[s]=e[s]);return t},eu=(e,t)=>{const s={};for(const n in e)(!Nl(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function tu(e,t,s){const{props:n,children:l,component:a}=e,{props:o,children:r,patchFlag:d}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?$a(n,o,c):!!o;if(d&8){const h=t.dynamicProps;for(let S=0;S<h.length;S++){const p=h[S];if(o[p]!==n[p]&&!Xs(c,p))return!0}}}else return(l||r)&&(!r||!r.$stable)?!0:n===o?!1:n?o?$a(n,o,c):!0:!!o;return!1}function $a(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let l=0;l<n.length;l++){const a=n[l];if(t[a]!==e[a]&&!Xs(s,a))return!0}return!1}function nu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Hi={},Ji=()=>Object.create(Hi),Gi=e=>Object.getPrototypeOf(e)===Hi;function su(e,t,s,n=!1){const l={},a=Ji();e.propsDefaults=Object.create(null),Zi(e,t,l,a);for(const o in e.propsOptions[0])o in l||(l[o]=void 0);s?e.props=n?l:or(l):e.type.props?e.props=l:e.props=a,e.attrs=a}function lu(e,t,s,n){const{props:l,attrs:a,vnode:{patchFlag:o}}=e,r=de(l),[d]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let S=0;S<h.length;S++){let p=h[S];if(Xs(e.emitsOptions,p))continue;const m=t[p];if(d)if(pe(a,p))m!==a[p]&&(a[p]=m,c=!0);else{const _=tn(p);l[_]=Il(d,r,_,m,e,!1)}else m!==a[p]&&(a[p]=m,c=!0)}}}else{Zi(e,t,l,a)&&(c=!0);let h;for(const S in r)(!t||!pe(t,S)&&((h=gn(S))===S||!pe(t,h)))&&(d?s&&(s[S]!==void 0||s[h]!==void 0)&&(l[S]=Il(d,r,S,void 0,e,!0)):delete l[S]);if(a!==r)for(const S in a)(!t||!pe(t,S))&&(delete a[S],c=!0)}c&&Ft(e.attrs,"set","")}function Zi(e,t,s,n){const[l,a]=e.propsOptions;let o=!1,r;if(t)for(let d in t){if(Kn(d))continue;const c=t[d];let h;l&&pe(l,h=tn(d))?!a||!a.includes(h)?s[h]=c:(r||(r={}))[h]=c:Xs(e.emitsOptions,d)||(!(d in n)||c!==n[d])&&(n[d]=c,o=!0)}if(a){const d=de(s),c=r||be;for(let h=0;h<a.length;h++){const S=a[h];s[S]=Il(l,d,S,c[S],e,!pe(c,S))}}return o}function Il(e,t,s,n,l,a){const o=e[s];if(o!=null){const r=pe(o,"default");if(r&&n===void 0){const d=o.default;if(o.type!==Function&&!o.skipFactory&&se(d)){const{propsDefaults:c}=l;if(s in c)n=c[s];else{const h=ds(l);n=c[s]=d.call(null,t),h()}}else n=d;l.ce&&l.ce._setProp(s,n)}o[0]&&(a&&!r?n=!1:o[1]&&(n===""||n===gn(s))&&(n=!0))}return n}const au=new WeakMap;function Yi(e,t,s=!1){const n=s?au:t.propsCache,l=n.get(e);if(l)return l;const a=e.props,o={},r=[];let d=!1;if(!se(e)){const h=S=>{d=!0;const[p,m]=Yi(S,t,!0);Xe(o,p),m&&r.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!d)return _e(e)&&n.set(e,Rn),Rn;if(Q(a))for(let h=0;h<a.length;h++){const S=tn(a[h]);Ia(S)&&(o[S]=be)}else if(a)for(const h in a){const S=tn(h);if(Ia(S)){const p=a[h],m=o[S]=Q(p)||se(p)?{type:p}:Xe({},p),_=m.type;let x=!1,D=!0;if(Q(_))for(let P=0;P<_.length;++P){const f=_[P],E=se(f)&&f.name;if(E==="Boolean"){x=!0;break}else E==="String"&&(D=!1)}else x=se(_)&&_.name==="Boolean";m[0]=x,m[1]=D,(x||pe(m,"default"))&&r.push(S)}}const c=[o,r];return _e(e)&&n.set(e,c),c}function Ia(e){return e[0]!=="$"&&!Kn(e)}const Xl=e=>e==="_"||e==="_ctx"||e==="$stable",Ql=e=>Q(e)?e.map(_t):[_t(e)],iu=(e,t,s)=>{if(t._n)return t;const n=Sr((...l)=>Ql(t(...l)),s);return n._c=!1,n},qi=(e,t,s)=>{const n=e._ctx;for(const l in e){if(Xl(l))continue;const a=e[l];if(se(a))t[l]=iu(l,a,n);else if(a!=null){const o=Ql(a);t[l]=()=>o}}},Xi=(e,t)=>{const s=Ql(t);e.slots.default=()=>s},Qi=(e,t,s)=>{for(const n in t)(s||!Xl(n))&&(e[n]=t[n])},ou=(e,t,s)=>{const n=e.slots=Ji();if(e.vnode.shapeFlag&32){const l=t._;l?(Qi(n,t,s),s&&ci(n,"_",l,!0)):qi(t,n)}else t&&Xi(e,t)},ru=(e,t,s)=>{const{vnode:n,slots:l}=e;let a=!0,o=be;if(n.shapeFlag&32){const r=t._;r?s&&r===1?a=!1:Qi(l,t,s):(a=!t.$stable,qi(t,l)),o=t}else t&&(Xi(e,t),o={default:1});if(a)for(const r in l)!Xl(r)&&o[r]==null&&delete l[r]},at=hu;function uu(e){return cu(e)}function cu(e,t){const s=Ks();s.__VUE__=!0;const{insert:n,remove:l,patchProp:a,createElement:o,createText:r,createComment:d,setText:c,setElementText:h,parentNode:S,nextSibling:p,setScopeId:m=St,insertStaticContent:_}=e,x=(g,y,R,V=null,$=null,A=null,j=void 0,L=null,W=!!y.dynamicChildren)=>{if(g===y)return;g&&!Nn(g,y)&&(V=Mt(g),Me(g,$,A,!0),g=null),y.patchFlag===-2&&(W=!1,y.dynamicChildren=null);const{type:I,ref:q,shapeFlag:H}=y;switch(I){case Qs:D(g,y,R,V);break;case nn:P(g,y,R,V);break;case ks:g==null&&f(y,R,V,j);break;case ze:te(g,y,R,V,$,A,j,L,W);break;default:H&1?w(g,y,R,V,$,A,j,L,W):H&6?me(g,y,R,V,$,A,j,L,W):(H&64||H&128)&&I.process(g,y,R,V,$,A,j,L,W,vt)}q!=null&&$?Gn(q,g&&g.ref,A,y||g,!y):q==null&&g&&g.ref!=null&&Gn(g.ref,null,A,g,!0)},D=(g,y,R,V)=>{if(g==null)n(y.el=r(y.children),R,V);else{const $=y.el=g.el;y.children!==g.children&&c($,y.children)}},P=(g,y,R,V)=>{g==null?n(y.el=d(y.children||""),R,V):y.el=g.el},f=(g,y,R,V)=>{[g.el,g.anchor]=_(g.children,y,R,V,g.el,g.anchor)},E=({el:g,anchor:y},R,V)=>{let $;for(;g&&g!==y;)$=p(g),n(g,R,V),g=$;n(y,R,V)},M=({el:g,anchor:y})=>{let R;for(;g&&g!==y;)R=p(g),l(g),g=R;l(y)},w=(g,y,R,V,$,A,j,L,W)=>{if(y.type==="svg"?j="svg":y.type==="math"&&(j="mathml"),g==null)O(y,R,V,$,A,j,L,W);else{const I=g.el&&g.el._isVueCE?g.el:null;try{I&&I._beginPatch(),u(g,y,$,A,j,L,W)}finally{I&&I._endPatch()}}},O=(g,y,R,V,$,A,j,L)=>{let W,I;const{props:q,shapeFlag:H,transition:Y,dirs:ee}=g;if(W=g.el=o(g.type,A,q&&q.is,q),H&8?h(W,g.children):H&16&&T(g.children,W,null,V,$,yl(g,A),j,L),ee&&rn(g,null,V,"created"),z(W,g,g.scopeId,j,V),q){for(const ge in q)ge!=="value"&&!Kn(ge)&&a(W,ge,null,q[ge],A,V);"value"in q&&a(W,"value",null,q.value,A),(I=q.onVnodeBeforeMount)&&bt(I,V,g)}ee&&rn(g,null,V,"beforeMount");const ie=du($,Y);ie&&Y.beforeEnter(W),n(W,y,R),((I=q&&q.onVnodeMounted)||ie||ee)&&at(()=>{I&&bt(I,V,g),ie&&Y.enter(W),ee&&rn(g,null,V,"mounted")},$)},z=(g,y,R,V,$)=>{if(R&&m(g,R),V)for(let A=0;A<V.length;A++)m(g,V[A]);if($){let A=$.subTree;if(y===A||no(A.type)&&(A.ssContent===y||A.ssFallback===y)){const j=$.vnode;z(g,j,j.scopeId,j.slotScopeIds,$.parent)}}},T=(g,y,R,V,$,A,j,L,W=0)=>{for(let I=W;I<g.length;I++){const q=g[I]=L?qt(g[I]):_t(g[I]);x(null,q,y,R,V,$,A,j,L)}},u=(g,y,R,V,$,A,j)=>{const L=y.el=g.el;let{patchFlag:W,dynamicChildren:I,dirs:q}=y;W|=g.patchFlag&16;const H=g.props||be,Y=y.props||be;let ee;if(R&&un(R,!1),(ee=Y.onVnodeBeforeUpdate)&&bt(ee,R,y,g),q&&rn(y,g,R,"beforeUpdate"),R&&un(R,!0),(H.innerHTML&&Y.innerHTML==null||H.textContent&&Y.textContent==null)&&h(L,""),I?k(g.dynamicChildren,I,L,R,V,yl(y,$),A):j||K(g,y,L,null,R,V,yl(y,$),A,!1),W>0){if(W&16)v(L,H,Y,R,$);else if(W&2&&H.class!==Y.class&&a(L,"class",null,Y.class,$),W&4&&a(L,"style",H.style,Y.style,$),W&8){const ie=y.dynamicProps;for(let ge=0;ge<ie.length;ge++){const ue=ie[ge],Re=H[ue],We=Y[ue];(We!==Re||ue==="value")&&a(L,ue,Re,We,$,R)}}W&1&&g.children!==y.children&&h(L,y.children)}else!j&&I==null&&v(L,H,Y,R,$);((ee=Y.onVnodeUpdated)||q)&&at(()=>{ee&&bt(ee,R,y,g),q&&rn(y,g,R,"updated")},V)},k=(g,y,R,V,$,A,j)=>{for(let L=0;L<y.length;L++){const W=g[L],I=y[L],q=W.el&&(W.type===ze||!Nn(W,I)||W.shapeFlag&198)?S(W.el):R;x(W,I,q,null,V,$,A,j,!0)}},v=(g,y,R,V,$)=>{if(y!==R){if(y!==be)for(const A in y)!Kn(A)&&!(A in R)&&a(g,A,y[A],null,$,V);for(const A in R){if(Kn(A))continue;const j=R[A],L=y[A];j!==L&&A!=="value"&&a(g,A,L,j,$,V)}"value"in R&&a(g,"value",y.value,R.value,$)}},te=(g,y,R,V,$,A,j,L,W)=>{const I=y.el=g?g.el:r(""),q=y.anchor=g?g.anchor:r("");let{patchFlag:H,dynamicChildren:Y,slotScopeIds:ee}=y;ee&&(L=L?L.concat(ee):ee),g==null?(n(I,R,V),n(q,R,V),T(y.children||[],R,q,$,A,j,L,W)):H>0&&H&64&&Y&&g.dynamicChildren?(k(g.dynamicChildren,Y,R,$,A,j,L),(y.key!=null||$&&y===$.subTree)&&eo(g,y,!0)):K(g,y,R,q,$,A,j,L,W)},me=(g,y,R,V,$,A,j,L,W)=>{y.slotScopeIds=L,g==null?y.shapeFlag&512?$.ctx.activate(y,R,V,j,W):we(y,R,V,$,A,j,W):Z(g,y,W)},we=(g,y,R,V,$,A,j)=>{const L=g.component=_u(g,V,$);if(Di(g)&&(L.ctx.renderer=vt),Su(L,!1,j),L.asyncDep){if($&&$.registerDep(L,B,j),!g.el){const W=L.subTree=J(nn);P(null,W,y,R),g.placeholder=W.el}}else B(L,g,y,R,$,A,j)},Z=(g,y,R)=>{const V=y.component=g.component;if(tu(g,y,R))if(V.asyncDep&&!V.asyncResolved){N(V,y,R);return}else V.next=y,V.update();else y.el=g.el,V.vnode=y},B=(g,y,R,V,$,A,j)=>{const L=()=>{if(g.isMounted){let{next:H,bu:Y,u:ee,parent:ie,vnode:ge}=g;{const nt=to(g);if(nt){H&&(H.el=ge.el,N(g,H,j)),nt.asyncDep.then(()=>{g.isUnmounted||L()});return}}let ue=H,Re;un(g,!1),H?(H.el=ge.el,N(g,H,j)):H=ge,Y&&Rs(Y),(Re=H.props&&H.props.onVnodeBeforeUpdate)&&bt(Re,ie,H,ge),un(g,!0);const We=Pa(g),$e=g.subTree;g.subTree=We,x($e,We,S($e.el),Mt($e),g,$,A),H.el=We.el,ue===null&&nu(g,We.el),ee&&at(ee,$),(Re=H.props&&H.props.onVnodeUpdated)&&at(()=>bt(Re,ie,H,ge),$)}else{let H;const{el:Y,props:ee}=y,{bm:ie,m:ge,parent:ue,root:Re,type:We}=g,$e=Zn(y);un(g,!1),ie&&Rs(ie),!$e&&(H=ee&&ee.onVnodeBeforeMount)&&bt(H,ue,y),un(g,!0);{Re.ce&&Re.ce._def.shadowRoot!==!1&&Re.ce._injectChildStyle(We);const nt=g.subTree=Pa(g);x(null,nt,R,V,g,$,A),y.el=nt.el}if(ge&&at(ge,$),!$e&&(H=ee&&ee.onVnodeMounted)){const nt=y;at(()=>bt(H,ue,nt),$)}(y.shapeFlag&256||ue&&Zn(ue.vnode)&&ue.vnode.shapeFlag&256)&&g.a&&at(g.a,$),g.isMounted=!0,y=R=V=null}};g.scope.on();const W=g.effect=new vi(L);g.scope.off();const I=g.update=W.run.bind(W),q=g.job=W.runIfDirty.bind(W);q.i=g,q.id=g.uid,W.scheduler=()=>Yl(q),un(g,!0),I()},N=(g,y,R)=>{y.component=g;const V=g.vnode.props;g.vnode=y,g.next=null,lu(g,y.props,V,R),ru(g,y.children,R),Dt(),Ea(g),Wt()},K=(g,y,R,V,$,A,j,L,W=!1)=>{const I=g&&g.children,q=g?g.shapeFlag:0,H=y.children,{patchFlag:Y,shapeFlag:ee}=y;if(Y>0){if(Y&128){Pe(I,H,R,V,$,A,j,L,W);return}else if(Y&256){he(I,H,R,V,$,A,j,L,W);return}}ee&8?(q&16&&gt(I,$,A),H!==I&&h(R,H)):q&16?ee&16?Pe(I,H,R,V,$,A,j,L,W):gt(I,$,A,!0):(q&8&&h(R,""),ee&16&&T(H,R,V,$,A,j,L,W))},he=(g,y,R,V,$,A,j,L,W)=>{g=g||Rn,y=y||Rn;const I=g.length,q=y.length,H=Math.min(I,q);let Y;for(Y=0;Y<H;Y++){const ee=y[Y]=W?qt(y[Y]):_t(y[Y]);x(g[Y],ee,R,null,$,A,j,L,W)}I>q?gt(g,$,A,!0,!1,H):T(y,R,V,$,A,j,L,W,H)},Pe=(g,y,R,V,$,A,j,L,W)=>{let I=0;const q=y.length;let H=g.length-1,Y=q-1;for(;I<=H&&I<=Y;){const ee=g[I],ie=y[I]=W?qt(y[I]):_t(y[I]);if(Nn(ee,ie))x(ee,ie,R,null,$,A,j,L,W);else break;I++}for(;I<=H&&I<=Y;){const ee=g[H],ie=y[Y]=W?qt(y[Y]):_t(y[Y]);if(Nn(ee,ie))x(ee,ie,R,null,$,A,j,L,W);else break;H--,Y--}if(I>H){if(I<=Y){const ee=Y+1,ie=ee<q?y[ee].el:V;for(;I<=Y;)x(null,y[I]=W?qt(y[I]):_t(y[I]),R,ie,$,A,j,L,W),I++}}else if(I>Y)for(;I<=H;)Me(g[I],$,A,!0),I++;else{const ee=I,ie=I,ge=new Map;for(I=ie;I<=Y;I++){const Ue=y[I]=W?qt(y[I]):_t(y[I]);Ue.key!=null&&ge.set(Ue.key,I)}let ue,Re=0;const We=Y-ie+1;let $e=!1,nt=0;const Rt=new Array(We);for(I=0;I<We;I++)Rt[I]=0;for(I=ee;I<=H;I++){const Ue=g[I];if(Re>=We){Me(Ue,$,A,!0);continue}let st;if(Ue.key!=null)st=ge.get(Ue.key);else for(ue=ie;ue<=Y;ue++)if(Rt[ue-ie]===0&&Nn(Ue,y[ue])){st=ue;break}st===void 0?Me(Ue,$,A,!0):(Rt[st-ie]=I+1,st>=nt?nt=st:$e=!0,x(Ue,y[st],R,null,$,A,j,L,W),Re++)}const ln=$e?fu(Rt):Rn;for(ue=ln.length-1,I=We-1;I>=0;I--){const Ue=ie+I,st=y[Ue],ct=y[Ue+1],re=Ue+1<q?ct.el||ct.placeholder:V;Rt[I]===0?x(null,st,R,re,$,A,j,L,W):$e&&(ue<0||I!==ln[ue]?je(st,R,re,2):ue--)}}},je=(g,y,R,V,$=null)=>{const{el:A,type:j,transition:L,children:W,shapeFlag:I}=g;if(I&6){je(g.component.subTree,y,R,V);return}if(I&128){g.suspense.move(y,R,V);return}if(I&64){j.move(g,y,R,vt);return}if(j===ze){n(A,y,R);for(let H=0;H<W.length;H++)je(W[H],y,R,V);n(g.anchor,y,R);return}if(j===ks){E(g,y,R);return}if(V!==2&&I&1&&L)if(V===0)L.beforeEnter(A),n(A,y,R),at(()=>L.enter(A),$);else{const{leave:H,delayLeave:Y,afterLeave:ee}=L,ie=()=>{g.ctx.isUnmounted?l(A):n(A,y,R)},ge=()=>{A._isLeaving&&A[Er](!0),H(A,()=>{ie(),ee&&ee()})};Y?Y(A,ie,ge):ge()}else n(A,y,R)},Me=(g,y,R,V=!1,$=!1)=>{const{type:A,props:j,ref:L,children:W,dynamicChildren:I,shapeFlag:q,patchFlag:H,dirs:Y,cacheIndex:ee}=g;if(H===-2&&($=!1),L!=null&&(Dt(),Gn(L,null,R,g,!0),Wt()),ee!=null&&(y.renderCache[ee]=void 0),q&256){y.ctx.deactivate(g);return}const ie=q&1&&Y,ge=!Zn(g);let ue;if(ge&&(ue=j&&j.onVnodeBeforeUnmount)&&bt(ue,y,g),q&6)bn(g.component,R,V);else{if(q&128){g.suspense.unmount(R,V);return}ie&&rn(g,null,y,"beforeUnmount"),q&64?g.type.remove(g,y,R,vt,V):I&&!I.hasOnce&&(A!==ze||H>0&&H&64)?gt(I,y,R,!1,!0):(A===ze&&H&384||!$&&q&16)&&gt(W,y,R),V&&Et(g)}(ge&&(ue=j&&j.onVnodeUnmounted)||ie)&&at(()=>{ue&&bt(ue,y,g),ie&&rn(g,null,y,"unmounted")},R)},Et=g=>{const{type:y,el:R,anchor:V,transition:$}=g;if(y===ze){vn(R,V);return}if(y===ks){M(g);return}const A=()=>{l(R),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(g.shapeFlag&1&&$&&!$.persisted){const{leave:j,delayLeave:L}=$,W=()=>j(R,A);L?L(g.el,A,W):W()}else A()},vn=(g,y)=>{let R;for(;g!==y;)R=p(g),l(g),g=R;l(y)},bn=(g,y,R)=>{const{bum:V,scope:$,job:A,subTree:j,um:L,m:W,a:I}=g;Fa(W),Fa(I),V&&Rs(V),$.stop(),A&&(A.flags|=8,Me(j,g,y,R)),L&&at(L,y),at(()=>{g.isUnmounted=!0},y)},gt=(g,y,R,V=!1,$=!1,A=0)=>{for(let j=A;j<g.length;j++)Me(g[j],y,R,V,$)},Mt=g=>{if(g.shapeFlag&6)return Mt(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=p(g.anchor||g.el),R=y&&y[xr];return R?p(R):y};let Ut=!1;const sn=(g,y,R)=>{g==null?y._vnode&&Me(y._vnode,null,null,!0):x(y._vnode||null,g,y,null,null,null,R),y._vnode=g,Ut||(Ut=!0,Ea(),Ai(),Ut=!1)},vt={p:x,um:Me,m:je,r:Et,mt:we,mc:T,pc:K,pbc:k,n:Mt,o:e};return{render:sn,hydrate:void 0,createApp:Br(sn)}}function yl({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function un({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function du(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eo(e,t,s=!1){const n=e.children,l=t.children;if(Q(n)&&Q(l))for(let a=0;a<n.length;a++){const o=n[a];let r=l[a];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=l[a]=qt(l[a]),r.el=o.el),!s&&r.patchFlag!==-2&&eo(o,r)),r.type===Qs&&r.patchFlag!==-1&&(r.el=o.el),r.type===nn&&!r.el&&(r.el=o.el)}}function fu(e){const t=e.slice(),s=[0];let n,l,a,o,r;const d=e.length;for(n=0;n<d;n++){const c=e[n];if(c!==0){if(l=s[s.length-1],e[l]<c){t[n]=l,s.push(n);continue}for(a=0,o=s.length-1;a<o;)r=a+o>>1,e[s[r]]<c?a=r+1:o=r;c<e[s[a]]&&(a>0&&(t[n]=s[a-1]),s[a]=n)}}for(a=s.length,o=s[a-1];a-- >0;)s[a]=o,o=t[o];return s}function to(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:to(t)}function Fa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const no=e=>e.__isSuspense;function hu(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):_r(e)}const ze=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),ks=Symbol.for("v-stc"),Xn=[];let it=null;function C(e=!1){Xn.push(it=e?null:[])}function pu(){Xn.pop(),it=Xn[Xn.length-1]||null}let ss=1;function Aa(e,t=!1){ss+=e,e<0&&it&&t&&(it.hasOnce=!0)}function so(e){return e.dynamicChildren=ss>0?it||Rn:null,pu(),ss>0&&it&&it.push(e),e}function F(e,t,s,n,l,a){return so(i(e,t,s,n,l,a,!0))}function Mn(e,t,s,n,l){return so(J(e,t,s,n,l,!0))}function lo(e){return e?e.__v_isVNode===!0:!1}function Nn(e,t){return e.type===t.type&&e.key===t.key}const ao=({key:e})=>e??null,Ts=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Oe(e)||ke(e)||se(e)?{i:ut,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,n=0,l=null,a=e===ze?0:1,o=!1,r=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ao(t),ref:t&&Ts(t),scopeId:Oi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:ut};return r?(ea(d,s),a&128&&e.normalize(d)):s&&(d.shapeFlag|=Oe(s)?8:16),ss>0&&!o&&it&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&it.push(d),d}const J=mu;function mu(e,t=null,s=null,n=0,l=null,a=!1){if((!e||e===Or)&&(e=nn),lo(e)){const r=$n(e,t,!0);return s&&ea(r,s),ss>0&&!a&&it&&(r.shapeFlag&6?it[it.indexOf(e)]=r:it.push(r)),r.patchFlag=-2,r}if(Mu(e)&&(e=e.__vccOpts),t){t=gu(t);let{class:r,style:d}=t;r&&!Oe(r)&&(t.class=De(r)),_e(d)&&(Gs(d)&&!Q(d)&&(d=Xe({},d)),t.style=jl(d))}const o=Oe(e)?1:no(e)?128:wr(e)?64:_e(e)?4:se(e)?2:0;return i(e,t,s,n,l,o,a,!0)}function gu(e){return e?Gs(e)||Gi(e)?Xe({},e):e:null}function $n(e,t,s=!1,n=!1){const{props:l,ref:a,patchFlag:o,children:r,transition:d}=e,c=t?vu(l||{},t):l,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ao(c),ref:t&&t.ref?s&&a?Q(a)?a.concat(Ts(t)):[a,Ts(t)]:Ts(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ze?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&ql(h,d.clone(h)),h}function ht(e=" ",t=0){return J(Qs,null,e,t)}function ls(e,t){const s=J(ks,null,e);return s.staticCount=t,s}function U(e="",t=!1){return t?(C(),Mn(nn,null,e)):J(nn,null,e)}function _t(e){return e==null||typeof e=="boolean"?J(nn):Q(e)?J(ze,null,e.slice()):lo(e)?qt(e):J(Qs,null,String(e))}function qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function ea(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(n&65){const l=t.default;l&&(l._c&&(l._d=!1),ea(e,l()),l._c&&(l._d=!0));return}else{s=32;const l=t._;!l&&!Gi(t)?t._ctx=ut:l===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:ut},s=32):(t=String(t),n&64?(s=16,t=[ht(t)]):s=8);e.children=t,e.shapeFlag|=s}function vu(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const l in n)if(l==="class")t.class!==n.class&&(t.class=De([t.class,n.class]));else if(l==="style")t.style=jl([t.style,n.style]);else if(Ns(l)){const a=t[l],o=n[l];o&&a!==o&&!(Q(a)&&a.includes(o))&&(t[l]=a?[].concat(a,o):o)}else l!==""&&(t[l]=n[l])}return t}function bt(e,t,s,n=null){wt(e,t,7,[s,n])}const bu=ji();let yu=0;function _u(e,t,s){const n=e.type,l=(t?t.appContext:e.appContext)||bu,a={uid:yu++,vnode:e,type:n,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yi(n,l),emitsOptions:Ki(n,l),emit:null,emitted:null,propsDefaults:be,inheritAttrs:n.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=qr.bind(null,a),e.ce&&e.ce(a),a}let qe=null;const io=()=>qe||ut;let Ds,Fl;{const e=Ks(),t=(s,n)=>{let l;return(l=e[s])||(l=e[s]=[]),l.push(n),a=>{l.length>1?l.forEach(o=>o(a)):l[0](a)}};Ds=t("__VUE_INSTANCE_SETTERS__",s=>qe=s),Fl=t("__VUE_SSR_SETTERS__",s=>as=s)}const ds=e=>{const t=qe;return Ds(e),e.scope.on(),()=>{e.scope.off(),Ds(t)}},za=()=>{qe&&qe.scope.off(),Ds(null)};function oo(e){return e.vnode.shapeFlag&4}let as=!1;function Su(e,t=!1,s=!1){t&&Fl(t);const{props:n,children:l}=e.vnode,a=oo(e);su(e,n,a,t),ou(e,l,s||t);const o=a?xu(e,t):void 0;return t&&Fl(!1),o}function xu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vr);const{setup:n}=s;if(n){Dt();const l=e.setupContext=n.length>1?Eu(e):null,a=ds(e),o=rs(n,e,0,[e.props,l]),r=ii(o);if(Wt(),a(),(r||e.sp)&&!Zn(e)&&Vi(e),r){if(o.then(za,za),t)return o.then(d=>{Oa(e,d)}).catch(d=>{Zs(d,e,0)});e.asyncDep=o}else Oa(e,o)}else ro(e)}function Oa(e,t,s){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=$i(t)),ro(e)}function ro(e,t,s){const n=e.type;e.render||(e.render=n.render||St);{const l=ds(e);Dt();try{Dr(e)}finally{Wt(),l()}}}const wu={get(e,t){return Ke(e,"get",""),e[t]}};function Eu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,wu),slots:e.slots,emit:e.emit,expose:t}}function el(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy($i(Zl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Yn)return Yn[s](e)},has(t,s){return s in t||s in Yn}})):e.proxy}function Mu(e){return se(e)&&"__vccOpts"in e}const ce=(e,t)=>mr(e,t,as),Ru="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Al;const Va=typeof window<"u"&&window.trustedTypes;if(Va)try{Al=Va.createPolicy("vue",{createHTML:e=>e})}catch{}const uo=Al?e=>Al.createHTML(e):e=>e,ku="http://www.w3.org/2000/svg",Tu="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Da=It&&It.createElement("template"),Cu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const l=t==="svg"?It.createElementNS(ku,e):t==="mathml"?It.createElementNS(Tu,e):s?It.createElement(e,{is:s}):It.createElement(e);return e==="select"&&n&&n.multiple!=null&&l.setAttribute("multiple",n.multiple),l},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,l,a){const o=s?s.previousSibling:t.lastChild;if(l&&(l===a||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),s),!(l===a||!(l=l.nextSibling)););else{Da.innerHTML=uo(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const r=Da.content;if(n==="svg"||n==="mathml"){const d=r.firstChild;for(;d.firstChild;)r.appendChild(d.firstChild);r.removeChild(d)}t.insertBefore(r,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Pu=Symbol("_vtc");function $u(e,t,s){const n=e[Pu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ws=Symbol("_vod"),co=Symbol("_vsh"),rt={name:"show",beforeMount(e,{value:t},{transition:s}){e[Ws]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ln(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Ln(e,!0),n.enter(e)):n.leave(e,()=>{Ln(e,!1)}):Ln(e,t))},beforeUnmount(e,{value:t}){Ln(e,t)}};function Ln(e,t){e.style.display=t?e[Ws]:"none",e[co]=!t}const Iu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Au(e,t,s){const n=e.style,l=Oe(s);let a=!1;if(s&&!l){if(t)if(Oe(t))for(const o of t.split(";")){const r=o.slice(0,o.indexOf(":")).trim();s[r]==null&&Cs(n,r,"")}else for(const o in t)s[o]==null&&Cs(n,o,"");for(const o in s)o==="display"&&(a=!0),Cs(n,o,s[o])}else if(l){if(t!==s){const o=n[Iu];o&&(s+=";"+o),n.cssText=s,a=Fu.test(s)}}else t&&e.removeAttribute("style");Ws in e&&(e[Ws]=a?n.display:"",e[co]&&(n.display="none"))}const Wa=/\s*!important$/;function Cs(e,t,s){if(Q(s))s.forEach(n=>Cs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=zu(e,t);Wa.test(s)?e.setProperty(gn(n),s.replace(Wa,""),"important"):e[n]=s}}const Na=["Webkit","Moz","ms"],_l={};function zu(e,t){const s=_l[t];if(s)return s;let n=tn(t);if(n!=="filter"&&n in e)return _l[t]=n;n=ui(n);for(let l=0;l<Na.length;l++){const a=Na[l]+n;if(a in e)return _l[t]=a}return t}const La="http://www.w3.org/1999/xlink";function ja(e,t,s,n,l,a=Do(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,s):s==null||a&&!di(s)?e.removeAttribute(t):e.setAttribute(t,a?"":xt(s)?String(s):s)}function Ua(e,t,s,n,l){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?uo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const r=a==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(r!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=di(s):s==null&&r==="string"?(s="",o=!0):r==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(l||t)}function Xt(e,t,s,n){e.addEventListener(t,s,n)}function Ou(e,t,s,n){e.removeEventListener(t,s,n)}const Ba=Symbol("_vei");function Vu(e,t,s,n,l=null){const a=e[Ba]||(e[Ba]={}),o=a[t];if(n&&o)o.value=n;else{const[r,d]=Du(t);if(n){const c=a[t]=Lu(n,l);Xt(e,r,c,d)}else o&&(Ou(e,r,o,d),a[t]=void 0)}}const Ka=/(?:Once|Passive|Capture)$/;function Du(e){let t;if(Ka.test(e)){t={};let n;for(;n=e.match(Ka);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gn(e.slice(2)),t]}let Sl=0;const Wu=Promise.resolve(),Nu=()=>Sl||(Wu.then(()=>Sl=0),Sl=Date.now());function Lu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;wt(ju(n,s.value),t,5,[n])};return s.value=e,s.attached=Nu(),s}function ju(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>l=>!l._stopped&&n&&n(l))}else return t}const Ha=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Uu=(e,t,s,n,l,a)=>{const o=l==="svg";t==="class"?$u(e,n,o):t==="style"?Au(e,s,n):Ns(t)?Nl(t)||Vu(e,t,s,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bu(e,t,n,o))?(Ua(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ja(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Oe(n))?Ua(e,tn(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ja(e,t,n,o))};function Bu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ha(t)&&se(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Ha(t)&&Oe(s)?!1:t in e}const In=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?s=>Rs(t,s):t};function Ku(e){e.target.composing=!0}function Ja(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vt=Symbol("_assign");function Ga(e,t,s){return t&&(e=e.trim()),s&&(e=Bs(e)),e}const $t={created(e,{modifiers:{lazy:t,trim:s,number:n}},l){e[Vt]=In(l);const a=n||l.props&&l.props.type==="number";Xt(e,t?"change":"input",o=>{o.target.composing||e[Vt](Ga(e.value,s,a))}),(s||a)&&Xt(e,"change",()=>{e.value=Ga(e.value,s,a)}),t||(Xt(e,"compositionstart",Ku),Xt(e,"compositionend",Ja),Xt(e,"change",Ja))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:l,number:a}},o){if(e[Vt]=In(o),e.composing)return;const r=(a||e.type==="number")&&!/^0\d/.test(e.value)?Bs(e.value):e.value,d=t??"";r!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||l&&e.value.trim()===d)||(e.value=d))}},Hu={created(e,{value:t},s){e.checked=Cn(t,s.props.value),e[Vt]=In(s),Xt(e,"change",()=>{e[Vt](is(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Vt]=In(n),t!==s&&(e.checked=Cn(t,n.props.value))}},Za={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const l=Ls(t);Xt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?Bs(is(o)):is(o));e[Vt](e.multiple?l?new Set(a):a:a[0]),e._assigning=!0,Ys(()=>{e._assigning=!1})}),e[Vt]=In(n)},mounted(e,{value:t}){Ya(e,t)},beforeUpdate(e,t,s){e[Vt]=In(s)},updated(e,{value:t}){e._assigning||Ya(e,t)}};function Ya(e,t){const s=e.multiple,n=Q(t);if(!(s&&!n&&!Ls(t))){for(let l=0,a=e.options.length;l<a;l++){const o=e.options[l],r=is(o);if(s)if(n){const d=typeof r;d==="string"||d==="number"?o.selected=t.some(c=>String(c)===String(r)):o.selected=No(t,r)>-1}else o.selected=t.has(r);else if(Cn(is(o),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function is(e){return"_value"in e?e._value:e.value}const Ju=["ctrl","shift","alt","meta"],Gu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ju.some(s=>e[`${s}Key`]&&!t.includes(s))},pn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((l,...a)=>{for(let o=0;o<t.length;o++){const r=Gu[t[o]];if(r&&r(l,t))return}return e(l,...a)}))},Zu=Xe({patchProp:Uu},Cu);let qa;function Yu(){return qa||(qa=uu(Zu))}const qu=((...e)=>{const t=Yu().createApp(...e),{mount:s}=t;return t.mount=n=>{const l=Qu(n);if(!l)return;const a=t._component;!se(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const o=s(l,!1,Xu(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),o},t});function Xu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qu(e){return Oe(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fo;const tl=e=>fo=e,ho=Symbol();function zl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qn||(Qn={}));function ec(){const e=mi(!0),t=e.run(()=>le({}));let s=[],n=[];const l=Zl({install(a){tl(l),l._a=a,a.provide(ho,l),a.config.globalProperties.$pinia=l,n.forEach(o=>s.push(o)),n=[]},use(a){return this._a?s.push(a):n.push(a),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return l}const po=()=>{};function Xa(e,t,s,n=po){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),n())};return!s&&gi()&&Lo(l),l}function xn(e,...t){e.slice().forEach(s=>{s(...t)})}const tc=e=>e(),Qa=Symbol(),xl=Symbol();function Ol(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],l=e[s];zl(l)&&zl(n)&&e.hasOwnProperty(s)&&!ke(n)&&!zt(n)?e[s]=Ol(l,n):e[s]=n}return e}const nc=Symbol();function sc(e){return!zl(e)||!e.hasOwnProperty(nc)}const{assign:Gt}=Object;function lc(e){return!!(ke(e)&&e.effect)}function ac(e,t,s,n){const{state:l,actions:a,getters:o}=t,r=s.state.value[e];let d;function c(){r||(s.state.value[e]=l?l():{});const h=dr(s.state.value[e]);return Gt(h,a,Object.keys(o||{}).reduce((S,p)=>(S[p]=Zl(ce(()=>{tl(s);const m=s._s.get(e);return o[p].call(m,m)})),S),{}))}return d=mo(e,c,t,s,n,!0),d}function mo(e,t,s={},n,l,a){let o;const r=Gt({actions:{}},s),d={deep:!0};let c,h,S=[],p=[],m;const _=n.state.value[e];!a&&!_&&(n.state.value[e]={}),le({});let x;function D(T){let u;c=h=!1,typeof T=="function"?(T(n.state.value[e]),u={type:Qn.patchFunction,storeId:e,events:m}):(Ol(n.state.value[e],T),u={type:Qn.patchObject,payload:T,storeId:e,events:m});const k=x=Symbol();Ys().then(()=>{x===k&&(c=!0)}),h=!0,xn(S,u,n.state.value[e])}const P=a?function(){const{state:u}=s,k=u?u():{};this.$patch(v=>{Gt(v,k)})}:po;function f(){o.stop(),S=[],p=[],n._s.delete(e)}const E=(T,u="")=>{if(Qa in T)return T[xl]=u,T;const k=function(){tl(n);const v=Array.from(arguments),te=[],me=[];function we(N){te.push(N)}function Z(N){me.push(N)}xn(p,{args:v,name:k[xl],store:w,after:we,onError:Z});let B;try{B=T.apply(this&&this.$id===e?this:w,v)}catch(N){throw xn(me,N),N}return B instanceof Promise?B.then(N=>(xn(te,N),N)).catch(N=>(xn(me,N),Promise.reject(N))):(xn(te,B),B)};return k[Qa]=!0,k[xl]=u,k},M={_p:n,$id:e,$onAction:Xa.bind(null,p),$patch:D,$reset:P,$subscribe(T,u={}){const k=Xa(S,T,u.detached,()=>v()),v=o.run(()=>Ot(()=>n.state.value[e],te=>{(u.flush==="sync"?h:c)&&T({storeId:e,type:Qn.direct,events:m},te)},Gt({},d,u)));return k},$dispose:f},w=Js(M);n._s.set(e,w);const z=(n._a&&n._a.runWithContext||tc)(()=>n._e.run(()=>(o=mi()).run(()=>t({action:E}))));for(const T in z){const u=z[T];if(ke(u)&&!lc(u)||zt(u))a||(_&&sc(u)&&(ke(u)?u.value=_[T]:Ol(u,_[T])),n.state.value[e][T]=u);else if(typeof u=="function"){const k=E(u,T);z[T]=k,r.actions[T]=u}}return Gt(w,z),Gt(de(w),z),Object.defineProperty(w,"$state",{get:()=>n.state.value[e],set:T=>{D(u=>{Gt(u,T)})}}),n._p.forEach(T=>{Gt(w,o.run(()=>T({store:w,app:n._a,pinia:n,options:r})))}),_&&a&&s.hydrate&&s.hydrate(w.$state,_),c=!0,h=!0,w}/*! #__NO_SIDE_EFFECTS__ */function fs(e,t,s){let n,l;const a=typeof t=="function";typeof e=="string"?(n=e,l=a?s:t):(l=e,n=e.id);function o(r,d){const c=Hr();return r=r||(c?qn(ho,null):null),r&&tl(r),r=fo,r._s.has(n)||(a?mo(n,t,l,r):ac(n,l,r)),r._s.get(n)}return o.$id=n,o}const ei=.25,ic=.055,ti={aktien:.7,misch:.85,renten:1},oc=1e3,go=.08,vo=.09,Ze=12,rc=100,ni={2025:2.53,2024:2.29,2023:2.55,2022:-.05,2021:-.45,2020:.07,2019:.52,2018:.87};function uc(e,t=2.53){return ni[e]!==void 0?ni[e]:t}const si=5,cc="2.1.0",bo={fire:{name:"FIRE / Frhrente",description:"Lange Ansparphase, hohe ETF-Quote, 3.5% Entnahme",values:{savings_years:25,withdrawal_years:40,monthly_savings:200,monthly_etf:800,savings_target:1e4,monthly_payout_percent:3.5,rent_mode:"percent",etf_rate_pa:7,inflation_adjust_withdrawal:!0}},classic:{name:"Klassische Rente",description:"67  95, moderate ETF-Quote, konservativere Entnahme",values:{savings_years:35,withdrawal_years:28,monthly_savings:150,monthly_etf:350,savings_target:8e3,monthly_payout_percent:4,rent_mode:"percent",etf_rate_pa:6,capital_preservation_enabled:!0}},education:{name:"Bildungskonto / Studium",description:"Krzere Laufzeit, Entnahmen ber 3-6 Jahre",values:{savings_years:18,withdrawal_years:5,monthly_savings:50,monthly_etf:150,savings_target:3e3,monthly_payout_net:800,rent_mode:"eur",inflation_adjust_withdrawal:!0}},emergency:{name:"Notgroschen-Fokus",description:"Aggressiver Aufbau des Tagesgeldziels, konservativ in ETF",values:{savings_years:10,withdrawal_years:25,monthly_savings:300,monthly_etf:100,savings_target:15e3,monthly_payout_percent:3,rent_mode:"percent",etf_rate_pa:5}}},yo={none:{name:"Standard (Zufllig)",description:"Normale Monte-Carlo-Simulation mit zuflligen Renditen",returns:null},early_crash:{name:"Frher Crash",description:"-30% im 1. Rentenjahr, langsame Erholung ber 5 Jahre",returns:[-.3,-.1,.05,.08,.1,.12,.08,.07,.06,.06]},sideways:{name:"Seitwrtsmarkt",description:"0% Realrendite ber 10 Jahre",returns:[.02,.01,-.01,.02,0,-.02,.03,-.01,.01,0]},bear_market:{name:"Brenmarkt-Phase",description:"3-5 Jahre leicht negative Renditen, danach normal",returns:[-.05,-.08,-.03,-.02,.02,.08,.1,.07,.06,.06]},late_crash:{name:"Spter Crash",description:"Normaler Start, Crash nach 5 Jahren",returns:[.08,.1,.07,.09,.06,-.35,-.15,.1,.12,.08]}},cn=(e="A",t="Szenario A")=>({id:e,name:t,startSavings:4e3,startEtf:100,startEtfCostBasis:0,savingsRate:3,etfRate:6,etfTer:.2,savingsTarget:5e3,inflationRate:2,isMarried:!1,sparerpauschbetrag:1e3,kirchensteuer:"keine",basiszins:2.53,fondstyp:"aktien",lossPot:0,useLifo:!1,yearsSave:36,monthlySavings:100,monthlyEtf:150,annualRaise:3,specialSavings:15e3,specialSavingsInterval:10,inflationAdjustSpecialSavings:!0,yearsWithdraw:30,rentMode:"eur",rentEur:1e3,rentPercent:4,rentIsGross:!1,withdrawalMin:0,withdrawalMax:0,inflationAdjustWithdrawal:!0,specialWithdraw:15e3,specialWithdrawInterval:10,inflationAdjustSpecialWithdrawal:!0,capitalPreservationEnabled:!1,capitalPreservationThreshold:80,capitalPreservationReduction:25,capitalPreservationRecovery:10,mcIterations:1e3,mcVolatility:15,mcShowIndividual:!1,mcSuccessThreshold:100,mcRuinThreshold:10,mcSeed:0,stressScenario:"none",mcInflationMode:"deterministic",mcInflationVolatility:1.5,mcInflationFloor:-1,mcInflationCap:10,mcCashRateMode:"deterministic",mcCashRateVolatility:1,mcCorrInflationCash:.7,mcCorrReturnInflation:-.1,mcSavingShockMode:"off",mcSavingShockPNeg:.03,mcSavingShockPPos:.05,mcSavingShockFactorNeg:0,mcSavingShockFactorPos:1.15,mcSavingShockDurationNeg:12,mcExtraExpenseMode:"off",mcExtraExpenseProbability:.05,mcExtraExpensePercent:5,mcExtraExpenseFixed:1e4,mcCrashMode:"off",mcCrashProbability:.03,mcCrashDropMin:-.25,mcCrashDropMax:-.45}),mt=fs("scenario",()=>{const e=le({A:cn("A","Szenario A")}),t=le("A"),s=ce(()=>e.value[t.value]),n=ce(()=>Object.keys(e.value)),l=ce(()=>n.value.length>1);function a(){try{const w=localStorage.getItem("etf_scenarios");if(w){const O=JSON.parse(w);for(const z of Object.keys(O.scenarios||{}))e.value[z]={...cn(z),...O.scenarios[z]};O.activeId&&e.value[O.activeId]&&(t.value=O.activeId)}}catch(w){console.warn("Failed to load scenarios from storage:",w)}}function o(){try{localStorage.setItem("etf_scenarios",JSON.stringify({scenarios:e.value,activeId:t.value}))}catch(w){console.warn("Failed to save scenarios to storage:",w)}}function r(w){e.value[w]&&(t.value=w)}function d(){const w=["A","B","C"],O=Object.keys(e.value),z=w.find(T=>!O.includes(T));z&&(e.value[z]=cn(z,`Szenario ${z}`),t.value=z,o())}function c(w){Object.keys(e.value).length<=1||(delete e.value[w],t.value===w&&(t.value=Object.keys(e.value)[0]),o())}function h(w){Object.assign(e.value[t.value],w),o()}function S(w,O){e.value[w]&&(e.value[w].name=O,o())}function p(w){const O={savings_years:"yearsSave",withdrawal_years:"yearsWithdraw",monthly_savings:"monthlySavings",monthly_etf:"monthlyEtf",savings_target:"savingsTarget",monthly_payout_percent:"rentPercent",monthly_payout_net:"rentEur",rent_mode:"rentMode",etf_rate_pa:"etfRate",savings_rate_pa:"savingsRate",inflation_adjust_withdrawal:"inflationAdjustWithdrawal",capital_preservation_enabled:"capitalPreservationEnabled",capital_preservation_threshold:"capitalPreservationThreshold",capital_preservation_reduction:"capitalPreservationReduction",capital_preservation_recovery:"capitalPreservationRecovery",stress_scenario:"stressScenario"},z={};for(const[T,u]of Object.entries(w)){const k=O[T]||T;z[k]=u}return z}function m(w){const O=bo[w];if(O){const z=p(O.values);Object.assign(e.value[t.value],z),o()}}function _(){e.value[t.value]=cn(t.value,`Szenario ${t.value}`),o()}function x(){const w=s.value,O={version:"3.0.0",exportedAt:new Date().toISOString(),scenario:{...w}},z=JSON.stringify(O,null,2),T=new Blob([z],{type:"application/json"}),u=URL.createObjectURL(T),k=document.createElement("a");k.href=u,k.download=`etf_szenario_${w.name.replace(/\s+/g,"_")}_${M()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(u)}function D(w){return new Promise((O,z)=>{const T=new FileReader;T.onload=u=>{try{const k=JSON.parse(u.target.result);if(!k.scenario)throw new Error("Ungltiges Szenario-Format");const v={...cn(),...k.scenario};v.id=t.value,v.name=k.scenario.name||`Importiert ${M()}`,e.value[t.value]=v,o(),O(v)}catch(k){z(new Error(`Import fehlgeschlagen: ${k.message}`))}},T.onerror=()=>z(new Error("Datei konnte nicht gelesen werden")),T.readAsText(w)})}function P(){const w=s.value,O=cn(),z={};for(const[k,v]of Object.entries(w))k!=="id"&&k!=="name"&&v!==O[k]&&(z[k]=v);z.name=w.name;const T=btoa(encodeURIComponent(JSON.stringify(z)));return`${window.location.origin}${window.location.pathname}#scenario=${T}`}async function f(){const w=P();try{return await navigator.clipboard.writeText(w),{success:!0,url:w}}catch(O){return{success:!1,url:w,error:O.message}}}function E(){const w=window.location.hash;if(!w.startsWith("#scenario="))return!1;try{const O=w.replace("#scenario=",""),z=decodeURIComponent(atob(O)),T=JSON.parse(z),u={...cn(),...T};return u.id=t.value,e.value[t.value]=u,o(),history.replaceState(null,"",window.location.pathname),!0}catch(O){return console.warn("Failed to load scenario from URL:",O),!1}}function M(){const w=new Date;return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`}return Ot(e,o,{deep:!0}),{scenarios:e,activeScenarioId:t,activeScenario:s,scenarioIds:n,hasMultipleScenarios:l,initFromStorage:a,saveToStorage:o,setActiveScenario:r,addScenario:d,removeScenario:c,renameScenario:S,updateScenario:h,applyPreset:m,resetScenario:_,exportScenarioAsJson:x,importScenarioFromJson:D,generateShareUrl:P,copyShareUrl:f,loadFromShareUrl:E}});let mn=Math.random;function wl(e){return Math.pow(1+e/100,1/Ze)-1}function dc(e){return e/Math.sqrt(12)}function fc(e=0){const t=ei*(1+ic);return e===0?t:e===go?.27818:e===vo?.27995:t+ei*e}function Ps(e=0,t=1){let s,n;do s=mn(),n=mn();while(s===0);return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*n)*t+e}function hc(e,t){const s=e.length,n=pc(t),l=new Array(s).fill(0);for(let a=0;a<s;a++)for(let o=0;o<=a;o++)l[a]+=n[a][o]*e[o];return l}function pc(e){const t=e.length,s=Array(t).fill(null).map(()=>Array(t).fill(0));for(let n=0;n<t;n++)for(let l=0;l<=n;l++){let a=0;for(let o=0;o<l;o++)a+=s[n][o]*s[l][o];n===l?s[n][l]=Math.sqrt(Math.max(0,e[n][n]-a)):s[n][l]=s[l][l]>0?(e[n][l]-a)/s[l][l]:0}return s}function mc(e,t,s){const{inflationMode:n="deterministic",inflationVolatility:l=1.5,inflationFloor:a=-1,inflationCap:o=10,cashRateMode:r="deterministic",cashRateVolatility:d=1,corrInflationCash:c=.7,corrReturnInflation:h=-.1,crashMode:S="off",crashProbability:p=.03,crashDropMin:m=-.25,crashDropMax:_=-.45}=t,x=s.inflation_rate_pa||0,D=s.savings_rate_pa||0,P=new Array(e),f=new Array(e),E=new Array(e).fill(null),M=new Array(e).fill(0),w=n==="random"||r==="random";for(let O=0;O<e;O++){if(w){const z=[Ps(),Ps(),Ps()],T=[[1,c,h],[c,1,h*.5],[h,h*.5,1]],u=hc(z,T);if(n==="random"){let k=x+u[0]*l;k=Math.max(a,Math.min(o,k)),P[O]=k}else P[O]=x;if(r==="random"){let k=D+u[1]*d;k=Math.max(-.5,Math.min(15,k)),f[O]=k}else f[O]=D;M[O]=u[2]}else P[O]=x,f[O]=D;if(S==="simple"&&mn()<p){const T=m+mn()*(_-m);E[O]=T}}return{annualInflation:P,annualCashRates:f,annualCrashEvents:E,annualReturnShocks:M}}function gc(e,t){const{savingShockMode:s="off",savingShockPNeg:n=.03,savingShockPPos:l=.05,savingShockFactorNeg:a=0,savingShockFactorPos:o=1.15,savingShockDurationNeg:r=12}=t;if(s==="off")return{shockFactors:null,baselineMultipliers:null};const d=e,c=new Array(d).fill(1),h=new Array(d).fill(1);let S=1,p=0,m=1;for(let _=0;_<d;_++)_%12===0&&(mn()<l&&(S*=o),p<=0&&mn()<n&&(p=r,m=a)),h[_]=S,p>0?(c[_]=m,p--):c[_]=1;return{shockFactors:c,baselineMultipliers:h}}function vc(e,t){const{extraExpenseMode:s="off",extraExpenseProbability:n=.05,extraExpensePercent:l=5,extraExpenseFixed:a=1e4}=t;if(s==="off")return null;const o=new Array(e).fill(null);for(let r=0;r<e;r++)mn()<n&&(s==="percent_of_wealth"?o[r]={type:"percent",value:l/100}:s==="fixed_real"&&(o[r]={type:"fixed",value:a}));return o}function bc(e,t=.01){if(e.length<=1)return e;const s=new Map;for(const n of e){if(n.amount<=0)continue;const a=(Math.round(n.price/t)*t).toFixed(4);if(s.has(a)){const o=s.get(a),r=o.amount+n.amount,d=(o.price*o.amount+n.price*n.amount)/r;o.amount=r,o.price=d,o.monthIdx=Math.min(o.monthIdx,n.monthIdx)}else s.set(a,{...n})}return Array.from(s.values()).sort((n,l)=>n.monthIdx-l.monthIdx)}function Vl(e,t,s,n,l,a,o=0,r=!0,d=.7){let c=0,h=n,S=o,p=0,m=0;for(;e>.01&&t.length;){const _=r?0:t.length-1,x=t[_],D=s-x.price,P=Math.max(0,l-h);let f;if(D>0){const T=D*d,u=Math.min(T>0?S/T:Number.POSITIVE_INFINITY,x.amount),k=Math.min(T>0?P/T:Number.POSITIVE_INFINITY,x.amount-u),v=u+k,te=e/s;if(te<=v)f=te;else{const me=v*s,we=e-me,Z=T*a,B=s-Z;if(B<=0)break;const N=we/B;f=v+N}}else f=e/s;const E=Math.min(f,x.amount);p+=E*s;const w=E*D*d;m+=w;let O=0;if(w>0){const T=Math.min(w,S);S-=T;const u=w-T,k=Math.max(0,l-h),v=Math.min(u,k);h+=v,O=(u-v)*a}else w<0&&(S+=Math.abs(w));const z=E*s-O;e-=z,c+=O,f>=x.amount?r?t.shift():t.pop():x.amount-=E}return{remaining:e,taxPaid:c,yearlyUsedFreibetrag:h,lossPot:S,grossProceeds:p,taxableGainTotal:m}}function yc(e,t,s,n,l,a,o=0,r=!0,d=.7){let c=0,h=n,S=o,p=e,m=0;for(;p>.01&&t.length;){const x=r?0:t.length-1,D=t[x],P=s-D.price,f=p/s,E=Math.min(f,D.amount),M=E*s,O=E*P*d;let z=0;if(O>0){const u=Math.min(O,S);S-=u;const k=O-u,v=Math.max(0,l-h),te=Math.min(k,v);h+=te,z=(k-te)*a}else O<0&&(S+=Math.abs(O));const T=M-z;m+=T,c+=z,p-=M,f>=D.amount?r?t.shift():t.pop():D.amount-=E}const _=p>.01?p:0;return{netProceeds:m,taxPaid:c,yearlyUsedFreibetrag:h,lossPot:S,shortfall:_}}function El(e,t,s,n,l,a,o,r=0,d=!0,c=.7){if(e<=0)return{savings:t,yearlyUsedFreibetrag:l,lossPot:r,taxPaidOriginal:0,saleTax:0,totalTaxRecorded:0,shortfall:0};let h=e,S=r;const p=Math.min(t,h);t-=p,h-=p;let m=0;if(h>.01&&s.length){const P=Vl(h,s,n,l,a,o,S,d,c);h=P.remaining,m=P.taxPaid,l=P.yearlyUsedFreibetrag,S=P.lossPot}h=Math.max(0,h);const _=e-h,x=h>.01?h:0,D=_+m;return{savings:t,yearlyUsedFreibetrag:l,lossPot:S,taxPaidOriginal:_,saleTax:m,totalTaxRecorded:D,shortfall:x}}function _c(e,t,s,n){const l=yo[e];if(!l||!l.returns)return null;const a=t-s;if(a<=0)return null;const o=Math.floor((a-1)/12);if(o<l.returns.length){const r=l.returns[o];return Math.pow(1+r,1/12)}return null}function Sc(e,t=0,s={}){var ua,ca;const{start_savings:n,start_etf:l,start_etf_cost_basis:a=0,monthly_savings:o,monthly_etf:r,savings_rate_pa:d,etf_rate_pa:c,etf_ter_pa:h=0,savings_target:S,annual_raise_percent:p,savings_years:m,withdrawal_years:_,monthly_payout_net:x,monthly_payout_percent:D,withdrawal_min:P=0,withdrawal_max:f=0,inflation_adjust_withdrawal:E=!0,special_payout_net_savings:M,special_interval_years_savings:w,inflation_adjust_special_savings:O=!0,special_payout_net_withdrawal:z,special_interval_years_withdrawal:T,inflation_adjust_special_withdrawal:u=!0,inflation_rate_pa:k=0,sparerpauschbetrag:v=oc,kirchensteuer:te="keine",basiszins:me=2.53,use_lifo:we=!1,rent_is_gross:Z=!1,capital_preservation_enabled:B=!1,capital_preservation_threshold:N=80,capital_preservation_reduction:K=25,capital_preservation_recovery:he=10,loss_pot:Pe=0,fondstyp:je="aktien"}=e,{stressScenario:Me="none",startYear:Et=new Date().getFullYear(),inflationMode:vn="deterministic",inflationVolatility:bn=1.5,inflationFloor:gt=-1,inflationCap:Mt=10,cashRateMode:Ut="deterministic",cashRateVolatility:sn=1,corrInflationCash:vt=.7,corrReturnInflation:An=-.1,savingShockMode:g="off",savingShockPNeg:y=.03,savingShockPPos:R=.05,savingShockFactorNeg:V=0,savingShockFactorPos:$=1.15,savingShockDurationNeg:A=12,extraExpenseMode:j="off",extraExpenseProbability:L=.05,extraExpensePercent:W=5,extraExpenseFixed:I=1e4,crashMode:q="off",crashProbability:H=.03,crashDropMin:Y=-.25,crashDropMax:ee=-.45}=s,ie=t>0,ge=Me&&Me!=="none",ue=ie?dc(t/100):0,Re=ti[je]||ti.aktien;let We=0;te==="8"?We=go:te==="9"&&(We=vo);const $e=fc(We),nt=m+_,Rt=m*Ze,ln=mc(nt,{inflationMode:vn,inflationVolatility:bn,inflationFloor:gt,inflationCap:Mt,cashRateMode:Ut,cashRateVolatility:sn,corrInflationCash:vt,corrReturnInflation:An,crashMode:q,crashProbability:H,crashDropMin:Y,crashDropMax:ee},e),Ue=gc(Rt,{savingShockMode:g,savingShockPNeg:y,savingShockPPos:R,savingShockFactorNeg:V,savingShockFactorPos:$,savingShockDurationNeg:A}),st=vc(_,{extraExpenseMode:j,extraExpenseProbability:L,extraExpensePercent:W,extraExpenseFixed:I}),ct=[];let re=n,Ee=rc;const Ve=[];if(l>0){const Fe=l/Ee,Je=(a>0?a:l)/Fe;Ve.push({amount:Fe,price:Je,monthIdx:0})}const xo=c-h,aa=wl(xo),wo=p/100,Eo=nt*Ze;let sl=re>=S,He=0,ia=0,oa=!1,yn=x,ll=D,Bt=null,ps=null,an=1,al=!1,ra=0,il=Ee,Ie=Pe,zn=0,Kt=0;for(let Fe=1;Fe<=Eo;Fe+=1){const kt=Fe<=Rt,Je=Math.floor((Fe-1)/Ze),on=(Fe-1)%Ze+1;let ol=0,ms=0,dt=0,On=0,gs=1;const Ne=ln.annualInflation[Je]??k,vs=ln.annualCashRates[Je]??d,rl=wl(Ne),da=wl(vs),bs=ln.annualCrashEvents[Je];an*=1+rl;const ul=Ve.reduce((fe,Te)=>fe+Te.amount,0)*Ee,fa=re+ul;if(Je!==ia){if(He=0,Kt>0){const fe=Math.min(Kt,Ie);Ie-=fe;const Te=Kt-fe,Le=Math.min(Te,v);He=Le;const ne=Math.max(0,Te-Le)*$e,Ce=El(ne,re,Ve,Ee,He,v,$e,Ie,!we,Re);re=Ce.savings,He=Ce.yearlyUsedFreibetrag,Ie=Ce.lossPot,ol=Ce.taxPaidOriginal,Ce.taxPaidOriginal,ms+=Ce.totalTaxRecorded,dt+=Ce.shortfall}ia=Je,il=Ee,zn=0,Kt=0}let Qe;const ha=ge?_c(Me,Fe,Rt):null;if(ha!==null)Qe=ha,Ee*=Qe;else if(bs!==null&&on===1){const fe=1+bs;Qe=Math.pow(fe,1/12),Ee*=Qe}else if(bs!==null){const fe=1+bs;Qe=Math.pow(fe,1/12),Ee*=Qe}else if(ie){const Te=Math.log(1+aa)-.5*ue*ue,tt=ln.annualReturnShocks[Je]??0,Se=Ps(0,1)*.9+tt*.1;Qe=Math.exp(Te+ue*Se),Ee*=Qe}else Qe=1+aa,Ee*=Qe;const Mo=ul*(Qe-1),ys=re*da;let cl=0;zn+=ys,re+=ys;let pa=0,_n=0,ma=0,et=0,Vn=ms,Tt=0,Dn=0,_s=0,ga=!1,Ss=0;if(kt){const fe=Math.pow(1+wo,Je),Te=Fe-1,tt=((ua=Ue.baselineMultipliers)==null?void 0:ua[Te])??1,Le=((ca=Ue.shockFactors)==null?void 0:ca[Te])??1;gs=Le;const Se=o*fe*tt*Le,ne=r*fe*tt*Le;if(sl?_n=ne+Se:(re+=Se,pa=Se,_n=ne),re>S&&(ma=re-S,re=S,_n+=ma,sl=!0),_n>0){const oe=_n/Ee;Ve.push({amount:oe,price:Ee,monthIdx:Fe})}if(w>0&&Fe%(w*Ze)===0&&Fe>0){let oe=M;if(O){const Ct=Fe/Ze;oe=M*Math.pow(1+k/100,Ct)}let Ae=oe;et=Ae;const Ht=Math.max(0,re-S);if(Ht>0){const Ct=Math.min(Ht,Ae);re-=Ct,Ae-=Ct}const Jt=Vl(Ae,Ve,Ee,He,v,$e,Ie,!we,Re);if(Ae=Jt.remaining,Vn+=Jt.taxPaid,He=Jt.yearlyUsedFreibetrag,Ie=Jt.lossPot,Ae>.01){const Ct=Math.min(re,Ae);re-=Ct,Ae-=Ct,re<S&&(sl=!1)}Ae<0&&(re+=Math.abs(Ae),Ae=0),Tt=et-Math.max(0,Ae)}}else{if(Bt===null){const ne=Ve.reduce((Ce,oe)=>Ce+oe.amount,0);Bt=re+ne*Ee,D!=null&&!oa?(yn=Bt*(D/100)/12,ps=yn,oa=!0,ll=D):yn!=null&&(ps=yn,ll=Bt>0?yn*12/Bt*100:0)}let fe=yn||0;if(E&&ps!=null){const ne=Je-m;fe=ps*Math.pow(1+k/100,ne)}if(P>0&&fe<P&&(fe=P),f>0&&fe>f&&(fe=f),B&&Bt>0){const ne=Ve.reduce((Ht,Jt)=>Ht+Jt.amount,0),Ce=re+ne*Ee,oe=Bt*(N/100),Ae=Bt*((N+he)/100);Ce<oe?al=!0:Ce>=Ae&&(al=!1),al&&(fe=fe*(1-K/100),ga=!0,ra++)}const Te=fe;let tt=0,Le=fe;if(T>0&&Fe%(T*Ze)===0){if(tt=z,u){const ne=Fe/Ze;tt=z*Math.pow(1+k/100,ne)}Le+=tt}const Se=Je-m;if(st&&Se>=0&&on===1){const ne=st[Se];if(ne){if(ne.type==="percent"){const Ce=Ve.reduce((Ae,Ht)=>Ae+Ht.amount,0);On=(re+Ce*Ee)*ne.value}else ne.type==="fixed"&&(On=ne.value*an);Le+=On}}if(Le>0){let ne=Le;et=Le;const Ce=Math.max(0,re-S);if(Ce>0){const oe=Math.min(Ce,ne);re-=oe,ne-=oe,Z&&(Ss+=oe)}if(Z&&ne>0){const oe=yc(ne,Ve,Ee,He,v,$e,Ie,!we,Re),Ae=oe.netProceeds;Vn+=oe.taxPaid,He=oe.yearlyUsedFreibetrag,Ie=oe.lossPot,ne=oe.shortfall,Tt=et-ne,Ss+=Ae}else if(ne>0){const oe=Vl(ne,Ve,Ee,He,v,$e,Ie,!we,Re);ne=oe.remaining,Vn+=oe.taxPaid,He=oe.yearlyUsedFreibetrag,Ie=oe.lossPot}if(ne>.01){const oe=Math.min(re,ne);re-=oe,ne-=oe,Z&&(Ss+=oe)}ne<0&&(re+=Math.abs(ne),ne=0),Z||(Tt=et-Math.max(0,ne))}if(et>0&&Tt<et){const ne=Tt/et;_s=Te*ne}else _s=Te}let dl=0;if(on===12){if(zn>0){const tt=Math.min(zn,Ie);Ie-=tt;const Le=zn-tt,Se=Math.max(0,v-He),ne=Math.min(Le,Se);if(He+=ne,cl=Math.max(0,Le-ne)*$e,cl>.01){const oe=El(cl,re,Ve,Ee,He,v,$e,Ie,!we,Re);re=oe.savings,He=oe.yearlyUsedFreibetrag,Ie=oe.lossPot,Vn+=oe.totalTaxRecorded,dt+=oe.shortfall}}const fe=Et+Je,Te=uc(fe,me);if(Te>0){const tt=Je*Ze,Le=.7;for(const Se of Ve){if(Se.amount<=0)continue;const ne=Se.monthIdx>tt,Ce=ne?Se.amount*Se.price:Se.amount*il;let oe=1;ne&&(oe=(12-((Se.monthIdx-1)%Ze+1)+1)/12);const Ae=Ce*(Te/100)*Le*oe,Ht=Se.amount*Ee,Jt=ne?Se.amount*Se.price:Se.amount*il,Ct=Math.max(0,Ht-Jt),fl=Math.min(Ae,Ct);fl>0&&(dl+=fl,Se.price+=fl/Se.amount)}dl>0&&(Kt=dl*Re)}}if(on===12&&Ve.length>50){const fe=bc(Ve);Ve.length=0,Ve.push(...fe)}const va=Ve.reduce((fe,Te)=>fe+Te.amount,0)*Ee,ba=re+va,Ro=kt?null:et>0?et:null,ko=et>0?Math.max(0,et-Tt):0;!kt&&et>0?Z?Dn=Ss:Dn=Tt:Dn=0;const To=1+da;let ya=Qe;if(fa>0){const fe=ul/fa,Te=1-fe;ya=fe*Qe+Te*To}ct.push({month:Fe,year:Je+1,phase:kt?"Anspar":"Entnahme",savings:re,etf:va,total:ba,total_real:ba/an,savings_contrib:pa,etf_contrib:_n,savings_interest:ys,withdrawal:Tt,withdrawal_real:Tt/an,withdrawal_net:Dn,withdrawal_net_real:Dn/an,withdrawal_requested:et,shortfall:ko,tax_shortfall:dt,monthly_payout:_s,monthly_payout_real:_s/an,tax_paid:Vn,vorabpauschale_tax:ol,payout_value:Ro,payout_percent_pa:kt?null:ll,return_gain:Mo+ys,etfReturn:Qe,portfolioReturn:ya,cumulative_inflation:an,capital_preservation_active:ga||!1,yearly_used_freibetrag:He,loss_pot:Ie,extra_expense:On,saving_shock_factor:gs,inflation_rate_year:Ne,cash_rate_year:vs})}if(Kt>0&&ct.length>0){const Fe=Math.min(Kt,Ie);Ie-=Fe;const kt=Kt-Fe,on=Math.min(kt,v),ms=Math.max(0,kt-on)*$e,dt=El(ms,re,Ve,Ee,on,v,$e,Ie,!we,Re);re=dt.savings,Ie=dt.lossPot;const gs=Ve.reduce((vs,rl)=>vs+rl.amount,0)*Ee,Ne=ct[ct.length-1];Ne.savings=re,Ne.etf=gs,Ne.total=Ne.savings+Ne.etf,Ne.total_real=Ne.total/Ne.cumulative_inflation,Ne.tax_paid+=dt.totalTaxRecorded,Ne.vorabpauschale_tax=(Ne.vorabpauschale_tax||0)+dt.taxPaidOriginal,Ne.pending_vorabpauschale_tax=dt.taxPaidOriginal,Ne.loss_pot=Ie,dt.shortfall>.01&&(Ne.tax_shortfall=(Ne.tax_shortfall||0)+dt.shortfall),re<0&&(re=0)}return ct.length>0&&(ct.capitalPreservationMonths=ra,ct.capitalPreservationEnabled=B),ct}function xc(e,t){if(!e||e.length===0)return null;const s=e[e.length-1],n=t.savings_years*Ze,l=Math.min(n-1,e.length-1),a=e[l],o=e.filter(f=>f.phase==="Anspar"),r=e.filter(f=>f.phase==="Entnahme"),d=(t.start_savings||0)+(t.start_etf||0)+o.reduce((f,E)=>f+(E.savings_contrib||0)+(E.etf_contrib||0),0),c=e.reduce((f,E)=>f+(E.return_gain||0),0),h=e.reduce((f,E)=>f+(E.tax_paid||0),0),S=e.reduce((f,E)=>f+(E.vorabpauschale_tax||0),0);let p=0,m=0,_=0,x=0;if(r.length>0){const f=r.filter(E=>E.monthly_payout>0).map(E=>E.monthly_payout);f.length>0&&(p=f.reduce((E,M)=>E+M,0)/f.length,m=Math.min(...f),_=Math.max(...f)),x=r.reduce((E,M)=>E+(M.withdrawal||0),0)}const D=e.filter(f=>f.shortfall>0),P=D.length>0;return{endTotal:s.total,endTotalReal:s.total_real,retirementTotal:(a==null?void 0:a.total)||0,retirementTotalReal:(a==null?void 0:a.total_real)||0,totalInvested:d,totalReturn:c,totalTax:h,totalVorabpauschale:S,avgWithdrawal:p,minWithdrawal:m,maxWithdrawal:_,totalWithdrawals:x,hasShortfall:P,shortfallMonths:D.length,capitalPreservationMonths:e.capitalPreservationMonths||0,finalLossPot:s.loss_pot||0,cumulativeInflation:s.cumulative_inflation||1}}const Lt=fs("simulation",()=>{const e=le([]),t=le(null),s=le(!1),n=le(null),l=ce(()=>e.value.length>0),a=ce(()=>e.value.length?e.value[e.value.length-1].total:0),o=ce(()=>e.value.length?e.value[e.value.length-1].totalReal:0);function r(){const m=mt().activeScenario;s.value=!0,n.value=null;try{const _=h(m),x=Sc(_,0,{});e.value=d(x);const D=xc(x,_);t.value=c(D,x,_)}catch(_){console.error("Simulation error:",_),n.value=_.message}finally{s.value=!1}}function d(p){return p.map(m=>({...m,totalReal:m.total_real,savingsContrib:m.savings_contrib,etfContrib:m.etf_contrib,savingsInterest:m.savings_interest,withdrawalReal:m.withdrawal_real,withdrawalNet:m.withdrawal_net,withdrawalNetReal:m.withdrawal_net_real,withdrawalRequested:m.withdrawal_requested,taxShortfall:m.tax_shortfall,monthlyPayout:m.monthly_payout,monthlyPayoutReal:m.monthly_payout_real,taxPaid:m.tax_paid,vorabpauschaleTax:m.vorabpauschale_tax,payoutValue:m.payout_value,payoutPercentPa:m.payout_percent_pa,returnGain:m.return_gain,cumulativeInflation:m.cumulative_inflation,capitalPreservationActive:m.capital_preservation_active,yearlyUsedFreibetrag:m.yearly_used_freibetrag,lossPot:m.loss_pot,phase:m.phase==="Anspar"?"saving":"withdrawal"}))}function c(p,m,_){if(!p)return null;const x=_.savings_years+_.withdrawal_years,D=m[m.length-1],P=(D==null?void 0:D.cumulative_inflation)||1,f=p.totalReturn/P,E=p.totalWithdrawals/P,M=p.avgWithdrawal/P;let w=0;p.retirementTotal>0&&p.avgWithdrawal>0&&(w=p.avgWithdrawal*12/p.retirementTotal*100);const O=(P-1)/P*100,z=p.totalInvested;let T=0;if(z>0&&x>0){const k=(p.endTotalReal+E)/z;T=(Math.pow(k,1/x)-1)*100}return{endTotal:p.endTotal,endTotalReal:p.endTotalReal,retirementWealth:p.retirementTotal,retirementWealthReal:p.retirementTotalReal,retirementTotal:p.retirementTotal,retirementTotalReal:p.retirementTotalReal,totalInvested:p.totalInvested,totalReturn:p.totalReturn,totalTax:p.totalTax,totalVorabpauschale:p.totalVorabpauschale,avgMonthlyWithdrawal:p.avgWithdrawal,avgWithdrawal:p.avgWithdrawal,minWithdrawal:p.minWithdrawal,maxWithdrawal:p.maxWithdrawal,totalWithdrawals:p.totalWithdrawals,hasShortfall:p.hasShortfall,shortfallMonths:p.shortfallMonths,capitalPreservationMonths:p.capitalPreservationMonths,finalLossPot:p.finalLossPot,cumulativeInflation:p.cumulativeInflation,totalReturnReal:f,totalWithdrawalsReal:E,avgMonthlyWithdrawalReal:M,effectiveWithdrawalRate:w,purchasingPowerLoss:O,realReturnPa:T}}function h(p){const m=p.rentMode==="eur";return{start_savings:p.startSavings,start_etf:p.startEtf,start_etf_cost_basis:p.startEtfCostBasis||0,savings_target:p.savingsTarget,savings_years:p.yearsSave,withdrawal_years:p.yearsWithdraw,monthly_savings:p.monthlySavings,monthly_etf:p.monthlyEtf,savings_rate_pa:p.savingsRate,etf_rate_pa:p.etfRate,etf_ter_pa:p.etfTer,annual_raise_percent:p.annualRaise,monthly_payout_net:m?p.rentEur:null,monthly_payout_percent:m?null:p.rentPercent,rent_is_gross:p.rentIsGross,withdrawal_min:p.withdrawalMin,withdrawal_max:p.withdrawalMax,inflation_adjust_withdrawal:p.inflationAdjustWithdrawal,special_payout_net_savings:p.specialSavings,special_interval_years_savings:p.specialSavingsInterval,inflation_adjust_special_savings:p.inflationAdjustSpecialSavings,special_payout_net_withdrawal:p.specialWithdraw,special_interval_years_withdrawal:p.specialWithdrawInterval,inflation_adjust_special_withdrawal:p.inflationAdjustSpecialWithdrawal,capital_preservation_enabled:p.capitalPreservationEnabled,capital_preservation_threshold:p.capitalPreservationThreshold,capital_preservation_reduction:p.capitalPreservationReduction,capital_preservation_recovery:p.capitalPreservationRecovery,sparerpauschbetrag:p.sparerpauschbetrag,kirchensteuer:p.kirchensteuer,basiszins:p.basiszins,use_lifo:p.useLifo,loss_pot:p.lossPot,fondstyp:p.fondstyp,inflation_rate_pa:p.inflationRate}}function S(){e.value=[],t.value=null,n.value=null}return{history:e,stats:t,isRunning:s,error:n,hasResults:l,endWealth:a,endWealthReal:o,runSimulation:r,buildSimulationParams:h,clearResults:S}}),hs=fs("monteCarlo",()=>{const e=le(null),t=le(!1),s=le(0),n=le(""),l=le(null),a=le(null),o=ce(()=>e.value!==null),r=ce(()=>e.value?e.value.successRate:0),d=ce(()=>e.value?e.value.ruinProbability:0);function c(){const p=mt(),m=Lt(),_=p.activeScenario;t.value=!0,l.value=null,s.value=0,n.value="Starte Monte-Carlo-Simulation...",console.log("[MC] startSimulation",{scenario:_}),a.value||(a.value=new Worker(new URL(""+new URL("mc-worker-entry.js",import.meta.url).href,import.meta.url),{type:"module"}),console.log("[MC] Worker created"),a.value.onmessage=E=>{const M=E.data||{},{type:w}=M;switch(console.log("[MC] Worker message",M),w){case"progress":{const{percent:O=0,eta:z}=M;s.value=O,n.value=`${O.toFixed(0)}% - ${z||"Berechne..."}`;break}case"complete":{const{results:O}=M;e.value=O||null,t.value=!1,s.value=100,n.value="Fertig!";break}case"error":{const{message:O}=M;l.value=O||"Unbekannter Fehler bei der Monte-Carlo-Simulation",t.value=!1;break}}},a.value.onerror=E=>{console.error("[MC] Worker onerror",E),l.value=E.message,t.value=!1});const x=m.buildSimulationParams(_),D=_.mcIterations||1e3,P=_.mcVolatility||15,f={seed:_.mcSeed||void 0,successThreshold:_.mcSuccessThreshold,ruinThresholdPercent:_.mcRuinThreshold??10,showIndividualPaths:!!_.mcShowIndividual,stressScenario:_.stressScenario||"none",inflationMode:_.mcInflationMode||"deterministic",inflationVolatility:_.mcInflationVolatility??1.5,inflationFloor:_.mcInflationFloor??-1,inflationCap:_.mcInflationCap??10,cashRateMode:_.mcCashRateMode||"deterministic",cashRateVolatility:_.mcCashRateVolatility??1,corrInflationCash:_.mcCorrInflationCash??.7,corrReturnInflation:_.mcCorrReturnInflation??-.1,savingShockMode:_.mcSavingShockMode||"off",savingShockPNeg:_.mcSavingShockPNeg??.03,savingShockPPos:_.mcSavingShockPPos??.05,savingShockFactorNeg:_.mcSavingShockFactorNeg??0,savingShockFactorPos:_.mcSavingShockFactorPos??1.15,savingShockDurationNeg:_.mcSavingShockDurationNeg??12,extraExpenseMode:_.mcExtraExpenseMode||"off",extraExpenseProbability:_.mcExtraExpenseProbability??.05,extraExpensePercent:_.mcExtraExpensePercent??5,extraExpenseFixed:_.mcExtraExpenseFixed??1e4,crashMode:_.mcCrashMode||"off",crashProbability:_.mcCrashProbability??.03,crashDropMin:_.mcCrashDropMin??-.25,crashDropMax:_.mcCrashDropMax??-.45};console.log("[MC] postMessage start",{params:x,iterations:D,volatility:P,mcOptions:f}),a.value.postMessage({type:"start",params:x,iterations:D,volatility:P,mcOptions:f})}function h(){a.value&&(a.value.postMessage({type:"abort"}),t.value=!1,n.value="Abgebrochen")}function S(){e.value=null,l.value=null,s.value=0,n.value=""}return{results:e,isRunning:t,progress:s,progressText:n,error:l,hasResults:o,successRate:r,ruinProbability:d,startSimulation:c,abortSimulation:h,clearResults:S}}),Fn=fs("ui",()=>{const e=le("dark"),t=le("standard"),s=le(!1),n=le(!1),l=le(!1),a=le(!1),o=le(!1),r=le(!1),d=le(!0),c=le(!0),h=le(!0),S=ce(()=>e.value==="dark");function p(){const M=localStorage.getItem("theme");if(M)e.value=M;else{const w=window.matchMedia("(prefers-color-scheme: dark)").matches;e.value=w?"dark":"light"}_()}function m(){e.value=e.value==="dark"?"light":"dark",localStorage.setItem("theme",e.value),_()}function _(){document.body.classList.toggle("theme-light",e.value==="light")}function x(M){t.value=M}function D(){s.value=!1,n.value=!1,l.value=!1,a.value=!1}function P(){o.value=!o.value}function f(){r.value=!r.value}function E(){d.value=!d.value}return{theme:e,activeTab:t,showInfoModal:s,showFormulaModal:n,showWizardModal:l,showOptimizerModal:a,expertMode:o,standardChartLogScale:r,mcChartLogScale:d,showStatsNominal:c,showMcStatsNominal:h,isDarkTheme:S,initTheme:p,toggleTheme:m,setActiveTab:x,closeAllModals:D,toggleExpertMode:P,toggleStandardChartScale:f,toggleMcChartScale:E}});function wc(e={}){const{onRunSimulation:t,onCloseModals:s,onAbortMonteCarlo:n,onToggleTab:l}=e;function a(o){if(o.ctrlKey&&o.key==="Enter"){o.preventDefault(),t==null||t();return}if(o.key==="Escape"){if(n!=null&&n())return;s==null||s();return}if(o.altKey&&["1","2","3"].includes(o.key)){o.preventDefault();const r={1:"standard",2:"monte-carlo",3:"yearly"};l==null||l(r[o.key]);return}}us(()=>{window.addEventListener("keydown",a)}),cs(()=>{window.removeEventListener("keydown",a)})}const $s=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),wn=new Intl.NumberFormat("de-DE",{minimumFractionDigits:1,maximumFractionDigits:1});function jn(e){return $s.format(e)+" "}const Un={median:"#f59e0b",band50:"rgba(99, 102, 241, 0.35)",band80:"rgba(99, 102, 241, 0.15)",p5:"#ef4444",p95:"#22c55e"};let Dl=null;function Ec(e,t={}){var we;const s=document.getElementById("mc-graph");if(!s||!e)return;const n=s.getContext("2d"),l=window.devicePixelRatio||1,a=s.getBoundingClientRect(),o=a.width,r=a.height;if(!o||!r)return;s.width=o*l,s.height=r*l,n.setTransform(l,0,0,l,0,0),n.clearRect(0,0,o,r);const{percentiles:d,percentilesReal:c,months:h,savingsYears:S}=e;if(!h||!h.length)return;const p=t.showReal??!1,m=p&&c?c:d,_=60,x=50,D=Math.max(h.length-1,1),P=m.p5.some(Z=>Z<=0)||m.p10.some(Z=>Z<=0),f=t.logScale??!0,E=1,M=m.p5.filter(Z=>Z>0),w=f?Math.max(E,M.length>0?Math.min(...M):E):0,O=Math.max(w*10,...m.p95);let z;if(f){const Z=Math.log10(w),B=Math.log10(O);z=(N,K)=>{const he=_+N/D*(o-2*_),Pe=Math.max(w,K),Me=(Math.log10(Pe)-Z)/(B-Z),Et=r-x-Me*(r-2*x);return[he,Et]}}else z=(Z,B)=>{const N=_+Z/D*(o-2*_),K=r-x-B/O*(r-2*x);return[N,K]};if(n.strokeStyle="#8b96a9",n.lineWidth=1,n.beginPath(),n.moveTo(_,r-x),n.lineTo(o-_,r-x),n.moveTo(_,r-x),n.lineTo(_,x),n.stroke(),n.font="12px 'Segoe UI', sans-serif",n.fillStyle="#94a3b8",n.textAlign="right",n.textBaseline="middle",f){const Z=Math.log10(w),B=[];let N=Math.pow(10,Math.floor(Z));for(;N<=O;)N>=w&&B.push(N),N*2>=w&&N*2<=O&&B.push(N*2),N*5>=w&&N*5<=O&&B.push(N*5),N*=10;for(const K of B){const[,he]=z(0,K);n.strokeStyle="rgba(255,255,255,0.05)",n.beginPath(),n.moveTo(_,he),n.lineTo(o-_,he),n.stroke(),n.fillStyle="#94a3b8";const Pe=K>=1e6?`${(K/1e6).toFixed(K%1e6===0?0:1)}M`:`${Math.round(K/1e3)}k`;n.fillText(Pe,_-8,he)}}else for(let Z=0;Z<=si;Z++){const B=O*(Z/si),[,N]=z(0,B);n.strokeStyle="rgba(255,255,255,0.05)",n.beginPath(),n.moveTo(_,N),n.lineTo(o-_,N),n.stroke(),n.fillStyle="#94a3b8";const K=B>=1e6?`${(B/1e6).toFixed(1)}M`:`${Math.round(B/1e3)}k`;n.fillText(K,_-8,N)}n.textAlign="center",n.textBaseline="top";const T=Math.ceil(h.length/Ze);for(let Z=1;Z<=T;Z+=1){const B=Math.min(Z*Ze-1,h.length-1),[N]=z(B,0);n.strokeStyle="rgba(255,255,255,0.15)",n.beginPath(),n.moveTo(N,r-x),n.lineTo(N,r-x+6),n.stroke(),n.fillStyle="#94a3b8",n.fillText(String(Z),N,r-x+8)}const u=(Z,B,N)=>{n.fillStyle=N,n.beginPath();for(let K=0;K<h.length;K++){const[he,Pe]=z(K,B[K]);K===0?n.moveTo(he,Pe):n.lineTo(he,Pe)}for(let K=h.length-1;K>=0;K--){const[he,Pe]=z(K,Z[K]);n.lineTo(he,Pe)}n.closePath(),n.fill()};if(u(m.p10,m.p90,Un.band80),u(m.p25,m.p75,Un.band50),t.showIndividualPaths&&((we=e.allHistories)!=null&&we.length)){n.strokeStyle="rgba(255, 255, 255, 0.08)",n.lineWidth=.5;const Z=Math.min(50,e.allHistories.length);for(let B=0;B<Z;B++){const N=e.allHistories[B];n.beginPath(),N.forEach((K,he)=>{const Pe=p&&K.total_real||K.total,[je,Me]=z(he,Pe);he===0?n.moveTo(je,Me):n.lineTo(je,Me)}),n.stroke()}}if(n.strokeStyle=Un.median,n.lineWidth=2.5,n.beginPath(),m.p50.forEach((Z,B)=>{const[N,K]=z(B,Z);B===0?n.moveTo(N,K):n.lineTo(N,K)}),n.stroke(),n.setLineDash([4,4]),n.lineWidth=1,n.strokeStyle=Un.p5,n.globalAlpha=.6,n.beginPath(),m.p5.forEach((Z,B)=>{const[N,K]=z(B,Z);B===0?n.moveTo(N,K):n.lineTo(N,K)}),n.stroke(),n.strokeStyle=Un.p95,n.beginPath(),m.p95.forEach((Z,B)=>{const[N,K]=z(B,Z);B===0?n.moveTo(N,K):n.lineTo(N,K)}),n.stroke(),n.globalAlpha=1,n.setLineDash([]),f&&P){n.fillStyle="rgba(239, 68, 68, 0.7)",n.strokeStyle="rgba(239, 68, 68, 0.9)",n.lineWidth=2,m.p5.forEach((B,N)=>{if(B<=E){const[K,he]=z(N,E);n.beginPath(),n.moveTo(K,he+6),n.lineTo(K-5,he-4),n.lineTo(K+5,he-4),n.closePath(),n.fill()}});const Z=m.p5.findIndex(B=>B<=E);if(Z>=0){const[B,N]=z(Z,E);n.font="11px 'Segoe UI', sans-serif",n.fillStyle="rgba(239, 68, 68, 0.9)",n.textAlign="left",n.textBaseline="bottom",n.fillText(" Pleite-Szenarien",B+8,N-2)}}const k=typeof t.savingsYears=="number"?t.savingsYears:null,v=k??(typeof e.savingsYears=="number"?e.savingsYears:typeof S=="number"?S:0);if(v>0){const Z=v*Ze;if(Z>=0&&Z<=h.length-1){const[B]=z(Z,0);n.strokeStyle="#6b7280",n.setLineDash([5,5]),n.lineWidth=1,n.beginPath(),n.moveTo(B,x),n.lineTo(B,r-x),n.stroke(),n.setLineDash([]),n.fillStyle="#94a3b8",n.textAlign="right",n.textBaseline="middle",n.fillText("Entnahme ",B-6,x+20)}}Dl={percentiles:m,xScale:Z=>_+Z/D*(o-2*_),yScale:null,margin:{top:x,right:_,bottom:x,left:_},width:o,height:r,numMonths:h.length}}function Mc(){const e=document.getElementById("tooltip"),t=document.getElementById("graph"),s=document.getElementById("mc-graph");if(!e)return;function n(a,o,r){e.innerHTML=r,e.style.left=`${a+15}px`,e.style.top=`${o-10}px`,e.setAttribute("data-visible","true")}function l(){e.setAttribute("data-visible","false")}t==null||t.addEventListener("mousemove",a=>{}),t==null||t.addEventListener("mouseleave",l),s==null||s.addEventListener("mousemove",a=>{if(!Dl)return;const o=s.getBoundingClientRect(),r=a.clientX-o.left,{percentiles:d,xScale:c,margin:h,width:S,numMonths:p}=Dl;if(r<h.left||r>S-h.right){l();return}const m=(r-h.left)/(S-h.left-h.right),_=Math.min(Math.round(m*(p-1)),p-1),x=Math.floor(_/12)+1,D=_%12+1,P=`
      <strong>Jahr ${x}, Monat ${D}</strong><br>
      Median: ${jn(d.p50[_])}<br>
      25-75%: ${jn(d.p25[_])} - ${jn(d.p75[_])}<br>
      10-90%: ${jn(d.p10[_])} - ${jn(d.p90[_])}
    `;n(a.clientX,a.clientY,P)}),s==null||s.addEventListener("mouseleave",l)}function li(e,t){const s=document.getElementById("risk-widget");if(!s)return;let n="unknown",l="-";if(t){const c=t.emergencyFillProbability||0;c>80?(n="good",l=`${$s.format(c)}% erreichen Ziel`):c>50?(n="warning",l=`${$s.format(c)}% erreichen Ziel`):(n="bad",l=`Nur ${$s.format(c)}% erreichen Ziel`)}let a="unknown",o="-";if(t){const c=t.ruinProbability||0;c<5?(a="good",o=`${wn.format(c)}% Pleite-Risiko`):c<15?(a="warning",o=`${wn.format(c)}% Pleite-Risiko`):(a="bad",o=`${wn.format(c)}% Pleite-Risiko`)}let r="unknown",d="-";if(t){const c=t.successRate||0;c>=95?(r="good",d=`${wn.format(c)}% Erfolg`):c>=80?(r="warning",d=`${wn.format(c)}% Erfolg`):(r="bad",d=`${wn.format(c)}% Erfolg`)}s.innerHTML=`
    <div class="risk-widget-header">
      <h4>Risiko-bersicht</h4>
    </div>
    <div class="risk-widget-grid">
      <div class="risk-item risk-item--${r}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Erfolg</span>
        <span class="risk-value">${d}</span>
      </div>
      <div class="risk-item risk-item--${a}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Ruin</span>
        <span class="risk-value">${o}</span>
      </div>
      <div class="risk-item risk-item--${n}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Notgroschen</span>
        <span class="risk-value">${l}</span>
      </div>
    </div>
  `}const Rc={class:"topbar",role:"banner"},kc={class:"topbar-actions"},Tc={__name:"TopBar",setup(e){const t=Fn();return(s,n)=>(C(),F("header",Rc,[n[6]||(n[6]=i("div",{class:"brand"},[i("div",{class:"brand__dot"}),i("div",null,[i("p",{class:"eyebrow"},"ETF & Tagesgeld"),i("h1",null,"Sparplan- & Entnahme-Simulator"),i("p",{class:"tagline"},"Interaktive Monte-Carlo-Analysen, Steuerlogik fr Deutschland und Entnahmestrategien in einem Tool.")])],-1)),i("div",kc,[i("button",{class:"btn-info",onClick:n[0]||(n[0]=l=>b(t).showInfoModal=!0),title:"Wie funktioniert die Simulation?"},[...n[3]||(n[3]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("path",{d:"M12 16v-4M12 8h.01"})],-1),i("span",null,"Wie funktioniert's?",-1)])]),i("button",{class:"btn-info",onClick:n[1]||(n[1]=l=>b(t).showFormulaModal=!0),title:"Formel-Cheatsheet anzeigen"},[...n[4]||(n[4]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),i("path",{d:"M7 12h10M9 8l-2 4 2 4"})],-1),i("span",null,"Formel-Cheatsheet",-1)])]),i("button",{class:"btn-theme",type:"button",onClick:n[2]||(n[2]=l=>b(t).toggleTheme()),"aria-label":"Theme wechseln"},[...n[5]||(n[5]=[i("span",{class:"btn-theme__icon btn-theme__icon--dark"},"",-1),i("span",{class:"btn-theme__icon btn-theme__icon--light"},"",-1)])])])]))}},Cc={class:"modal"},Pc={class:"modal-header"},$c={__name:"InfoModal",emits:["close"],setup(e){return(t,s)=>(C(),F("div",{class:"modal-overlay active",onClick:s[1]||(s[1]=pn(n=>t.$emit("close"),["self"]))},[i("div",Cc,[i("div",Pc,[s[2]||(s[2]=i("h2",null,"Wie funktioniert die Simulation?",-1)),i("button",{class:"modal-close",onClick:s[0]||(s[0]=n=>t.$emit("close")),"aria-label":"Schlieen"},"")]),s[3]||(s[3]=ls('<div class="modal-body"><section class="info-section"><h3> Simulationsbersicht</h3><p>Die Simulation berechnet deinen Vermgensverlauf in zwei Phasen:</p><ul><li><strong>Ansparphase:</strong> Monatliche Sparraten (TG + ETF), optional mit jhrlicher Dynamik. Erreicht das TG das Ziel, fliet der berschuss in den ETF.</li><li><strong>Entnahmephase:</strong> Fester EUR-Betrag oder %-Regel (z.B. 4%-Regel), optional inflationsangepasst. Entnahme-Reihenfolge: TG-berschuss  ETF  TG unter Ziel.</li><li><strong>Sonderausgaben:</strong> Grere Einmalkosten (z.B. Auto) alle X Jahre, fr beide Phasen separat einstellbar.</li></ul></section><section class="info-section"><h3> Monte-Carlo-Simulation</h3><p>Hunderte bis tausende Durchlufe mit <strong>zuflligen ETF-Renditen</strong> (normalverteilt um die erwartete Rendite). Zeigt die Verteilung mglicher Ergebnisse als Konfidenz-Bnder.</p><ul><li><strong>Volatilitt:</strong> Typisch 15-20% p.a. fr Aktien-ETFs</li><li><strong>Erfolgswahrscheinlichkeit:</strong> % der Simulationen ohne Engpass und positivem Endvermgen</li><li><strong>Perzentile:</strong> 25% (Konservativ), 50% (Median), 75% (Optimistisch)</li></ul></section><section class="info-section"><h3> Steuern (Deutschland)</h3><ul><li><strong>Kapitalertragsteuer:</strong> 26,375% (inkl. Soli), mit KiSt ~27,8-28%</li><li><strong>Teilfreistellung:</strong> 30% der ETF-Gewinne sind steuerfrei</li><li><strong>Sparerpauschbetrag:</strong> 1.000/2.000 jhrlich steuerfrei</li><li><strong>Vorabpauschale:</strong> Jhrliche Steuer auf thesaurierende ETFs (Basiszins  0,7)</li><li><strong>FIFO/LIFO:</strong> Verkaufsreihenfolge  FIFO ist gesetzlich vorgeschrieben, LIFO oft gnstiger</li><li><strong>Verlusttopf:</strong> Ein allgemeiner Topf fr ETF-Gewinne/-Verluste (nach Teilfreistellung), Zinsen und Vorabpauschale.</li></ul></section><section class="info-section"><h3> Kapitalerhalt &amp; Risiko</h3><ul><li><strong>Kapitalerhalt-Modus:</strong> Reduziert Entnahme automatisch, wenn Vermgen unter Schwellwert fllt</li><li><strong>Sequence-of-Returns-Risk:</strong> Frhe Crashs in der Entnahmephase sind besonders schdlich</li><li><strong>Strategien:</strong> Grerer Cash-Puffer, flexible Entnahme, Bond-Tent</li></ul></section><section class="info-section"><h3> Wichtige Kennzahlen</h3><ul><li><strong>Nominal vs. Real:</strong> Nominale Werte sind absolute Betrge, reale sind kaufkraftbereinigt</li><li><strong>Effektive Entnahmerate:</strong> Tatschliche jhrliche Entnahme in % des Startvermgens</li><li><strong>Kapitalerhalt-Rate:</strong> % der MC-Simulationen mit Endvermgen  Startvermgen</li><li><strong>Pleite-Risiko:</strong> % mit Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase</li></ul></section><section class="info-section"><h3> Hinweise</h3><ul><li>Simulation  Vorhersage  historische Renditen garantieren keine zuknftigen Ergebnisse</li><li>Deutsches Steuerrecht 2025  inkl. allgemeinem Verlusttopf fr ETFs, Zinsen und Vorabpauschale</li><li>Inflation, TG-Zins und TER sind fix  nur ETF-Renditen variieren in Monte-Carlo</li><li>Eingaben werden im Browser gespeichert, Export als CSV/PDF mglich</li></ul></section></div>',1))])]))}},Ic={class:"modal"},Fc={class:"modal-header"},Ac={__name:"FormulaModal",emits:["close"],setup(e){return(t,s)=>(C(),F("div",{class:"modal-overlay active",onClick:s[1]||(s[1]=pn(n=>t.$emit("close"),["self"]))},[i("div",Ic,[i("div",Fc,[s[2]||(s[2]=i("h2",null,"Formel-Cheatsheet",-1)),i("button",{class:"modal-close",onClick:s[0]||(s[0]=n=>t.$emit("close")),"aria-label":"Schlieen"},"")]),s[3]||(s[3]=ls('<div class="modal-body"><section class="info-section"><h3> Zinsen &amp; Rendite</h3><ul><li><strong>Monatszins aus Jahreszins:</strong> <code>(1 + Jahreszins/100)^(1/12) - 1</code></li><li><strong>ETF-Rendite nach Kosten:</strong> <code>ETF-Rendite p.a. - TER p.a.</code></li><li><strong>Monatsrendite ETF:</strong> <code>(1 + effektive Rendite/100)^(1/12) - 1</code></li></ul></section><section class="info-section"><h3> Tagesgeld &amp; ETF</h3><ul><li><strong>Tagesgeld-Zinsen pro Monat:</strong> <code>Kontostand  Monatszins</code></li><li><strong>Neuer TG-Saldo:</strong> <code>alter Saldo + Zinsen + Einzahlungen - Entnahmen</code></li><li><strong>Gekaufte ETF-Anteile:</strong> <code>investierter Betrag / aktueller Kurs</code></li><li><strong>ETF-Wert:</strong> <code>Anzahl Anteile  Kurs</code></li></ul></section><section class="info-section"><h3> Inflation &amp; reale Werte</h3><ul><li><strong>Monatsinflation:</strong> <code>(1 + Inflation p.a./100)^(1/12) - 1</code></li><li><strong>Inflationsfaktor:</strong> wchst jeden Monat mit <code>1 + Monatsinflation</code></li><li><strong>Vermgen real:</strong> <code>Vermgen nominal / Inflationsfaktor</code></li></ul></section><section class="info-section"><h3> Entnahmephase</h3><ul><li><strong>Start-Rente (EUR-Modus):</strong> eingegebene Monatsrente</li><li><strong>Start-Rente (%-Modus):</strong> <code>Vermgen zum Rentenstart  Entnahme% / 12</code></li><li><strong>Rente Jahr n:</strong> <code>Start-Rente  (1 + Inflation p.a./100)^n</code></li></ul></section><section class="info-section"><h3> Steuern (vereinfacht)</h3><ul><li><strong>Effektiver Steuersatz ohne KiSt:</strong> ca. 26,375 %</li><li><strong>Sparerpauschbetrag:</strong> Gewinne/Zinsen bis 1.000/2.000  pro Jahr steuerfrei</li><li><strong>Vorabpauschale Basisertrag:</strong> <code>Wert  Basiszins/100  0,7  Zeitanteil</code></li><li><strong>Vorabpauschale:</strong> <code>min(Basisertrag, tatschlicher Wertzuwachs)</code></li></ul></section><section class="info-section"><h3> Monte-Carlo (Zufallsrenditen)</h3><ul><li><strong>Monatsvolatilitt:</strong> <code>Jahresvola / 12</code></li><li><strong>Monatsrendite in Zufallssimulation:</strong> schwankt um die erwartete Monatsrendite mit obiger Volatilitt</li></ul></section></div>',1))])]))}},ta=(e,t)=>{const s=e.__vccOpts||e;for(const[n,l]of t)s[n]=l;return s},zc={class:"modal wizard-modal",role:"dialog","aria-labelledby":"wizard-title"},Oc={class:"modal-header"},Vc={class:"wizard-progress"},Dc={class:"wizard-step-number"},Wc={class:"wizard-step-label"},Nc={class:"modal-body wizard-body"},Lc={class:"wizard-page"},jc={class:"wizard-fields"},Uc={class:"field"},Bc={class:"field"},Kc={class:"field"},Hc={class:"wizard-summary-box"},Jc={class:"wizard-page"},Gc={class:"wizard-fields"},Zc={class:"field"},Yc={class:"field"},qc={class:"field"},Xc={class:"wizard-page"},Qc={class:"wizard-fields"},ed={class:"field"},td={class:"field"},nd={class:"wizard-summary-box"},sd={class:"wizard-page"},ld={class:"risk-profiles"},ad=["value"],id={class:"risk-profile-content"},od={class:"wizard-page"},rd={class:"wizard-result-grid"},ud={class:"wizard-result-item"},cd={class:"value"},dd={class:"wizard-result-item"},fd={class:"value"},hd={class:"wizard-result-item"},pd={class:"value"},md={class:"wizard-result-item"},gd={class:"value"},vd={class:"wizard-result-item"},bd={class:"value"},yd={class:"wizard-result-item"},_d={class:"value"},Sd={class:"wizard-result-item"},xd={class:"value"},wd={class:"modal-footer wizard-footer"},Ed={__name:"WizardModal",emits:["close"],setup(e,{emit:t}){const s=t,n=mt(),l=Lt(),a=le(0),o=["Alter & Rente","Budget","Vermgen","Risikoprofil","Zusammenfassung"],r=le({currentAge:30,retirementAge:67,lifeExpectancy:95,monthlyBudget:500,existingSavings:5e3,existingEtf:1e3,riskProfile:"balanced",monthlyPension:1500,emergencyMonths:6}),d=ce(()=>Math.max(1,r.value.retirementAge-r.value.currentAge)),c=ce(()=>Math.max(1,r.value.lifeExpectancy-r.value.retirementAge)),h={conservative:{name:"Konservativ",description:"Sicherheit vor Rendite, mehr Tagesgeld",savingsRatio:.5,etfRate:5,volatility:12},balanced:{name:"Ausgewogen",description:"Balance zwischen Sicherheit und Wachstum",savingsRatio:.3,etfRate:6,volatility:15},aggressive:{name:"Wachstumsorientiert",description:"Maximale Rendite, mehr Risiko",savingsRatio:.15,etfRate:7,volatility:18}},S=ce(()=>h[r.value.riskProfile]),p=ce(()=>{const P=S.value,f=r.value.monthlyBudget,E=Math.round(f*P.savingsRatio),M=f-E,w=r.value.monthlyPension||1500,O=w*r.value.emergencyMonths,z=Math.max(0,w-r.value.monthlyPension);return{yearsSave:d.value,yearsWithdraw:c.value,monthlySavings:E,monthlyEtf:M,startSavings:r.value.existingSavings,startEtf:r.value.existingEtf,savingsTarget:O,etfRate:P.etfRate,mcVolatility:P.volatility,rentEur:z,rentMode:"eur"}});function m(){a.value<o.length-1&&a.value++}function _(){a.value>0&&a.value--}function x(){const P=p.value;n.updateScenario(P),l.runSimulation(),s("close")}function D(P){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(P)}return(P,f)=>(C(),F("div",{class:"modal-overlay active",onClick:f[10]||(f[10]=pn(E=>P.$emit("close"),["self"]))},[i("div",zc,[i("header",Oc,[f[11]||(f[11]=i("h2",{id:"wizard-title"},"Setup-Assistent",-1)),i("button",{type:"button",class:"modal-close",onClick:f[0]||(f[0]=E=>P.$emit("close")),"aria-label":"Schlieen"},"")]),i("div",Vc,[(C(),F(ze,null,en(o,(E,M)=>i("div",{key:M,class:De(["wizard-step",{"wizard-step--active":a.value===M,"wizard-step--done":a.value>M}])},[i("span",Dc,G(M+1),1),i("span",Wc,G(E),1)],2)),64))]),i("div",Nc,[xe(i("div",Lc,[f[18]||(f[18]=i("h3",null,"Alter & Rentenplanung",-1)),f[19]||(f[19]=i("p",{class:"wizard-hint"},"Wie lange mchtest du sparen und entnehmen?",-1)),i("div",jc,[i("label",Uc,[f[12]||(f[12]=i("span",{class:"field-label"},"Aktuelles Alter",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[1]||(f[1]=E=>r.value.currentAge=E),min:"18",max:"80"},null,512),[[$t,r.value.currentAge,void 0,{number:!0}]])]),i("label",Bc,[f[13]||(f[13]=i("span",{class:"field-label"},"Gewnschtes Rentenalter",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[2]||(f[2]=E=>r.value.retirementAge=E),min:"40",max:"80"},null,512),[[$t,r.value.retirementAge,void 0,{number:!0}]])]),i("label",Kc,[f[14]||(f[14]=i("span",{class:"field-label"},"Lebenserwartung (Planungshorizont)",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[3]||(f[3]=E=>r.value.lifeExpectancy=E),min:"70",max:"110"},null,512),[[$t,r.value.lifeExpectancy,void 0,{number:!0}]]),f[15]||(f[15]=i("small",{class:"field-hint"},"Lieber grozgig planen!",-1))])]),i("div",Hc,[i("p",null,[i("strong",null,G(d.value),1),f[16]||(f[16]=ht(" Jahre Ansparphase",-1))]),i("p",null,[i("strong",null,G(c.value),1),f[17]||(f[17]=ht(" Jahre Entnahmephase",-1))])])],512),[[rt,a.value===0]]),xe(i("div",Jc,[f[25]||(f[25]=i("h3",null,"Monatliches Sparbudget",-1)),f[26]||(f[26]=i("p",{class:"wizard-hint"},"Wie viel kannst du monatlich fr den Vermgensaufbau verwenden?",-1)),i("div",Gc,[i("label",Zc,[f[20]||(f[20]=i("span",{class:"field-label"},"Monatliches Sparbudget (EUR)",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[4]||(f[4]=E=>r.value.monthlyBudget=E),min:"50",max:"10000",step:"50"},null,512),[[$t,r.value.monthlyBudget,void 0,{number:!0}]])]),i("label",Yc,[f[21]||(f[21]=i("span",{class:"field-label"},'Gewnschte monatliche "Rente" (EUR)',-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[5]||(f[5]=E=>r.value.monthlyPension=E),min:"0",max:"20000",step:"100"},null,512),[[$t,r.value.monthlyPension,void 0,{number:!0}]]),f[22]||(f[22]=i("small",{class:"field-hint"},"Wie viel mchtest du monatlich entnehmen?",-1))]),i("label",qc,[f[23]||(f[23]=i("span",{class:"field-label"},"Notgroschen-Monate",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[6]||(f[6]=E=>r.value.emergencyMonths=E),min:"3",max:"24"},null,512),[[$t,r.value.emergencyMonths,void 0,{number:!0}]]),f[24]||(f[24]=i("small",{class:"field-hint"},"Monatsausgaben  X als Notgroschen",-1))])])],512),[[rt,a.value===1]]),xe(i("div",Xc,[f[30]||(f[30]=i("h3",null,"Vorhandenes Vermgen",-1)),f[31]||(f[31]=i("p",{class:"wizard-hint"},"Was bringst du bereits mit?",-1)),i("div",Qc,[i("label",ed,[f[27]||(f[27]=i("span",{class:"field-label"},"Tagesgeld / Sparkonto (EUR)",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[7]||(f[7]=E=>r.value.existingSavings=E),min:"0",max:"10000000",step:"1000"},null,512),[[$t,r.value.existingSavings,void 0,{number:!0}]])]),i("label",td,[f[28]||(f[28]=i("span",{class:"field-label"},"ETF-Depot (EUR)",-1)),xe(i("input",{type:"number","onUpdate:modelValue":f[8]||(f[8]=E=>r.value.existingEtf=E),min:"0",max:"10000000",step:"1000"},null,512),[[$t,r.value.existingEtf,void 0,{number:!0}]])])]),i("div",nd,[i("p",null,[f[29]||(f[29]=ht("Gesamtes Startkapital: ",-1)),i("strong",null,G(D(r.value.existingSavings+r.value.existingEtf)),1)])])],512),[[rt,a.value===2]]),xe(i("div",sd,[f[32]||(f[32]=i("h3",null,"Risikoprofil",-1)),f[33]||(f[33]=i("p",{class:"wizard-hint"},"Wie gehst du mit Kursschwankungen um?",-1)),i("div",ld,[(C(),F(ze,null,en(h,(E,M)=>i("label",{key:M,class:De(["risk-profile",{"risk-profile--selected":r.value.riskProfile===M}])},[xe(i("input",{type:"radio","onUpdate:modelValue":f[9]||(f[9]=w=>r.value.riskProfile=w),value:M},null,8,ad),[[Hu,r.value.riskProfile]]),i("div",id,[i("strong",null,G(E.name),1),i("span",null,G(E.description),1),i("small",null,G(Math.round((1-E.savingsRatio)*100))+"% ETF / "+G(Math.round(E.savingsRatio*100))+"% Tagesgeld",1)])],2)),64))])],512),[[rt,a.value===3]]),xe(i("div",od,[f[41]||(f[41]=i("h3",null,"Dein persnlicher Plan",-1)),f[42]||(f[42]=i("p",{class:"wizard-hint"},"Diese Werte werden in dein Szenario bernommen:",-1)),i("div",rd,[i("div",ud,[f[34]||(f[34]=i("span",{class:"label"},"Ansparphase",-1)),i("span",cd,G(p.value.yearsSave)+" Jahre",1)]),i("div",dd,[f[35]||(f[35]=i("span",{class:"label"},"Entnahmephase",-1)),i("span",fd,G(p.value.yearsWithdraw)+" Jahre",1)]),i("div",hd,[f[36]||(f[36]=i("span",{class:"label"},"Monatlich Tagesgeld",-1)),i("span",pd,G(D(p.value.monthlySavings)),1)]),i("div",md,[f[37]||(f[37]=i("span",{class:"label"},"Monatlich ETF",-1)),i("span",gd,G(D(p.value.monthlyEtf)),1)]),i("div",vd,[f[38]||(f[38]=i("span",{class:"label"},"Tagesgeld-Ziel (Notgroschen)",-1)),i("span",bd,G(D(p.value.savingsTarget)),1)]),i("div",yd,[f[39]||(f[39]=i("span",{class:"label"},"Erwartete ETF-Rendite",-1)),i("span",_d,G(p.value.etfRate)+"% p.a.",1)]),i("div",Sd,[f[40]||(f[40]=i("span",{class:"label"},"Wunschrente",-1)),i("span",xd,G(D(p.value.rentEur))+"/Monat",1)])])],512),[[rt,a.value===4]])]),i("footer",wd,[a.value>0?(C(),F("button",{key:0,type:"button",class:"btn btn--secondary",onClick:_},"  Zurck ")):U("",!0),f[43]||(f[43]=i("div",{class:"wizard-footer-spacer"},null,-1)),a.value<o.length-1?(C(),F("button",{key:1,type:"button",class:"btn btn--primary",onClick:m}," Weiter  ")):(C(),F("button",{key:2,type:"button",class:"btn btn--accent",onClick:x},"  Plan bernehmen "))])])]))}},Md=ta(Ed,[["__scopeId","data-v-9cc5e57c"]]),Rd=fs("optimizer",()=>{const e=le(!1),t=le(0),s=le(""),n=le(null),l=le(null),a=le(null),o=le({mode:"maximize_rent",targetSuccessRate:90,iterations:500,tgRatioSteps:[0,.1,.2,.3,.4,.5],rentSteps:5,rentRange:.3}),r=ce(()=>n.value!==null),d=ce(()=>{var f;return((f=n.value)==null?void 0:f.best)||null});let c=null;async function h(){var M;const f=mt();Lt();const E=f.activeScenario;e.value=!0,t.value=0,s.value="Initialisiere...",l.value=null,n.value=null;try{const w=p(E,o.value);s.value=`${w.length} Kandidaten generiert`,c=new Worker(new URL(""+new URL("mc-worker-entry.js",import.meta.url).href,import.meta.url),{type:"module"});const O=[];let z=0;for(const u of w){if((M=a.value)!=null&&M.signal.aborted)break;const k=await S(u,o.value.iterations),v=_(u,k,o.value);O.push({candidate:u,mcResult:k,score:v,isValid:v>-1/0}),z++,t.value=Math.round(z/w.length*100),s.value=`${z}/${w.length} Kandidaten bewertet`}const T=O.filter(u=>u.isValid);T.sort((u,k)=>k.score-u.score),n.value={candidates:T.slice(0,10),best:T[0]||null,totalEvaluated:w.length,validCount:T.length},s.value=`Fertig! ${T.length} gltige Ergebnisse`}catch(w){console.error("Optimizer error:",w),l.value=w.message}finally{e.value=!1,c&&(c.terminate(),c=null)}}function S(f,E){return new Promise((M,w)=>{const O=m(f);c.onmessage=z=>{const T=z.data||{},{type:u,results:k,message:v}=T;u==="complete"?M(k):u==="error"&&w(new Error(v||"Unbekannter Fehler bei der Monte-Carlo-Simulation"))},c.onerror=z=>{w(new Error(z.message||"Unbekannter Worker-Fehler"))},c.postMessage({type:"start",params:O,iterations:E,volatility:f.mcVolatility||15,mcOptions:{successThreshold:f.mcSuccessThreshold||100,ruinThresholdPercent:f.mcRuinThreshold||10,stressScenario:"none"}})})}function p(f,E){const M=[],w=f.monthlySavings+f.monthlyEtf;for(const O of E.tgRatioSteps){const z=Math.round(w*O),T=w-z;if(E.mode==="maximize_rent"){const u=f.rentMode==="percent"?f.rentPercent:f.rentEur;for(let k=0;k<=E.rentSteps;k++){const v=1-E.rentRange+2*E.rentRange*k/E.rentSteps,te=Math.round(u*v);M.push({...f,monthlySavings:z,monthlyEtf:T,...f.rentMode==="percent"?{rentPercent:Math.round(te*100)/100}:{rentEur:te}})}}else M.push({...f,monthlySavings:z,monthlyEtf:T})}return M}function m(f){return{start_savings:f.startSavings,start_etf:f.startEtf,start_etf_cost_basis:f.startEtfCostBasis||0,savings_target:f.savingsTarget,savings_years:f.yearsSave,withdrawal_years:f.yearsWithdraw,monthly_savings:f.monthlySavings,monthly_etf:f.monthlyEtf,savings_rate_pa:f.savingsRate,etf_rate_pa:f.etfRate,etf_ter_pa:f.etfTer,annual_raise_percent:f.annualRaise,monthly_payout_net:f.rentEur,monthly_payout_percent:f.rentPercent,rent_mode:f.rentMode,rent_is_gross:f.rentIsGross,withdrawal_min:f.withdrawalMin,withdrawal_max:f.withdrawalMax,inflation_adjust_withdrawal:f.inflationAdjustWithdrawal,special_payout_net_savings:f.specialSavings,special_interval_years_savings:f.specialSavingsInterval,inflation_adjust_special_savings:f.inflationAdjustSpecialSavings,special_payout_net_withdrawal:f.specialWithdraw,special_interval_years_withdrawal:f.specialWithdrawInterval,inflation_adjust_special_withdrawal:f.inflationAdjustSpecialWithdrawal,capital_preservation_enabled:f.capitalPreservationEnabled,capital_preservation_threshold:f.capitalPreservationThreshold,capital_preservation_reduction:f.capitalPreservationReduction,capital_preservation_recovery:f.capitalPreservationRecovery,sparerpauschbetrag:f.sparerpauschbetrag,kirchensteuer:f.kirchensteuer,basiszins:f.basiszins,use_lifo:f.useLifo,loss_pot:f.lossPot,fondstyp:f.fondstyp,inflation_rate_pa:f.inflationRate}}function _(f,E,M){if(E.successRate<M.targetSuccessRate)return-1/0;let w=0;if(M.mode==="maximize_rent")f.rentMode==="percent"?w+=(f.rentPercent||0)*1e3:w+=(f.rentEur||0)*10;else{const O=f.monthlySavings+f.monthlyEtf;w-=O*10}return w+=(E.medianEndReal||0)/1e4,w-=(E.ruinProbability||0)*2,w}function x(){if(!d.value)return;const f=mt(),E=Lt(),M=d.value.candidate;f.updateScenario({monthlySavings:M.monthlySavings,monthlyEtf:M.monthlyEtf,rentEur:M.rentEur,rentPercent:M.rentPercent}),E.runSimulation()}function D(){c&&(c.terminate(),c=null),e.value=!1,s.value="Abgebrochen"}function P(){n.value=null,l.value=null,t.value=0,s.value=""}return{isRunning:e,progress:t,progressText:s,results:n,error:l,config:o,hasResults:r,bestCandidate:d,startOptimization:h,applyBestResult:x,abort:D,clearResults:P}}),kd=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}),Td=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2});function nl(){function e(n,{decimals:l=0}={}){return n==null||Number.isNaN(n)?"-":l===2?Td.format(n):kd.format(n)}function t(n,{decimals:l=1}={}){return n==null||Number.isNaN(n)?"-":`${n.toFixed(l)}%`}function s(n,l,a=e){return`${a(n)} - ${a(l)}`}return{formatCurrency:e,formatPercent:t,formatRange:s}}const Cd={class:"modal optimizer-modal",role:"dialog","aria-labelledby":"optimizer-title"},Pd={class:"modal-header"},$d={class:"modal-body"},Id={key:0,class:"optimizer-config"},Fd={class:"optimizer-fields"},Ad={class:"field"},zd={class:"field"},Od={class:"field"},Vd={class:"optimizer-current"},Dd={class:"optimizer-current-grid"},Wd={key:1,class:"optimizer-progress"},Nd={class:"progress-bar"},Ld=["value"],jd={class:"progress-text"},Ud={key:2,class:"optimizer-results"},Bd={key:0,class:"optimizer-best"},Kd={class:"best-grid"},Hd={class:"best-item"},Jd={class:"value"},Gd={class:"best-item"},Zd={class:"value"},Yd={class:"best-item"},qd={class:"value success"},Xd={class:"best-item"},Qd={class:"value"},ef={class:"best-item"},tf={class:"value"},nf={key:1,class:"optimizer-alternatives"},sf={class:"alternatives-table"},lf={key:2,class:"optimizer-no-results"},af={class:"optimizer-stats"},of={key:3,class:"optimizer-error"},rf={class:"modal-footer"},uf={__name:"OptimizerModal",emits:["close"],setup(e,{emit:t}){const s=t,n=Rd(),l=mt(),{formatCurrency:a,formatPercent:o}=nl(),r=ce(()=>l.activeScenario),d=ce(()=>n.config),c=ce(()=>{var _;return((_=r.value)==null?void 0:_.rentMode)==="percent"}),h=ce(()=>{const _=r.value;return _?_.monthlySavings+_.monthlyEtf:0});function S(){n.startOptimization()}function p(){n.applyBestResult(),s("close")}function m(_){var P;const x=_.candidate,D=_.mcResult;return{tgEtf:`${a(x.monthlySavings)} / ${a(x.monthlyEtf)}`,rent:c.value?`${(P=x.rentPercent)==null?void 0:P.toFixed(2)}%`:a(x.rentEur),successRate:o(D.successRate),medianEnd:a(D.medianEndReal),ruinProb:o(D.ruinProbability),isValid:_.isValid}}return(_,x)=>{var D,P,f,E;return C(),F("div",{class:"modal-overlay active",onClick:x[6]||(x[6]=pn(M=>_.$emit("close"),["self"]))},[i("div",Cd,[i("header",Pd,[x[7]||(x[7]=i("h2",{id:"optimizer-title"}," Parameter-Optimierer",-1)),i("button",{type:"button",class:"modal-close",onClick:x[0]||(x[0]=M=>_.$emit("close")),"aria-label":"Schlieen"},"")]),i("div",$d,[!b(n).isRunning&&!b(n).hasResults?(C(),F("div",Id,[x[18]||(x[18]=i("p",{class:"optimizer-hint"}," Der Optimierer testet verschiedene TG/ETF-Aufteilungen und Entnahmeraten, um die beste Kombination fr deine Erfolgswahrscheinlichkeit zu finden. ",-1)),i("div",Fd,[i("label",Ad,[x[9]||(x[9]=i("span",{class:"field-label"},"Optimierungsziel",-1)),xe(i("select",{"onUpdate:modelValue":x[1]||(x[1]=M=>d.value.mode=M)},[...x[8]||(x[8]=[i("option",{value:"maximize_rent"},"Rente maximieren (Budget fix)",-1),i("option",{value:"minimize_budget"},"Budget minimieren (Rente fix)",-1)])],512),[[Za,d.value.mode]])]),i("label",zd,[x[10]||(x[10]=i("span",{class:"field-label"},"Mindest-Erfolgsrate (%)",-1)),xe(i("input",{type:"number","onUpdate:modelValue":x[2]||(x[2]=M=>d.value.targetSuccessRate=M),min:"50",max:"99",step:"5"},null,512),[[$t,d.value.targetSuccessRate,void 0,{number:!0}]]),x[11]||(x[11]=i("small",{class:"field-hint"},"Kandidaten unter diesem Wert werden verworfen",-1))]),i("label",Od,[x[13]||(x[13]=i("span",{class:"field-label"},"MC-Iterationen pro Kandidat",-1)),xe(i("select",{"onUpdate:modelValue":x[3]||(x[3]=M=>d.value.iterations=M)},[...x[12]||(x[12]=[i("option",{value:200},"200 (schnell)",-1),i("option",{value:500},"500 (standard)",-1),i("option",{value:1e3},"1000 (genau)",-1)])],512),[[Za,d.value.iterations,void 0,{number:!0}]])])]),i("div",Vd,[x[17]||(x[17]=i("h4",null,"Aktuelles Szenario",-1)),i("div",Dd,[i("div",null,[x[14]||(x[14]=i("span",{class:"label"},"Budget:",-1)),ht(" "+G(b(a)(h.value))+"/Monat",1)]),i("div",null,[x[15]||(x[15]=i("span",{class:"label"},"TG/ETF:",-1)),ht(" "+G(b(a)((D=r.value)==null?void 0:D.monthlySavings))+" / "+G(b(a)((P=r.value)==null?void 0:P.monthlyEtf)),1)]),i("div",null,[x[16]||(x[16]=i("span",{class:"label"},"Wunschrente:",-1)),ht(" "+G(c.value?`${(f=r.value)==null?void 0:f.rentPercent}%`:b(a)((E=r.value)==null?void 0:E.rentEur)),1)])])])])):U("",!0),b(n).isRunning?(C(),F("div",Wd,[i("div",Nd,[i("progress",{value:b(n).progress,max:"100"},null,8,Ld)]),i("p",jd,G(b(n).progressText),1)])):U("",!0),b(n).hasResults&&!b(n).isRunning?(C(),F("div",Ud,[b(n).bestCandidate?(C(),F("div",Bd,[x[24]||(x[24]=i("h4",null," Beste Konfiguration",-1)),i("div",Kd,[i("div",Hd,[x[19]||(x[19]=i("span",{class:"label"},"TG/ETF",-1)),i("span",Jd,G(m(b(n).bestCandidate).tgEtf),1)]),i("div",Gd,[x[20]||(x[20]=i("span",{class:"label"},"Wunschrente",-1)),i("span",Zd,G(m(b(n).bestCandidate).rent),1)]),i("div",Yd,[x[21]||(x[21]=i("span",{class:"label"},"Erfolgsrate",-1)),i("span",qd,G(m(b(n).bestCandidate).successRate),1)]),i("div",Xd,[x[22]||(x[22]=i("span",{class:"label"},"Median Endvermgen (real)",-1)),i("span",Qd,G(m(b(n).bestCandidate).medianEnd),1)]),i("div",ef,[x[23]||(x[23]=i("span",{class:"label"},"Ruin-Risiko",-1)),i("span",tf,G(m(b(n).bestCandidate).ruinProb),1)])])])):U("",!0),b(n).results.candidates.length>1?(C(),F("div",nf,[x[26]||(x[26]=i("h4",null,"Alternative Konfigurationen (Top 10)",-1)),i("div",sf,[i("table",null,[x[25]||(x[25]=i("thead",null,[i("tr",null,[i("th",null,"#"),i("th",null,"TG/ETF"),i("th",null,"Rente"),i("th",null,"Erfolg"),i("th",null,"Median")])],-1)),i("tbody",null,[(C(!0),F(ze,null,en(b(n).results.candidates.slice(1),(M,w)=>(C(),F("tr",{key:w},[i("td",null,G(w+2),1),i("td",null,G(m(M).tgEtf),1),i("td",null,G(m(M).rent),1),i("td",null,G(m(M).successRate),1),i("td",null,G(m(M).medianEnd),1)]))),128))])])])])):U("",!0),b(n).bestCandidate?U("",!0):(C(),F("div",lf,[...x[27]||(x[27]=[i("p",null," Keine gltigen Konfigurationen gefunden.",-1),i("p",null,"Versuche die Mindest-Erfolgsrate zu senken oder die Parameter anzupassen.",-1)])])),i("p",af,G(b(n).results.validCount)+" von "+G(b(n).results.totalEvaluated)+" Kandidaten erfllen die Mindest-Erfolgsrate von "+G(d.value.targetSuccessRate)+"%. ",1)])):U("",!0),b(n).error?(C(),F("div",of,[i("p",null," Fehler: "+G(b(n).error),1)])):U("",!0)]),i("footer",rf,[!b(n).isRunning&&!b(n).hasResults?(C(),F("button",{key:0,type:"button",class:"btn btn--primary",onClick:S},"  Optimierung starten ")):U("",!0),b(n).isRunning?(C(),F("button",{key:1,type:"button",class:"btn btn--secondary",onClick:x[4]||(x[4]=M=>b(n).abort())}," Abbrechen ")):U("",!0),b(n).hasResults&&!b(n).isRunning?(C(),F(ze,{key:2},[i("button",{type:"button",class:"btn btn--secondary",onClick:x[5]||(x[5]=M=>b(n).clearResults())},"  Neu starten "),b(n).bestCandidate?(C(),F("button",{key:0,type:"button",class:"btn btn--accent",onClick:p},"  Beste bernehmen ")):U("",!0)],64)):U("",!0)])])])}}},cf=ta(uf,[["__scopeId","data-v-8c3aece4"]]),df={"aria-label":"Eingabeparameter"},ff={class:"scenario-header"},hf={class:"scenario-tabs"},pf=["onClick"],mf={class:"scenario-tab-label"},gf=["onClick"],vf=["onClick"],bf={class:"scenario-actions"},yf={class:"scenario-tools"},_f={class:"scenario-tools__menu"},Sf=["aria-expanded"],xf={key:0,class:"scenario-tools__dropdown",role:"menu"},wf={key:0,class:"share-status"},Ef={class:"preset-section"},Mf={class:"preset-row"},Rf={key:0,class:"preset-buttons"},kf=["title","onClick"],Tf={class:"group"},Cf={class:"grid"},Pf={class:"field"},$f=["value"],If={class:"field"},Ff=["value"],Af={key:0,class:"field"},zf=["value"],Of={class:"field"},Vf=["value"],Df={class:"field"},Wf=["value"],Nf={class:"field"},Lf=["value"],jf={class:"field"},Uf=["value"],Bf={class:"field"},Kf=["value"],Hf={class:"field field--checkbox"},Jf=["checked"],Gf={key:1,class:"field"},Zf=["value"],Yf={key:2,class:"field"},qf=["value"],Xf={key:3,class:"field"},Qf=["value"],eh={key:4,class:"field"},th=["value"],nh={key:5,class:"field"},sh=["value"],lh={key:6,class:"field field--checkbox"},ah=["checked"],ih={class:"group"},oh={class:"grid"},rh={class:"field"},uh=["value"],ch={class:"field"},dh=["value"],fh={class:"field"},hh=["value"],ph={class:"field"},mh=["value"],gh={key:0,class:"field"},vh=["value"],bh={key:1,class:"field"},yh=["value"],_h={class:"group"},Sh={class:"grid grid--split"},xh={class:"field"},wh=["value"],Eh={class:"field"},Mh={class:"mode-switch"},Rh=["checked"],kh=["checked"],Th={key:0,class:"field"},Ch=["value"],Ph={key:1,class:"field"},$h=["value"],Ih={class:"field field--checkbox"},Fh=["checked"],Ah={key:2,class:"field field--checkbox"},zh=["checked"],Oh={key:3,class:"field"},Vh=["value"],Dh={key:4,class:"field"},Wh=["value"],Nh={key:5,class:"field"},Lh=["value"],jh={key:6,class:"field"},Uh=["value"],Bh={key:7,class:"field field--checkbox"},Kh=["checked"],Hh={key:0,class:"group"},Jh={class:"grid"},Gh={class:"field field--checkbox"},Zh=["checked"],Yh={key:0,class:"field"},qh=["value"],Xh={key:1,class:"field"},Qh=["value"],ep={key:2,class:"field"},tp=["value"],np={class:"group"},sp={class:"grid"},lp={class:"field"},ap=["value"],ip={class:"field"},op=["value"],rp={key:0,class:"field field--checkbox"},up=["checked"],cp={key:1,class:"field"},dp=["value"],fp={key:2,class:"field"},hp=["value"],pp={key:3,class:"field"},mp=["value"],gp={class:"field"},vp=["value"],bp=["value","title"],yp={key:0,class:"field-hint"},_p={key:1,class:"group"},Sp={class:"grid"},xp={class:"field"},wp=["value"],Ep={key:0,class:"field"},Mp=["value"],Rp={key:1,class:"field"},kp=["value"],Tp={key:2,class:"field"},Cp=["value"],Pp={class:"grid"},$p={class:"field"},Ip=["value"],Fp={key:0,class:"field"},Ap=["value"],zp={key:1,class:"field"},Op=["value"],Vp={class:"grid"},Dp={class:"field"},Wp=["value"],Np={key:0,class:"field"},Lp=["value"],jp={key:1,class:"field"},Up=["value"],Bp={key:2,class:"field"},Kp=["value"],Hp={class:"grid"},Jp={class:"field"},Gp=["value"],Zp={key:0,class:"field"},Yp=["value"],qp={key:1,class:"field"},Xp=["value"],Qp={key:2,class:"field"},em=["value"],tm={class:"grid"},nm={class:"field"},sm=["value"],lm={key:0,class:"field"},am=["value"],im={key:1,class:"field"},om=["value"],rm={key:2,class:"field"},um=["value"],cm={class:"actions"},dm={__name:"ScenarioForm",setup(e){const t=mt(),s=Lt(),n=hs(),l=Fn(),a=ce(()=>t.activeScenario),o=le(null),r=le(""),d=le(!1);function c(T,u){t.updateScenario({[T]:u})}async function h(T){var k;const u=(k=T.target.files)==null?void 0:k[0];if(u){try{await t.importScenarioFromJson(u),s.runSimulation(),r.value="Import erfolgreich!",setTimeout(()=>r.value="",3e3)}catch(v){r.value=v.message,setTimeout(()=>r.value="",5e3)}T.target.value=""}}async function S(){const T=await t.copyShareUrl();T.success?r.value="Link kopiert!":(prompt("Share-URL:",T.url),r.value=""),setTimeout(()=>r.value="",3e3)}function p(){d.value=!d.value}function m(){d.value=!1}function _(){t.exportScenarioAsJson(),m()}function x(){o.value&&o.value.click(),m()}async function D(){await S(),m()}function P(){s.runSimulation()}function f(){n.isRunning?n.abortSimulation():(n.startSimulation(),l.setActiveTab("monte-carlo"),setTimeout(()=>{const T=document.querySelector(".panel--results");T&&typeof T.scrollIntoView=="function"&&T.scrollIntoView({behavior:"smooth",block:"start"})},0))}function E(T){var te;const u=((te=t.scenarios[T])==null?void 0:te.name)||`Szenario ${T}`,k=prompt("Szenario umbenennen",u);if(!k)return;const v=k.trim();v&&t.renameScenario(T,v)}function M(T){var k;if(!t.hasMultipleScenarios)return;const u=((k=t.scenarios[T])==null?void 0:k.name)||`Szenario ${T}`;confirm(`Szenario "${u}" wirklich lschen?`)&&t.removeScenario(T)}function w(){t.resetScenario(),s.runSimulation()}Ot(()=>{var T;return(T=a.value)==null?void 0:T.isMarried},T=>{T!==void 0&&c("sparerpauschbetrag",T?2e3:1e3)});const O=ce(()=>Object.entries(bo||{}).map(([T,u])=>({key:T,...u}))),z=ce(()=>Object.entries(yo||{}).map(([T,u])=>({key:T,...u})));return(T,u)=>{var k;return C(),F("section",df,[i("div",ff,[i("div",hf,[(C(!0),F(ze,null,en(b(t).scenarioIds,v=>{var te;return C(),F("button",{key:v,class:De(["scenario-tab",{"scenario-tab--active":b(t).activeScenarioId===v}]),onClick:me=>b(t).setActiveScenario(v)},[i("span",mf,G(((te=b(t).scenarios[v])==null?void 0:te.name)||`Szenario ${v}`),1),i("span",{class:"scenario-tab-icon",role:"button","aria-label":"Szenario umbenennen",onClick:pn(me=>E(v),["stop"])},"  ",8,gf),b(t).hasMultipleScenarios?(C(),F("span",{key:0,class:"scenario-tab-icon scenario-tab-icon--danger",role:"button","aria-label":"Szenario lschen",onClick:pn(me=>M(v),["stop"])},"  ",8,vf)):U("",!0)],10,pf)}),128)),b(t).scenarioIds.length<3?(C(),F("button",{key:0,class:"scenario-tab scenario-tab--add",onClick:u[0]||(u[0]=v=>b(t).addScenario()),title:"Szenario hinzufgen"}," + ")):U("",!0)]),i("div",bf,[i("button",{type:"button",class:"btn btn--small btn--ghost expert-toggle",onClick:u[1]||(u[1]=v=>b(l).toggleExpertMode())},G(b(l).expertMode?"Einfacher Modus":"Expertenmodus"),1),i("div",yf,[i("div",_f,[i("button",{type:"button",class:"btn btn--small btn--ghost scenario-tools__trigger",onClick:p,"aria-expanded":d.value,"aria-haspopup":"menu"},[...u[66]||(u[66]=[ht("  ",-1),i("span",{class:"scenario-tools__label"},"Szenario-Aktionen",-1)])],8,Sf),d.value?(C(),F("div",xf,[i("button",{type:"button",class:"scenario-tools__item",onClick:_,role:"menuitem"},"  Export als JSON "),i("button",{type:"button",class:"scenario-tools__item",onClick:x,role:"menuitem"},"  Import aus JSON "),i("button",{type:"button",class:"scenario-tools__item",onClick:D,role:"menuitem"},"  Share-Link kopieren ")])):U("",!0)]),i("input",{ref_key:"fileInput",ref:o,type:"file",accept:".json",style:{display:"none"},onChange:h},null,544),r.value?(C(),F("span",wf,G(r.value),1)):U("",!0)])])]),i("div",Ef,[i("div",Mf,[i("button",{type:"button",class:"btn btn--accent wizard-btn",onClick:u[2]||(u[2]=v=>b(l).showWizardModal=!0),title:"Gefhrte Einrichtung mit persnlichen Fragen"},"  Setup-Assistent "),u[67]||(u[67]=i("span",{class:"preset-label"},"oder Vorlagen:",-1)),O.value.length>0?(C(),F("div",Rf,[(C(!0),F(ze,null,en(O.value,v=>(C(),F("button",{key:v.key,type:"button",class:"preset-btn",title:v.description,onClick:te=>b(t).applyPreset(v.key)},G(v.name),9,kf))),128))])):U("",!0)])]),i("form",{id:"sim-form",novalidate:"",onSubmit:pn(P,["prevent"]),"aria-label":"Sparplan-Simulation Formular"},[i("div",Tf,[u[87]||(u[87]=i("div",{class:"group__header"},[i("h2",null,"Basisdaten & Zinsen"),i("p",null,"Startwerte, Zinsen und TG-Ziel.")],-1)),i("div",Cf,[i("label",Pf,[u[68]||(u[68]=i("span",{class:"field-label","data-tooltip":"Aktueller Kontostand auf deinem Tagesgeldkonto zu Beginn der Simulation."},"Start Tagesgeld (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.startSavings,onInput:u[3]||(u[3]=v=>c("startSavings",+v.target.value)),min:"0",max:"100000000"},null,40,$f)]),i("label",If,[u[69]||(u[69]=i("span",{class:"field-label","data-tooltip":"Aktueller Wert deines ETF-Depots zu Beginn der Simulation."},"Start ETF (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.startEtf,onInput:u[4]||(u[4]=v=>c("startEtf",+v.target.value)),min:"0",max:"100000000"},null,40,Ff)]),b(l).expertMode?(C(),F("label",Af,[u[70]||(u[70]=i("span",{class:"field-label","data-tooltip":"Ursprnglicher Kaufpreis deines ETF-Altbestands."},"Einstand Altbestand (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.startEtfCostBasis,onInput:u[5]||(u[5]=v=>c("startEtfCostBasis",+v.target.value)),min:"0",max:"100000000"},null,40,zf),u[71]||(u[71]=i("small",{class:"field-hint"},"0 = keine Altgewinne",-1))])):U("",!0),i("label",Of,[u[72]||(u[72]=i("span",{class:"field-label","data-tooltip":"Jhrlicher Zinssatz fr dein Tagesgeldkonto."},"Tagesgeld Zins p.a. (%)",-1)),i("input",{type:"number",step:"0.1",value:a.value.savingsRate,onInput:u[6]||(u[6]=v=>c("savingsRate",+v.target.value)),min:"-10",max:"50"},null,40,Vf)]),i("label",Df,[u[73]||(u[73]=i("span",{class:"field-label","data-tooltip":"Erwartete jhrliche ETF-Rendite vor Kosten."},"ETF Rendite p.a. (%)",-1)),i("input",{type:"number",step:"0.1",value:a.value.etfRate,onInput:u[7]||(u[7]=v=>c("etfRate",+v.target.value)),min:"-50",max:"50"},null,40,Wf)]),i("label",Nf,[u[74]||(u[74]=i("span",{class:"field-label","data-tooltip":"Total Expense Ratio - jhrliche Fondskosten."},"ETF Kosten (TER) p.a. (%)",-1)),i("input",{type:"number",step:"0.01",value:a.value.etfTer,onInput:u[8]||(u[8]=v=>c("etfTer",+v.target.value)),min:"0",max:"5"},null,40,Lf)]),i("label",jf,[u[75]||(u[75]=i("span",{class:"field-label","data-tooltip":"Ziel-Saldo fr Tagesgeld (Notgroschen)."},"Tagesgeld-Ziel (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.savingsTarget,onInput:u[9]||(u[9]=v=>c("savingsTarget",+v.target.value)),min:"0",max:"10000000"},null,40,Uf)]),i("label",Bf,[u[76]||(u[76]=i("span",{class:"field-label","data-tooltip":"Jhrliche Inflationsrate fr Kaufkraftberechnung."},"Inflation p.a. (%)",-1)),i("input",{type:"number",step:"0.1",value:a.value.inflationRate,onInput:u[10]||(u[10]=v=>c("inflationRate",+v.target.value)),min:"-10",max:"30"},null,40,Kf)]),i("label",Hf,[i("input",{type:"checkbox",checked:a.value.isMarried,onChange:u[11]||(u[11]=v=>c("isMarried",v.target.checked))},null,40,Jf),u[77]||(u[77]=i("span",{class:"field-label","data-tooltip":"Verdoppelt den Sparerpauschbetrag auf 2.000."},"Verheiratet / gemeinsam veranlagt",-1))]),b(l).expertMode?(C(),F("label",Gf,[u[78]||(u[78]=i("span",{class:"field-label","data-tooltip":"Jhrlicher steuerfreier Freibetrag."},"Sparerpauschbetrag (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.sparerpauschbetrag,onInput:u[12]||(u[12]=v=>c("sparerpauschbetrag",+v.target.value)),min:"0",max:"10000"},null,40,Zf)])):U("",!0),b(l).expertMode?(C(),F("label",Yf,[u[80]||(u[80]=i("span",{class:"field-label","data-tooltip":"Zustzliche Steuer auf Kapitalertrge fr Kirchenmitglieder."},"Kirchensteuer",-1)),i("select",{value:a.value.kirchensteuer,onChange:u[13]||(u[13]=v=>c("kirchensteuer",v.target.value))},[...u[79]||(u[79]=[i("option",{value:"keine"},"Keine Kirchensteuer",-1),i("option",{value:"8"},"8% (Bayern, Baden-Wrttemberg)",-1),i("option",{value:"9"},"9% (andere Bundeslnder)",-1)])],40,qf)])):U("",!0),b(l).expertMode?(C(),F("label",Xf,[u[82]||(u[82]=i("span",{class:"field-label","data-tooltip":"Fondstyp bestimmt die Teilfreistellung."},"Fondstyp (Teilfreistellung)",-1)),i("select",{value:a.value.fondstyp,onChange:u[14]||(u[14]=v=>c("fondstyp",v.target.value))},[...u[81]||(u[81]=[i("option",{value:"aktien"},"Aktienfonds (30% steuerfrei)",-1),i("option",{value:"misch"},"Mischfonds (15% steuerfrei)",-1),i("option",{value:"renten"},"Rentenfonds/Andere (0% steuerfrei)",-1)])],40,Qf)])):U("",!0),b(l).expertMode?(C(),F("label",eh,[u[83]||(u[83]=i("span",{class:"field-label","data-tooltip":"Basiszins fr Vorabpauschale (18 InvStG). Fr historische Jahre automatisch."},"Basiszins (%)",-1)),i("input",{type:"number",step:"0.01",value:a.value.basiszins,onInput:u[15]||(u[15]=v=>c("basiszins",+v.target.value)),min:"-1",max:"10"},null,40,th),u[84]||(u[84]=i("small",{class:"field-hint"},"2025: 2,53%",-1))])):U("",!0),b(l).expertMode?(C(),F("label",nh,[u[85]||(u[85]=i("span",{class:"field-label","data-tooltip":"Verlustvortrag aus Vorjahren."},"Start-Verlusttopf (EUR)",-1)),i("input",{type:"number",step:"100",value:a.value.lossPot,onInput:u[16]||(u[16]=v=>c("lossPot",+v.target.value)),min:"0",max:"1000000"},null,40,sh)])):U("",!0),b(l).expertMode?(C(),F("label",lh,[i("input",{type:"checkbox",checked:a.value.useLifo,onChange:u[17]||(u[17]=v=>c("useLifo",v.target.checked))},null,40,ah),u[86]||(u[86]=i("span",{class:"field-label","data-tooltip":"Last-In-First-Out: Verkauft zuerst die neuesten Anteile. Standard ist FIFO."},"LIFO statt FIFO verwenden",-1))])):U("",!0)])]),i("div",ih,[u[94]||(u[94]=i("div",{class:"group__header"},[i("h2",null,"Ansparphase"),i("p",null,"Monatliche Raten, Dynamik und Sonderausgaben.")],-1)),i("div",oh,[i("label",rh,[u[88]||(u[88]=i("span",{class:"field-label","data-tooltip":"Wie lange du monatlich einzahlen mchtest."},"Dauer Ansparen (Jahre)",-1)),i("input",{type:"number",step:"1",value:a.value.yearsSave,onInput:u[18]||(u[18]=v=>c("yearsSave",+v.target.value)),min:"1",max:"100"},null,40,uh)]),i("label",ch,[u[89]||(u[89]=i("span",{class:"field-label","data-tooltip":"Monatlicher Sparbetrag auf das Tagesgeldkonto."},"Monatlich Tagesgeld (EUR)",-1)),i("input",{type:"number",step:"50",value:a.value.monthlySavings,onInput:u[19]||(u[19]=v=>c("monthlySavings",+v.target.value)),min:"0",max:"1000000"},null,40,dh)]),i("label",fh,[u[90]||(u[90]=i("span",{class:"field-label","data-tooltip":"Monatlicher Sparplan-Betrag fr den ETF."},"Monatlich ETF (EUR)",-1)),i("input",{type:"number",step:"50",value:a.value.monthlyEtf,onInput:u[20]||(u[20]=v=>c("monthlyEtf",+v.target.value)),min:"0",max:"1000000"},null,40,hh)]),i("label",ph,[u[91]||(u[91]=i("span",{class:"field-label","data-tooltip":"Jhrliche Erhhung deiner Sparraten."},"Gehaltserhhung p.a. (%)",-1)),i("input",{type:"number",step:"0.1",value:a.value.annualRaise,onInput:u[21]||(u[21]=v=>c("annualRaise",+v.target.value)),min:"-10",max:"50"},null,40,mh)]),b(l).expertMode?(C(),F("label",gh,[u[92]||(u[92]=i("span",{class:"field-label","data-tooltip":"Grere Einmalausgaben in der Ansparphase."},"Sonderausgabe Anspar (EUR)",-1)),i("input",{type:"number",step:"500",value:a.value.specialSavings,onInput:u[22]||(u[22]=v=>c("specialSavings",+v.target.value)),min:"0",max:"10000000"},null,40,vh)])):U("",!0),b(l).expertMode?(C(),F("label",bh,[u[93]||(u[93]=i("span",{class:"field-label","data-tooltip":"Alle wie viele Jahre die Sonderausgabe fllig wird."},"Sonderausgabe alle X J.",-1)),i("input",{type:"number",step:"1",value:a.value.specialSavingsInterval,onInput:u[23]||(u[23]=v=>c("specialSavingsInterval",+v.target.value)),min:"0",max:"50"},null,40,yh)])):U("",!0)])]),i("div",_h,[u[108]||(u[108]=i("div",{class:"group__header"},[i("h2",null,"Entnahmephase"),i("p",null,"Rentenmodus, Sonderausgaben und Dauer.")],-1)),i("div",Sh,[i("label",xh,[u[95]||(u[95]=i("span",{class:"field-label","data-tooltip":"Wie lange du monatlich Geld entnehmen mchtest."},"Dauer Entnahme (Jahre)",-1)),i("input",{type:"number",step:"1",value:a.value.yearsWithdraw,onInput:u[24]||(u[24]=v=>c("yearsWithdraw",+v.target.value)),min:"1",max:"100"},null,40,wh)]),i("div",Eh,[u[98]||(u[98]=i("span",{class:"field-label","data-tooltip":"Whle zwischen fester monatlicher Entnahme oder prozentualem Anteil."},"Wunschrente",-1)),i("div",Mh,[i("label",null,[i("input",{type:"radio",name:"rent_mode",value:"eur",checked:a.value.rentMode==="eur",onChange:u[25]||(u[25]=v=>c("rentMode","eur"))},null,40,Rh),u[96]||(u[96]=ht(" EUR / Monat ",-1))]),i("label",null,[i("input",{type:"radio",name:"rent_mode",value:"percent",checked:a.value.rentMode==="percent",onChange:u[26]||(u[26]=v=>c("rentMode","percent"))},null,40,kh),u[97]||(u[97]=ht(" % vom Vermgen (p.a.) ",-1))])])]),a.value.rentMode==="eur"?(C(),F("label",Th,[u[99]||(u[99]=i("span",{class:"field-label","data-tooltip":"Fester monatlicher Entnahmebetrag."},"Wunschrente (EUR)",-1)),i("input",{type:"number",step:"50",value:a.value.rentEur,onInput:u[27]||(u[27]=v=>c("rentEur",+v.target.value)),min:"0",max:"1000000"},null,40,Ch)])):U("",!0),a.value.rentMode==="percent"?(C(),F("label",Ph,[u[100]||(u[100]=i("span",{class:"field-label","data-tooltip":"Entnahme als Prozent des Startvermgens (4%-Regel)."},"Wunschrente % vom Startvermgen p.a.",-1)),i("input",{type:"number",step:"0.1",value:a.value.rentPercent,onInput:u[28]||(u[28]=v=>c("rentPercent",+v.target.value)),min:"0",max:"100"},null,40,$h)])):U("",!0),i("label",Ih,[i("input",{type:"checkbox",checked:a.value.inflationAdjustWithdrawal,onChange:u[29]||(u[29]=v=>c("inflationAdjustWithdrawal",v.target.checked))},null,40,Fh),u[101]||(u[101]=i("span",{class:"field-label","data-tooltip":"Erhht die Entnahme jhrlich um die Inflation."},"Entnahme jhrlich inflationsanpassen (4%-Regel)",-1))]),b(l).expertMode?(C(),F("label",Ah,[i("input",{type:"checkbox",checked:a.value.rentIsGross,onChange:u[30]||(u[30]=v=>c("rentIsGross",v.target.checked))},null,40,zh),u[102]||(u[102]=i("span",{class:"field-label","data-tooltip":"Wunschrente ist Bruttobetrag (vor Steuern). Sonst Netto (nach Steuern)."},"Wunschrente ist Bruttobetrag",-1))])):U("",!0),b(l).expertMode?(C(),F("label",Oh,[u[103]||(u[103]=i("span",{class:"field-label","data-tooltip":"Minimale monatliche Entnahme (Untergrenze)."},"Min. Entnahme (EUR)",-1)),i("input",{type:"number",step:"50",value:a.value.withdrawalMin,onInput:u[31]||(u[31]=v=>c("withdrawalMin",+v.target.value)),min:"0",max:"1000000"},null,40,Vh)])):U("",!0),b(l).expertMode?(C(),F("label",Dh,[u[104]||(u[104]=i("span",{class:"field-label","data-tooltip":"Maximale monatliche Entnahme (Obergrenze)."},"Max. Entnahme (EUR)",-1)),i("input",{type:"number",step:"50",value:a.value.withdrawalMax,onInput:u[32]||(u[32]=v=>c("withdrawalMax",+v.target.value)),min:"0",max:"1000000"},null,40,Wh)])):U("",!0),b(l).expertMode?(C(),F("label",Nh,[u[105]||(u[105]=i("span",{class:"field-label","data-tooltip":"Grere Einmalausgaben in der Entnahmephase."},"Sonderausgabe Entnahme (EUR)",-1)),i("input",{type:"number",step:"500",value:a.value.specialWithdraw,onInput:u[33]||(u[33]=v=>c("specialWithdraw",+v.target.value)),min:"0",max:"10000000"},null,40,Lh)])):U("",!0),b(l).expertMode?(C(),F("label",jh,[u[106]||(u[106]=i("span",{class:"field-label","data-tooltip":"Alle wie viele Jahre die Sonderausgabe fllig wird."},"Sonderausgabe alle X J.",-1)),i("input",{type:"number",step:"1",value:a.value.specialWithdrawInterval,onInput:u[34]||(u[34]=v=>c("specialWithdrawInterval",+v.target.value)),min:"0",max:"50"},null,40,Uh)])):U("",!0),b(l).expertMode?(C(),F("label",Bh,[i("input",{type:"checkbox",checked:a.value.inflationAdjustSpecialWithdrawal,onChange:u[35]||(u[35]=v=>c("inflationAdjustSpecialWithdrawal",v.target.checked))},null,40,Kh),u[107]||(u[107]=i("span",{class:"field-label","data-tooltip":"Erhht die Sonderentnahme alle X Jahre um die Inflation."},"Sonderausgabe Entnahme inflationsanpassen",-1))])):U("",!0)])]),b(l).expertMode?(C(),F("div",Hh,[u[113]||(u[113]=i("div",{class:"group__header"},[i("h2",null,"Kapitalerhalt-Modus"),i("p",null,"Reduziert Entnahme bei drohendem Kapitalverzehr.")],-1)),i("div",Jh,[i("label",Gh,[i("input",{type:"checkbox",checked:a.value.capitalPreservationEnabled,onChange:u[36]||(u[36]=v=>c("capitalPreservationEnabled",v.target.checked))},null,40,Zh),u[109]||(u[109]=i("span",{class:"field-label","data-tooltip":"Aktiviert automatische Entnahmekrzung bei niedrigem Kapital."},"Kapitalerhalt aktivieren",-1))]),a.value.capitalPreservationEnabled?(C(),F("label",Yh,[u[110]||(u[110]=i("span",{class:"field-label","data-tooltip":"Bei Unterschreitung dieses %-Werts vom Startkapital greift die Reduktion."},"Schwelle (% vom Startkapital)",-1)),i("input",{type:"number",step:"5",value:a.value.capitalPreservationThreshold,onInput:u[37]||(u[37]=v=>c("capitalPreservationThreshold",+v.target.value)),min:"10",max:"100"},null,40,qh)])):U("",!0),a.value.capitalPreservationEnabled?(C(),F("label",Xh,[u[111]||(u[111]=i("span",{class:"field-label","data-tooltip":"Um wie viel % die Entnahme reduziert wird, wenn Schwelle unterschritten."},"Reduktion (%)",-1)),i("input",{type:"number",step:"5",value:a.value.capitalPreservationReduction,onInput:u[38]||(u[38]=v=>c("capitalPreservationReduction",+v.target.value)),min:"5",max:"75"},null,40,Qh)])):U("",!0),a.value.capitalPreservationEnabled?(C(),F("label",ep,[u[112]||(u[112]=i("span",{class:"field-label","data-tooltip":"% ber Schwelle, ab dem Entnahme wieder normalisiert wird."},"Erholung (% ber Schwelle)",-1)),i("input",{type:"number",step:"5",value:a.value.capitalPreservationRecovery,onInput:u[39]||(u[39]=v=>c("capitalPreservationRecovery",+v.target.value)),min:"5",max:"50"},null,40,tp)])):U("",!0)])])):U("",!0),i("div",np,[u[123]||(u[123]=i("div",{class:"group__header"},[i("h2",null,"Monte-Carlo-Simulation"),i("p",null,"Stochastische Analyse mit variabler ETF-Rendite.")],-1)),i("div",sp,[i("label",lp,[u[114]||(u[114]=i("span",{class:"field-label","data-tooltip":"Wie oft die Simulation durchgefhrt wird."},"Anzahl Simulationen",-1)),i("input",{type:"number",step:"100",value:a.value.mcIterations,onInput:u[40]||(u[40]=v=>c("mcIterations",+v.target.value)),min:"100",max:"10000"},null,40,ap),u[115]||(u[115]=i("small",{class:"field-hint"},"100-10.000 Durchlufe",-1))]),i("label",ip,[u[116]||(u[116]=i("span",{class:"field-label","data-tooltip":"Standardabweichung der jhrlichen ETF-Rendite."},"ETF Volatilitt p.a. (%)",-1)),i("input",{type:"number",step:"0.5",value:a.value.mcVolatility,onInput:u[41]||(u[41]=v=>c("mcVolatility",+v.target.value)),min:"1",max:"50"},null,40,op),u[117]||(u[117]=i("small",{class:"field-hint"},"Historisch ~15-20% fr Aktien-ETFs",-1))]),b(l).expertMode?(C(),F("label",rp,[i("input",{type:"checkbox",checked:a.value.mcShowIndividual,onChange:u[42]||(u[42]=v=>c("mcShowIndividual",v.target.checked))},null,40,up),u[118]||(u[118]=i("span",{class:"field-label","data-tooltip":"Zeigt bis zu 50 einzelne Simulationspfade im Chart an."},"Einzelne Pfade anzeigen (max. 50)",-1))])):U("",!0),b(l).expertMode?(C(),F("label",cp,[u[119]||(u[119]=i("span",{class:"field-label","data-tooltip":"Minimales Endvermgen fr 'Erfolg'."},"Erfolgsschwelle ( real)",-1)),i("input",{type:"number",step:"100",value:a.value.mcSuccessThreshold,onInput:u[43]||(u[43]=v=>c("mcSuccessThreshold",+v.target.value)),min:"0",max:"1000000"},null,40,dp)])):U("",!0),b(l).expertMode?(C(),F("label",fp,[u[120]||(u[120]=i("span",{class:"field-label","data-tooltip":"Ruin-Schwelle als % des Vermgens bei Rentenbeginn."},"Ruin-Schwelle (% Rentenbeginn)",-1)),i("input",{type:"number",step:"1",value:a.value.mcRuinThreshold,onInput:u[44]||(u[44]=v=>c("mcRuinThreshold",+v.target.value)),min:"1",max:"50"},null,40,hp)])):U("",!0),b(l).expertMode?(C(),F("label",pp,[u[121]||(u[121]=i("span",{class:"field-label","data-tooltip":"Seed fr Zufallsgenerator."},"Random Seed (0=zufllig)",-1)),i("input",{type:"number",step:"1",value:a.value.mcSeed,onInput:u[45]||(u[45]=v=>c("mcSeed",+v.target.value)),min:"0",max:"999999"},null,40,mp)])):U("",!0),i("label",gp,[u[122]||(u[122]=i("span",{class:"field-label","data-tooltip":"Testet vorgegebene Marktbedingungen in den ersten Jahren der Entnahmephase."},"Stress-Szenario",-1)),i("select",{value:a.value.stressScenario,onChange:u[46]||(u[46]=v=>c("stressScenario",v.target.value))},[(C(!0),F(ze,null,en(z.value,v=>(C(),F("option",{key:v.key,value:v.key,title:v.description},G(v.name),9,bp))),128))],40,vp),a.value.stressScenario!=="none"?(C(),F("small",yp,G((k=z.value.find(v=>v.key===a.value.stressScenario))==null?void 0:k.description),1)):U("",!0)])])]),b(l).expertMode?(C(),F("div",_p,[u[148]||(u[148]=i("div",{class:"group__header"},[i("h2",null,"MC-Erweiterte Risiken"),i("p",null,"Zustzliche Schwankungsquellen fr realistischere Szenarien.")],-1)),i("div",Sp,[i("label",xp,[u[125]||(u[125]=i("span",{class:"field-label","data-tooltip":"Aktiviert zufllige jhrliche Schwankungen der Inflationsrate."},"Inflation-Modus",-1)),i("select",{value:a.value.mcInflationMode,onChange:u[47]||(u[47]=v=>c("mcInflationMode",v.target.value))},[...u[124]||(u[124]=[i("option",{value:"deterministic"},"Deterministisch (fix)",-1),i("option",{value:"random"},"Stochastisch (zufllig)",-1)])],40,wp)]),a.value.mcInflationMode==="random"?(C(),F("label",Ep,[u[126]||(u[126]=i("span",{class:"field-label","data-tooltip":"Standardabweichung der jhrlichen Inflation in Prozentpunkten."},"Inflation Volatilitt (%-Pkt.)",-1)),i("input",{type:"number",step:"0.1",value:a.value.mcInflationVolatility,onInput:u[48]||(u[48]=v=>c("mcInflationVolatility",+v.target.value)),min:"0.1",max:"5"},null,40,Mp)])):U("",!0),a.value.mcInflationMode==="random"?(C(),F("label",Rp,[u[127]||(u[127]=i("span",{class:"field-label","data-tooltip":"Minimale jhrliche Inflationsrate."},"Inflation Min (%)",-1)),i("input",{type:"number",step:"0.5",value:a.value.mcInflationFloor,onInput:u[49]||(u[49]=v=>c("mcInflationFloor",+v.target.value)),min:"-5",max:"5"},null,40,kp)])):U("",!0),a.value.mcInflationMode==="random"?(C(),F("label",Tp,[u[128]||(u[128]=i("span",{class:"field-label","data-tooltip":"Maximale jhrliche Inflationsrate."},"Inflation Max (%)",-1)),i("input",{type:"number",step:"0.5",value:a.value.mcInflationCap,onInput:u[50]||(u[50]=v=>c("mcInflationCap",+v.target.value)),min:"2",max:"20"},null,40,Cp)])):U("",!0)]),i("div",Pp,[i("label",$p,[u[130]||(u[130]=i("span",{class:"field-label","data-tooltip":"Aktiviert zufllige jhrliche Schwankungen des Tagesgeldzinses."},"Cashzins-Modus",-1)),i("select",{value:a.value.mcCashRateMode,onChange:u[51]||(u[51]=v=>c("mcCashRateMode",v.target.value))},[...u[129]||(u[129]=[i("option",{value:"deterministic"},"Deterministisch (fix)",-1),i("option",{value:"random"},"Stochastisch (zufllig)",-1)])],40,Ip)]),a.value.mcCashRateMode==="random"?(C(),F("label",Fp,[u[131]||(u[131]=i("span",{class:"field-label","data-tooltip":"Standardabweichung des jhrlichen Cashzinses in Prozentpunkten."},"Cashzins Volatilitt (%-Pkt.)",-1)),i("input",{type:"number",step:"0.1",value:a.value.mcCashRateVolatility,onInput:u[52]||(u[52]=v=>c("mcCashRateVolatility",+v.target.value)),min:"0.1",max:"3"},null,40,Ap)])):U("",!0),a.value.mcCashRateMode==="random"||a.value.mcInflationMode==="random"?(C(),F("label",zp,[u[132]||(u[132]=i("span",{class:"field-label","data-tooltip":"Korrelation zwischen Inflation und Cashzins (0.7 = stark positiv)."},"Korr. Inflation/Cashzins",-1)),i("input",{type:"number",step:"0.1",value:a.value.mcCorrInflationCash,onInput:u[53]||(u[53]=v=>c("mcCorrInflationCash",+v.target.value)),min:"0",max:"1"},null,40,Op)])):U("",!0)]),i("div",Vp,[i("label",Dp,[u[134]||(u[134]=i("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Einkommensschocks (Arbeitslosigkeit, Befrderung)."},"Einkommensschocks",-1)),i("select",{value:a.value.mcSavingShockMode,onChange:u[54]||(u[54]=v=>c("mcSavingShockMode",v.target.value))},[...u[133]||(u[133]=[i("option",{value:"off"},"Aus",-1),i("option",{value:"simple"},"Einfach (Ereignis-basiert)",-1)])],40,Wp)]),a.value.mcSavingShockMode==="simple"?(C(),F("label",Np,[u[135]||(u[135]=i("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit eines negativen Schocks pro Jahr."},"Negativ-Schock (% p.a.)",-1)),i("input",{type:"number",step:"0.5",value:a.value.mcSavingShockPNeg*100,onInput:u[55]||(u[55]=v=>c("mcSavingShockPNeg",+v.target.value/100)),min:"0",max:"20"},null,40,Lp)])):U("",!0),a.value.mcSavingShockMode==="simple"?(C(),F("label",jp,[u[136]||(u[136]=i("span",{class:"field-label","data-tooltip":"Dauer eines negativen Schocks in Monaten."},"Schock-Dauer (Monate)",-1)),i("input",{type:"number",step:"1",value:a.value.mcSavingShockDurationNeg,onInput:u[56]||(u[56]=v=>c("mcSavingShockDurationNeg",+v.target.value)),min:"1",max:"36"},null,40,Up)])):U("",!0),a.value.mcSavingShockMode==="simple"?(C(),F("label",Bp,[u[137]||(u[137]=i("span",{class:"field-label","data-tooltip":"Faktor auf Sparrate bei negativem Schock (0 = keine Sparleistung)."},"Faktor bei neg. Schock",-1)),i("input",{type:"number",step:"0.1",value:a.value.mcSavingShockFactorNeg,onInput:u[57]||(u[57]=v=>c("mcSavingShockFactorNeg",+v.target.value)),min:"0",max:"1"},null,40,Kp)])):U("",!0)]),i("div",Hp,[i("label",Jp,[u[139]||(u[139]=i("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Zusatzausgaben in der Entnahmephase."},"Extra-Ausgaben (Entnahme)",-1)),i("select",{value:a.value.mcExtraExpenseMode,onChange:u[58]||(u[58]=v=>c("mcExtraExpenseMode",v.target.value))},[...u[138]||(u[138]=[i("option",{value:"off"},"Aus",-1),i("option",{value:"percent_of_wealth"},"% vom Vermgen",-1),i("option",{value:"fixed_real"},"Fester Betrag (real)",-1)])],40,Gp)]),a.value.mcExtraExpenseMode!=="off"?(C(),F("label",Zp,[u[140]||(u[140]=i("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit einer Extra-Ausgabe pro Jahr."},"Wahrscheinlichkeit (% p.a.)",-1)),i("input",{type:"number",step:"1",value:a.value.mcExtraExpenseProbability*100,onInput:u[59]||(u[59]=v=>c("mcExtraExpenseProbability",+v.target.value/100)),min:"0",max:"30"},null,40,Yp)])):U("",!0),a.value.mcExtraExpenseMode==="percent_of_wealth"?(C(),F("label",qp,[u[141]||(u[141]=i("span",{class:"field-label","data-tooltip":"Hhe der Extra-Ausgabe als % des Vermgens."},"Hhe (% vom Vermgen)",-1)),i("input",{type:"number",step:"1",value:a.value.mcExtraExpensePercent,onInput:u[60]||(u[60]=v=>c("mcExtraExpensePercent",+v.target.value)),min:"1",max:"30"},null,40,Xp)])):U("",!0),a.value.mcExtraExpenseMode==="fixed_real"?(C(),F("label",Qp,[u[142]||(u[142]=i("span",{class:"field-label","data-tooltip":"Hhe der Extra-Ausgabe in EUR (kaufkraftbereinigt)."},"Hhe (EUR real)",-1)),i("input",{type:"number",step:"1000",value:a.value.mcExtraExpenseFixed,onInput:u[61]||(u[61]=v=>c("mcExtraExpenseFixed",+v.target.value)),min:"1000",max:"100000"},null,40,em)])):U("",!0)]),i("div",tm,[i("label",nm,[u[144]||(u[144]=i("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Crash-Ereignisse zustzlich zur normalen Volatilitt."},"Crash-Ereignisse",-1)),i("select",{value:a.value.mcCrashMode,onChange:u[62]||(u[62]=v=>c("mcCrashMode",v.target.value))},[...u[143]||(u[143]=[i("option",{value:"off"},"Aus",-1),i("option",{value:"simple"},"Einfach (zufllige Crashes)",-1)])],40,sm)]),a.value.mcCrashMode==="simple"?(C(),F("label",lm,[u[145]||(u[145]=i("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit eines Crashes pro Jahr."},"Crash-Wahrsch. (% p.a.)",-1)),i("input",{type:"number",step:"0.5",value:a.value.mcCrashProbability*100,onInput:u[63]||(u[63]=v=>c("mcCrashProbability",+v.target.value/100)),min:"0",max:"15"},null,40,am)])):U("",!0),a.value.mcCrashMode==="simple"?(C(),F("label",im,[u[146]||(u[146]=i("span",{class:"field-label","data-tooltip":"Minimale Crash-Tiefe (z.B. -25%)."},"Min. Crash (%)",-1)),i("input",{type:"number",step:"5",value:a.value.mcCrashDropMin*100,onInput:u[64]||(u[64]=v=>c("mcCrashDropMin",+v.target.value/100)),min:"-60",max:"-10"},null,40,om)])):U("",!0),a.value.mcCrashMode==="simple"?(C(),F("label",rm,[u[147]||(u[147]=i("span",{class:"field-label","data-tooltip":"Maximale Crash-Tiefe (z.B. -45%)."},"Max. Crash (%)",-1)),i("input",{type:"number",step:"5",value:a.value.mcCrashDropMax*100,onInput:u[65]||(u[65]=v=>c("mcCrashDropMax",+v.target.value/100)),min:"-70",max:"-15"},null,40,um)])):U("",!0)])])):U("",!0),i("div",cm,[u[149]||(u[149]=i("button",{type:"submit",class:"btn btn--primary"},"Simulation starten",-1)),i("button",{type:"button",class:"btn btn--accent",onClick:f},G(b(n).isRunning?"Abbrechen":"Monte-Carlo starten"),1),i("div",{class:"btn-group"},[i("button",{type:"button",class:"btn btn--secondary",onClick:w},"Zurcksetzen")])])],32)])}}},fm=ta(dm,[["__scopeId","data-v-a2ac3ab5"]]),ve=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),ae=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2});function na(e,t=!1){const s=new Date().toISOString();let n=`# ETF Sparplan Simulator v${cc}
`;return n+=`# Exportiert: ${s}
`,n+=`# Szenario: ${e.name||"Unbenannt"}
`,n+=`#
`,n+=`# Parameter:
`,n+=`# - Ansparphase: ${e.yearsSave} Jahre
`,n+=`# - Entnahmephase: ${e.yearsWithdraw} Jahre
`,n+=`# - Startkapital TG: ${ve.format(e.startSavings)} 
`,n+=`# - Startkapital ETF: ${ve.format(e.startEtf)} 
`,n+=`# - Monatl. Sparen TG: ${ve.format(e.monthlySavings)} 
`,n+=`# - Monatl. Sparen ETF: ${ve.format(e.monthlyEtf)} 
`,n+=`# - TG-Zins p.a.: ${ae.format(e.savingsRate)}%
`,n+=`# - ETF-Rendite p.a.: ${ae.format(e.etfRate)}%
`,n+=`# - Inflation p.a.: ${ae.format(e.inflationRate)}%
`,t&&(n+=`# - MC-Iterationen: ${e.mcIterations}
`,n+=`# - Volatilitt: ${ae.format(e.mcVolatility)}%
`),n+=`#
`,n}function hm(e,t){if(!(e!=null&&e.length))throw new Error("Keine Simulationsdaten vorhanden");if(!t)throw new Error("Kein Szenario bergeben");const s=na(t),n=["Monat","Jahr","Phase","Tagesgeld","ETF","Gesamt","Gesamt (real)","Einzahlung TG","Einzahlung ETF","TG-Zinsen","Entnahme (brutto)","Entnahme (netto)","Steuern","Vorabpauschale","Fehlbetrag","Inflation (kumuliert)"];let l=s;l+=n.join(";")+`
`;for(const a of e){const o=[a.month,a.year,a.phase,ae.format(a.savings),ae.format(a.etf),ae.format(a.total),ae.format(a.total_real),ae.format(a.savings_contrib||0),ae.format(a.etf_contrib||0),ae.format(a.savings_interest||0),ae.format(a.withdrawal||0),ae.format(a.withdrawal_net||0),ae.format(a.tax_paid||0),ae.format(a.vorabpauschale_tax||0),ae.format(a.shortfall||0),ae.format(a.cumulative_inflation||1)];l+=o.join(";")+`
`}la(l,`etf_simulation_${sa()}.csv`)}function pm(e,t){if(!(e!=null&&e.length))throw new Error("Keine Simulationsdaten vorhanden");if(!t)throw new Error("Kein Szenario bergeben");const s=na(t),n=_o(e),l=["Jahr","Phase","Tagesgeld (Jahresende)","ETF (Jahresende)","Gesamt","Gesamt (real)","Einzahlungen","Rendite","Entnahmen (gesamt)","Steuern (gesamt)"];let a=s;a+=l.join(";")+`
`;for(const o of n){const r=[o.year,o.phase,ae.format(o.savings),ae.format(o.etf),ae.format(o.total),ae.format(o.total_real),ae.format(o.deposits),ae.format(o.returns),ae.format(o.withdrawals),ae.format(o.taxes)];a+=r.join(";")+`
`}la(a,`etf_simulation_jahresuebersicht_${sa()}.csv`)}function mm(e,t){if(!e)throw new Error("Keine Monte-Carlo-Ergebnisse vorhanden");if(!t)throw new Error("Kein Szenario bergeben");let n=na(t,!0);n+=`# ZUSAMMENFASSUNG
`,n+=`Iterationen;${e.iterations}
`,n+=`Volatilitt;${ae.format(e.volatility)}%
`,n+=`Erfolgsrate;${ae.format(e.successRate)}%
`,n+=`Ruinwahrscheinlichkeit;${ae.format(e.ruinProbability)}%
`,n+=`Kapitalerhalt-Rate;${ae.format(e.capitalPreservationRate)}%
`,n+=`
`,n+=`Median Endvermgen;${ve.format(e.medianEnd)} 
`,n+=`Median Endvermgen (real);${ve.format(e.medianEndReal)} 
`,n+=`5. Perzentil;${ve.format(e.p5End)} 
`,n+=`95. Perzentil;${ve.format(e.p95End)} 
`,n+=`
`,e.sorr&&(n+=`# SEQUENCE-OF-RETURNS-RISIKO
`,n+=`SoRR-Score;${ae.format(e.sorr.sorRiskScore)}
`,n+=`Korrelation frhe Renditen;${ae.format(e.sorr.correlationEarlyReturns)}
`,n+=`Worst Sequence Endvermgen;${ve.format(e.sorr.worstSequenceEnd)} 
`,n+=`Best Sequence Endvermgen;${ve.format(e.sorr.bestSequenceEnd)} 
`,n+=`
`),n+=`# PERZENTILE PRO MONAT
`,n+=`Monat;P5;P10;P25;Median;P75;P90;P95
`;for(let l=0;l<e.months.length;l++){const a=e.percentiles;n+=[e.months[l],ve.format(a.p5[l]),ve.format(a.p10[l]),ve.format(a.p25[l]),ve.format(a.p50[l]),ve.format(a.p75[l]),ve.format(a.p90[l]),ve.format(a.p95[l])].join(";")+`
`}la(n,`etf_monte_carlo_${sa()}.csv`)}function gm(e,t,s){if(!s)throw new Error("Kein Szenario bergeben");const n=s,l=new Date().toLocaleString("de-DE"),a=e?_o(e):[];let o="";for(const c of a)o+=`
      <tr>
        <td>${c.year}</td>
        <td>${c.phase}</td>
        <td>${ve.format(c.total)} </td>
        <td>${ve.format(c.total_real)} </td>
        <td>${ve.format(c.deposits)} </td>
        <td>${ve.format(c.withdrawals)} </td>
      </tr>
    `;let r="";return t&&(r=`
      <div class="report-section">
        <h2>Monte-Carlo-Analyse</h2>
        <table class="report-table">
          <tr><td>Iterationen</td><td>${t.iterations}</td></tr>
          <tr><td>Volatilitt</td><td>${ae.format(t.volatility)}%</td></tr>
          <tr><td>Erfolgsrate</td><td>${ae.format(t.successRate)}%</td></tr>
          <tr><td>Ruinwahrscheinlichkeit</td><td>${ae.format(t.ruinProbability)}%</td></tr>
          <tr><td>Median Endvermgen</td><td>${ve.format(t.medianEnd)} </td></tr>
          <tr><td>5. Perzentil</td><td>${ve.format(t.p5End)} </td></tr>
          <tr><td>95. Perzentil</td><td>${ve.format(t.p95End)} </td></tr>
        </table>
      </div>
    `),`
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>ETF Simulator Report - ${n.name}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      color: #1a1a2e;
    }
    h1 { color: #f59e0b; border-bottom: 2px solid #f59e0b; padding-bottom: 10px; }
    h2 { color: #3b82f6; margin-top: 30px; }
    .report-header { display: flex; justify-content: space-between; align-items: center; }
    .report-date { color: #666; font-size: 14px; }
    .report-section { margin: 20px 0; }
    .report-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .report-card {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #3b82f6;
    }
    .report-card h3 { margin: 0 0 10px 0; color: #333; font-size: 14px; }
    .report-card .value { font-size: 24px; font-weight: bold; color: #1a1a2e; }
    .report-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }
    .report-table th, .report-table td {
      padding: 8px 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .report-table th { background: #f0f0f0; }
    .report-table tr:hover { background: #f8f9fa; }
    @media print {
      body { padding: 0; }
      .report-section { page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="report-header">
    <h1>ETF Sparplan Simulator Report</h1>
    <span class="report-date">Erstellt: ${l}</span>
  </div>
  
  <div class="report-section">
    <h2>Szenario: ${n.name}</h2>
    <div class="report-grid">
      <div class="report-card">
        <h3>Ansparphase</h3>
        <div class="value">${n.yearsSave} Jahre</div>
      </div>
      <div class="report-card">
        <h3>Entnahmephase</h3>
        <div class="value">${n.yearsWithdraw} Jahre</div>
      </div>
      <div class="report-card">
        <h3>Monatliche Sparrate</h3>
        <div class="value">${ve.format(n.monthlySavings+n.monthlyEtf)} </div>
      </div>
      <div class="report-card">
        <h3>ETF-Rendite p.a.</h3>
        <div class="value">${ae.format(n.etfRate)}%</div>
      </div>
    </div>
  </div>
  
  <div class="report-section">
    <h2>Parameter</h2>
    <table class="report-table">
      <tr><td>Startkapital Tagesgeld</td><td>${ve.format(n.startSavings)} </td></tr>
      <tr><td>Startkapital ETF</td><td>${ve.format(n.startEtf)} </td></tr>
      <tr><td>Tagesgeld-Zins p.a.</td><td>${ae.format(n.savingsRate)}%</td></tr>
      <tr><td>ETF TER</td><td>${ae.format(n.etfTer)}%</td></tr>
      <tr><td>Inflation p.a.</td><td>${ae.format(n.inflationRate)}%</td></tr>
      <tr><td>Sparerpauschbetrag</td><td>${ve.format(n.sparerpauschbetrag)} </td></tr>
    </table>
  </div>
  
  ${r}
  
  <div class="report-section">
    <h2>Jahresbersicht</h2>
    <table class="report-table">
      <thead>
        <tr>
          <th>Jahr</th>
          <th>Phase</th>
          <th>Gesamt</th>
          <th>Gesamt (real)</th>
          <th>Einzahlungen</th>
          <th>Entnahmen</th>
        </tr>
      </thead>
      <tbody>
        ${o}
      </tbody>
    </table>
  </div>
</body>
</html>
  `}function vm(e,t,s){const n=gm(e,t,s),l=new Blob([n],{type:"text/html"}),a=URL.createObjectURL(l),o=window.open(a,"_blank");o&&(o.onload=()=>{setTimeout(()=>o.print(),500)})}function _o(e){const t={};for(const s of e){t[s.year]||(t[s.year]={year:s.year,phase:s.phase,savings:0,etf:0,total:0,total_real:0,deposits:0,returns:0,withdrawals:0,taxes:0});const n=t[s.year];n.savings=s.savings,n.etf=s.etf,n.total=s.total,n.total_real=s.total_real,n.deposits+=(s.savings_contrib||0)+(s.etf_contrib||0),n.returns+=s.return_gain||0,n.withdrawals+=s.withdrawal||0,n.taxes+=s.tax_paid||0,n.phase=s.phase}return Object.values(t).sort((s,n)=>s.year-n.year)}function sa(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function la(e,t){const n=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(n),a=document.createElement("a");a.href=l,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)}const bm={class:"stat-label"},ym={key:0,class:"stat-hint"},X={__name:"StatsCard",props:{label:{type:String,required:!0},value:{type:String,default:"-"},hint:{type:String,default:""},highlight:{type:Boolean,default:!1},variant:{type:String,default:""},clickable:{type:Boolean,default:!1}},emits:["click"],setup(e){return(t,s)=>(C(),F("div",{class:De(["stat-card",{"stat-card--clickable":e.clickable,[`stat-card--${e.variant}`]:e.variant}]),onClick:s[0]||(s[0]=n=>e.clickable&&t.$emit("click"))},[i("span",bm,G(e.label),1),i("span",{class:De(["stat-value",{"stat-value--highlight":e.highlight}])},G(e.value),3),e.hint?(C(),F("small",ym,G(e.hint),1)):U("",!0)],2))}},_m={__name:"StandardChart",props:{history:{type:Array,default:()=>[]},logScale:{type:Boolean,default:!1}},setup(e){const t=e,s=le(null);let n=null;const l={total:"#f59e0b",real:"#22c55e",grid:"rgba(255, 255, 255, 0.1)",text:"#94a3b8",savingsPhase:"rgba(34, 197, 94, 0.1)",withdrawPhase:"rgba(251, 146, 60, 0.1)"};function a(){if(!s.value||!t.history.length)return;const r=s.value.getContext("2d"),d=window.devicePixelRatio||1,c=s.value.getBoundingClientRect();s.value.width=c.width*d,s.value.height=c.height*d,r.scale(d,d);const h=c.width,S=c.height,p={top:20,right:20,bottom:40,left:70},m=h-p.left-p.right,_=S-p.top-p.bottom;r.clearRect(0,0,h,S);const x=t.history.flatMap(k=>[k.total,k.totalReal]);let D=Math.min(...x),P=Math.max(...x);const f=P-D;D=Math.max(0,D-f*.05),P=P+f*.05;const E=k=>p.left+k/(t.history.length-1)*m,M=k=>{if(t.logScale&&k>0){const v=Math.log10(Math.max(1,D)),te=Math.log10(Math.max(1,P)),me=Math.log10(Math.max(1,k));return p.top+_-(me-v)/(te-v)*_}return p.top+_-(k-D)/(P-D)*_};r.strokeStyle=l.grid,r.lineWidth=1;const w=5;for(let k=0;k<=w;k++){const v=p.top+k/w*_;r.beginPath(),r.moveTo(p.left,v),r.lineTo(h-p.right,v),r.stroke();const te=P-k/w*(P-D);r.fillStyle=l.text,r.font="11px sans-serif",r.textAlign="right",r.fillText(o(te),p.left-8,v+4)}const O=t.history.filter(k=>k.phase==="saving").length;if(O>0&&O<t.history.length){const k=E(O);r.fillStyle=l.savingsPhase,r.fillRect(p.left,p.top,k-p.left,_),r.fillStyle=l.withdrawPhase,r.fillRect(k,p.top,h-p.right-k,_),r.strokeStyle="rgba(255, 255, 255, 0.3)",r.setLineDash([5,5]),r.beginPath(),r.moveTo(k,p.top),r.lineTo(k,p.top+_),r.stroke(),r.setLineDash([])}function z(k,v){r.strokeStyle=v,r.lineWidth=2,r.beginPath(),k.forEach((te,me)=>{const we=E(me),Z=M(te);me===0?r.moveTo(we,Z):r.lineTo(we,Z)}),r.stroke()}z(t.history.map(k=>k.total),l.total),z(t.history.map(k=>k.totalReal),l.real),r.fillStyle=l.text,r.font="11px sans-serif",r.textAlign="center";const T=Math.ceil(t.history.length/12),u=Math.ceil(T/10);for(let k=0;k<=T;k+=u){const v=k*12;if(v<t.history.length){const te=E(v);r.fillText(`${k}J`,te,S-10)}}}function o(r){return r>=1e6?`${(r/1e6).toFixed(1)}M `:r>=1e3?`${(r/1e3).toFixed(0)}k `:`${r.toFixed(0)} `}return Ot(()=>[t.history,t.logScale],a,{deep:!0}),us(()=>{a(),n=new ResizeObserver(a),n.observe(s.value)}),cs(()=>{n&&n.disconnect()}),(r,d)=>(C(),F("canvas",{ref_key:"canvas",ref:s,"aria-label":"Vermgensgraph",style:{width:"100%",height:"320px"}},null,512))}},Sm={class:"tab-content tab-content--active",role:"tabpanel"},xm={class:"result-header"},wm={class:"chart-controls"},Em=["disabled"],Mm=["disabled"],Rm={class:"graph-wrapper"},km={class:"result-header result-header--stats"},Tm={class:"stats-toggle"},Cm={class:"stats-panel"},Pm={class:"stats-section"},$m={class:"stats-grid"},Im={class:"stats-section"},Fm={class:"stats-grid"},Am={__name:"StandardTab",setup(e){const t=Lt(),s=mt(),n=hs(),l=Fn(),{formatCurrency:a,formatPercent:o}=nl();function r(){const p=t.history,m=s.activeScenario;try{hm(p,m)}catch(_){alert(_.message)}}function d(){const p=t.history,m=n.hasResults?n.results:null,_=s.activeScenario;try{vm(p,m,_)}catch(x){alert(x.message)}}const c=ce(()=>t.stats),h=ce(()=>l.showStatsNominal),S=ce(()=>{if(!c.value)return null;const p=t.history[t.history.length-1];return p?p.total<=0?{type:"critical",text:" Das Vermgen ist aufgebraucht!"}:p.totalReal<1e4?{type:"warning",text:" Das Endvermgen (real) ist sehr gering."}:{type:"ok",text:" Das Vermgen reicht ber den gesamten Zeitraum."}:null});return(p,m)=>{var _,x,D,P,f,E,M,w,O,z,T,u,k,v,te;return C(),F("div",Sm,[i("div",xm,[m[5]||(m[5]=i("div",null,[i("p",{class:"eyebrow"},"Visualisierung"),i("h2",null,"Vermgensverlauf")],-1)),i("div",wm,[i("button",{type:"button",class:"btn btn--small btn--ghost",onClick:r,title:"Als CSV exportieren",disabled:!b(t).hasResults},"  CSV ",8,Em),i("button",{type:"button",class:"btn btn--small btn--ghost",onClick:d,title:"Als PDF drucken",disabled:!b(t).hasResults},"  PDF ",8,Mm),m[4]||(m[4]=i("span",{class:"divider"},null,-1)),i("button",{type:"button",class:De(["btn-scale",{"btn-scale--active":b(l).standardChartLogScale}]),onClick:m[0]||(m[0]=me=>b(l).standardChartLogScale=!0),title:"Logarithmische Skala"}," Log ",2),i("button",{type:"button",class:De(["btn-scale",{"btn-scale--active":!b(l).standardChartLogScale}]),onClick:m[1]||(m[1]=me=>b(l).standardChartLogScale=!1),title:"Lineare Skala"}," Linear ",2)])]),m[7]||(m[7]=ls('<div class="mc-legend"><span class="legend__item"><span class="dot dot--total"></span>Gesamtvermgen</span><span class="legend__item"><span class="dot dot--real"></span>Gesamt (inflationsbereinigt)</span></div>',1)),i("div",Rm,[J(_m,{history:b(t).history,"log-scale":b(l).standardChartLogScale},null,8,["history","log-scale"])]),i("div",km,[m[6]||(m[6]=i("div",null,[i("p",{class:"eyebrow"},"Zusammenfassung"),i("h2",null,"Simulationsergebnisse")],-1)),i("div",Tm,[i("button",{type:"button",class:De(["stats-toggle-btn",{"stats-toggle-btn--active":h.value}]),onClick:m[2]||(m[2]=me=>b(l).showStatsNominal=!0)}," Nominal ",2),i("button",{type:"button",class:De(["stats-toggle-btn",{"stats-toggle-btn--active":!h.value}]),onClick:m[3]||(m[3]=me=>b(l).showStatsNominal=!1)}," Inflationsbereinigt ",2)])]),i("div",Cm,[xe(i("div",Pm,[i("div",$m,[J(X,{label:"Endvermgen",value:b(a)(b(t).endWealth)},null,8,["value"]),J(X,{label:"Vermgen bei Rentenbeginn",value:b(a)((_=c.value)==null?void 0:_.retirementWealth)},null,8,["value"]),J(X,{label:"Eingezahlt gesamt",value:b(a)((x=c.value)==null?void 0:x.totalInvested)},null,8,["value"]),J(X,{label:"Rendite gesamt",value:b(a)((D=c.value)==null?void 0:D.totalReturn)},null,8,["value"]),J(X,{label:" Entnahme/Monat",value:b(a)((P=c.value)==null?void 0:P.avgMonthlyWithdrawal)},null,8,["value"]),J(X,{label:"Entnahmen gesamt",value:b(a)((f=c.value)==null?void 0:f.totalWithdrawals)},null,8,["value"]),J(X,{label:"Steuern gesamt",value:b(a)((E=c.value)==null?void 0:E.totalTax)},null,8,["value"]),J(X,{label:"davon Vorabpauschale",value:b(a)((M=c.value)==null?void 0:M.totalVorabpauschale)},null,8,["value"]),J(X,{label:"Effektive Entnahmerate",value:b(o)((w=c.value)==null?void 0:w.effectiveWithdrawalRate)},null,8,["value"])])],512),[[rt,h.value]]),xe(i("div",Im,[i("div",Fm,[J(X,{label:"Endvermgen (Kaufkraft heute)",value:b(a)(b(t).endWealthReal),highlight:""},null,8,["value"]),J(X,{label:"Vermgen bei Rentenbeginn",value:b(a)((O=c.value)==null?void 0:O.retirementWealthReal),highlight:""},null,8,["value"]),J(X,{label:"Eingezahlt gesamt",value:b(a)((z=c.value)==null?void 0:z.totalInvested),hint:"Nominal, nicht inflationsbereinigt"},null,8,["value"]),J(X,{label:"Rendite gesamt (real)",value:b(a)((T=c.value)==null?void 0:T.totalReturnReal)},null,8,["value"]),J(X,{label:" Entnahme/Monat",value:b(a)((u=c.value)==null?void 0:u.avgMonthlyWithdrawalReal),highlight:""},null,8,["value"]),J(X,{label:"Entnahmen gesamt (real)",value:b(a)((k=c.value)==null?void 0:k.totalWithdrawalsReal)},null,8,["value"]),J(X,{label:"Kaufkraftverlust",value:b(o)((v=c.value)==null?void 0:v.purchasingPowerLoss),hint:"Durch Inflation ber die Laufzeit"},null,8,["value"]),J(X,{label:"Reale Rendite p.a.",value:b(o)((te=c.value)==null?void 0:te.realReturnPa),hint:"Nach Abzug der Inflation"},null,8,["value"])])],512),[[rt,!h.value]]),S.value?(C(),F("div",{key:0,class:De(["stat-warning",`stat-warning--${S.value.type}`])},G(S.value.text),3)):U("",!0)])])}}},Ms=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),lt=new Intl.NumberFormat("de-DE",{minimumFractionDigits:1,maximumFractionDigits:1});function zm(e,t){if(!e)return"";const s=t.savings_years+t.withdrawal_years,n=e.successRate||0,l=e.ruinProbability||0,a=e.medianEndReal||0,o=e.retirementMedian||0,r=e.emergencyFillProbability||0,d=e.emergencyMedianFillYears,c=[];return n>=95?c.push(`<strong>Sehr gute Aussichten:</strong> In ${lt.format(n)}% der ${Ms.format(e.iterations)} Simulationen war dein Geld nach ${s} Jahren noch nicht aufgebraucht.`):n>=80?c.push(`<strong>Gute Aussichten:</strong> In ${lt.format(n)}% der Simulationen reichte dein Vermgen ber die gesamte Laufzeit von ${s} Jahren.`):n>=50?c.push(`<strong>Erhhtes Risiko:</strong> Nur in ${lt.format(n)}% der Simulationen war dein Geld nach ${s} Jahren noch vorhanden. Erwge eine niedrigere Entnahmerate oder lngere Ansparphase.`):c.push(`<strong>Hohes Risiko:</strong> In nur ${lt.format(n)}% der Simulationen blieb Vermgen brig. Diese Strategie ist sehr riskant.`),l>0&&(l<5?c.push(`Das Risiko, whrend der Entnahmephase in finanzielle Schwierigkeiten zu geraten, liegt bei nur ${lt.format(l)}%.`):l<15?c.push(`Das Pleite-Risiko betrgt ${lt.format(l)}%  moderate Vorsicht ist geboten.`):c.push(`<strong>Achtung:</strong> Das Risiko eines Vermgensausfalls liegt bei ${lt.format(l)}%.`)),o>0&&c.push(`Bei Rentenbeginn (nach ${t.savings_years} Jahren) hast du im Median ca. ${Ms.format(o)}  angespart.`),a>0&&c.push(`Das inflationsbereinigte Median-Endvermgen betrgt ${Ms.format(a)} .`),t.savings_target>0&&(r>=95?c.push(`Dein Notgroschen-Ziel von ${Ms.format(t.savings_target)}  wird in ${lt.format(r)}% der Flle erreicht${d?` (im Median nach ${lt.format(d)} Jahren)`:""}.`):r>=80?c.push(`Der Notgroschen wird in ${lt.format(r)}% der Simulationen gefllt${d?`  typischerweise nach ${lt.format(d)} Jahren`:""}.`):r>0&&c.push(`Nur in ${lt.format(r)}% der Flle erreichst du dein Notgroschen-Ziel. Erwge eine hhere TG-Sparrate.`)),e.sorr&&e.sorr.sorRiskScore>30&&c.push(`<strong>Sequence-of-Returns-Risiko:</strong> Frhe Crashs in der Entnahmephase haben einen starken Einfluss auf dein Endvermgen (Korrelation: ${lt.format(Math.abs(e.sorr.correlationEarlyReturns*100))}%).`),c.join(" ")}const Om={__name:"MonteCarloChart",props:{results:{type:Object,default:null},logScale:{type:Boolean,default:!0}},setup(e){const t=e,s=le(null);let n=null;function l(){t.results&&Ec(t.results,{logScale:t.logScale})}return Ot(()=>[t.results,t.logScale],()=>{l()},{deep:!0}),us(()=>{l(),n=new ResizeObserver(()=>{l()}),s.value&&n.observe(s.value)}),cs(()=>{n&&n.disconnect()}),(a,o)=>(C(),F("canvas",{id:"mc-graph",ref_key:"canvas",ref:s,"aria-label":"Monte-Carlo Vermgensgraph",style:{width:"100%",height:"320px"}},null,512))}},Vm={class:"tab-content",role:"tabpanel"},Dm={key:0,class:"mc-empty-state"},Wm={key:1,class:"mc-results"},Nm={key:0,class:"mc-progress-bar"},Lm=["value"],jm={key:1,class:"mc-highlight"},Um={class:"mc-highlight-main"},Bm={class:"mc-highlight-meta"},Km={key:2,class:"mc-summary-box"},Hm=["innerHTML"],Jm={class:"result-header"},Gm={class:"chart-controls"},Zm={class:"graph-wrapper"},Ym={class:"result-header result-header--stats"},qm={class:"stats-toggle"},Xm={class:"stats-section"},Qm={class:"mc-stats-section"},eg={class:"stats-grid stats-grid--mc"},tg={class:"mc-stats-section"},ng={class:"stats-grid stats-grid--mc"},sg={class:"mc-stats-section"},lg={class:"stats-grid stats-grid--mc"},ag={key:0,class:"mc-stats-section"},ig={class:"stats-grid stats-grid--mc"},og={class:"stats-section"},rg={class:"mc-stats-section"},ug={class:"stats-grid stats-grid--mc"},cg={class:"mc-stats-section"},dg={class:"stats-grid stats-grid--mc"},fg={class:"mc-stats-section"},hg={class:"stats-grid stats-grid--mc"},pg={key:0,class:"mc-stats-section mc-additional-stats"},mg={class:"mc-stats-desc"},gg={class:"stats-grid stats-grid--sorr"},vg={key:1,class:"mc-optimize-section"},bg={__name:"MonteCarloTab",emits:["start-optimizer"],setup(e){const t=hs(),s=mt(),n=Lt(),l=Fn(),{formatCurrency:a,formatPercent:o}=nl(),r=ce(()=>{if(!t.results)return"";const p=n.buildSimulationParams(s.activeScenario);return zm(t.results,p)});function d(){if(t.results)try{mm(t.results,s.activeScenario)}catch(p){alert(p.message)}}const c=ce(()=>{const p=t.successRate;return p>=95?"success-high":p>=80?"success-medium":"success-low"}),h=ce(()=>{var _;const p=(_=t.results)==null?void 0:_.sorr;return p?`Die SoRR-Auswertung betrachtet die ersten ${p.vulnerabilityWindow||5} Jahre der Entnahmephase und vergleicht frhe Crash- vs. Boom-Szenarien. Hohe Werte bedeuten, dass die Reihenfolge der Renditen einen starken Einfluss auf das Endvermgen hat.`:""}),S=ce(()=>l.showMcStatsNominal);return(p,m)=>{var _,x,D,P,f,E,M,w,O,z,T,u,k,v,te,me,we,Z,B,N,K,he,Pe,je,Me,Et,vn,bn,gt,Mt,Ut,sn,vt,An,g,y,R,V,$,A,j,L,W;return C(),F("div",Vm,[!b(t).hasResults&&!b(t).isRunning?(C(),F("div",Dm,[...m[5]||(m[5]=[ls('<div class="mc-empty-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"></path><circle cx="12" cy="12" r="3"></circle></svg></div><h3>Monte-Carlo-Simulation starten</h3><p>Klicke auf &quot;Monte-Carlo starten&quot; um eine stochastische Analyse mit variabler ETF-Rendite durchzufhren.</p><p class="mc-empty-hint">Die Simulation fhrt hunderte Durchlufe mit zuflligen Renditen durch und zeigt die Erfolgswahrscheinlichkeit deiner Entnahme-Strategie.</p>',4)])])):(C(),F("div",Wm,[b(t).isRunning?(C(),F("div",Nm,[i("progress",{value:b(t).progress,max:"100"},null,8,Lm),i("span",null,G(b(t).progressText),1)])):U("",!0),b(t).hasResults?(C(),F("div",jm,[i("div",Um,[m[6]||(m[6]=i("span",{class:"mc-highlight-label"},"Erfolgswahrscheinlichkeit",-1)),i("span",{class:De(["mc-highlight-value",c.value])},G(b(o)(b(t).successRate)),3),m[7]||(m[7]=i("span",{class:"mc-highlight-hint"}," Keine Entnahme-Shortfalls & Endvermgen > Schwelle ",-1))]),i("div",Bm,G(((_=b(t).results)==null?void 0:_.iterations)||"-")+" Simulationen durchgefhrt ",1)])):U("",!0),b(t).hasResults&&r.value?(C(),F("div",Km,[m[8]||(m[8]=i("div",{class:"mc-summary-icon"},"",-1)),i("div",{class:"mc-summary-text",innerHTML:r.value},null,8,Hm)])):U("",!0),b(t).hasResults?(C(),F(ze,{key:3},[i("div",Jm,[m[10]||(m[10]=i("div",null,[i("p",{class:"eyebrow"},"Visualisierung"),i("h2",null,"Vermgensverteilung ber Zeit")],-1)),i("div",Gm,[i("button",{type:"button",class:"btn btn--small btn--ghost",onClick:d,title:"MC-Ergebnisse als CSV exportieren"},"  CSV Export "),m[9]||(m[9]=i("span",{class:"divider"},null,-1)),i("button",{type:"button",class:De(["btn-scale",{"btn-scale--active":b(l).mcChartLogScale}]),onClick:m[0]||(m[0]=I=>b(l).mcChartLogScale=!0),title:"Logarithmische Skala"}," Log ",2),i("button",{type:"button",class:De(["btn-scale",{"btn-scale--active":!b(l).mcChartLogScale}]),onClick:m[1]||(m[1]=I=>b(l).mcChartLogScale=!1),title:"Lineare Skala"}," Linear ",2)])]),m[20]||(m[20]=ls('<div class="mc-legend"><span class="legend__item"><span class="dot dot--mc-median"></span>Median (50%)</span><span class="legend__item"><span class="dot dot--mc-50"></span>25%-75%</span><span class="legend__item"><span class="dot dot--mc-80"></span>10%-90%</span><span class="legend__item"><span class="dot dot--mc-p5"></span>5% (Worst)</span><span class="legend__item"><span class="dot dot--mc-p95"></span>95% (Best)</span></div>',1)),i("div",Zm,[J(Om,{results:b(t).results,"log-scale":b(l).mcChartLogScale},null,8,["results","log-scale"])]),i("div",Ym,[m[11]||(m[11]=i("div",null,[i("p",{class:"eyebrow"},"Zusammenfassung"),i("h2",null,"Simulationsergebnisse")],-1)),i("div",qm,[i("button",{type:"button",class:De(["stats-toggle-btn",{"stats-toggle-btn--active":S.value}]),onClick:m[2]||(m[2]=I=>b(l).showMcStatsNominal=!0)}," Nominal ",2),i("button",{type:"button",class:De(["stats-toggle-btn",{"stats-toggle-btn--active":!S.value}]),onClick:m[3]||(m[3]=I=>b(l).showMcStatsNominal=!1)}," Inflationsbereinigt ",2)])]),xe(i("div",Xm,[i("div",Qm,[m[12]||(m[12]=i("h4",{class:"mc-stats-title"},"Endvermgen",-1)),i("div",eg,[J(X,{label:"Median (50%)",value:b(a)((x=b(t).results)==null?void 0:x.medianEnd),variant:"mc",hint:"Typischer Verlauf"},null,8,["value"]),J(X,{label:"Spanne (10%-90%)",value:`${b(a)((D=b(t).results)==null?void 0:D.p10End)} - ${b(a)((P=b(t).results)==null?void 0:P.p90End)}`,variant:"mc",hint:"80% Konfidenzintervall"},null,8,["value"]),J(X,{label:"Konservativ (25%)",value:b(a)((f=b(t).results)==null?void 0:f.p25End),variant:"worst",hint:"Jeder 4. Fall ist schlechter"},null,8,["value"]),J(X,{label:"Optimistisch (75%)",value:b(a)((E=b(t).results)==null?void 0:E.p75End),variant:"best",hint:"Jeder 4. Fall ist besser"},null,8,["value"])])]),i("div",tg,[m[13]||(m[13]=i("h4",{class:"mc-stats-title"},"Entnahmen & Rente",-1)),i("div",ng,[J(X,{label:" Monatliche Rente",value:b(a)((M=b(t).results)==null?void 0:M.medianAvgWithdrawalNet),variant:"mc",hint:"Median ber alle Simulationen"},null,8,["value"]),J(X,{label:"Entnahmen Gesamt",value:b(a)((w=b(t).results)==null?void 0:w.medianTotalWithdrawalGross),variant:"mc",hint:"Median Gesamtentnahme"},null,8,["value"]),J(X,{label:"Vermgen bei Rentenbeginn",value:b(a)((O=b(t).results)==null?void 0:O.retirementMedian),variant:"best",hint:"Median zu Start der Entnahme"},null,8,["value"]),J(X,{label:"Durchschnittl. Endvermgen",value:b(a)((z=b(t).results)==null?void 0:z.meanEnd),variant:"mc",hint:"Arithmetisches Mittel"},null,8,["value"])])]),i("div",sg,[m[14]||(m[14]=i("h4",{class:"mc-stats-title"},"Risikokennzahlen",-1)),i("div",lg,[J(X,{label:"Kapitalerhalt (nominal)",value:b(o)((T=b(t).results)==null?void 0:T.capitalPreservationRate),variant:"mc",hint:"Endvermgen  Startvermgen (ohne Inflationsausgleich)"},null,8,["value"]),J(X,{label:"Pleite-Risiko (P&D)",value:b(o)(b(t).ruinProbability),variant:"mc",hint:"Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase"},null,8,["value"]),J(X,{label:"Shortfall-Quote (Entnahme)",value:b(o)((u=b(t).results)==null?void 0:u.entnahmeShortfallRate),variant:"mc",hint:"Entnahme < Ziel (Min. SWR unter 2+ Jahre Delay)"},null,8,["value"])])]),((k=b(t).results)==null?void 0:k.emergencyFillProbability)>0?(C(),F("div",ag,[m[15]||(m[15]=i("h4",{class:"mc-stats-title"},"Notgroschen (Monte-Carlo)",-1)),i("div",ig,[J(X,{label:"Wird gefllt",value:b(o)((v=b(t).results)==null?void 0:v.emergencyFillProbability),variant:"mc",hint:"Anteil der Pfade mit erreichtem TG-Ziel"},null,8,["value"]),(te=b(t).results)!=null&&te.emergencyMedianFillYears?(C(),Mn(X,{key:0,label:"Zeit bis voll",value:`${(we=(me=b(t).results)==null?void 0:me.emergencyMedianFillYears)==null?void 0:we.toFixed(1)} Jahre`,variant:"mc",hint:"Median Zeit-Phase, in denen er gefllt wird"},null,8,["value"])):U("",!0)])])):U("",!0)],512),[[rt,S.value]]),xe(i("div",og,[i("div",rg,[m[16]||(m[16]=i("h4",{class:"mc-stats-title"},"Endvermgen (Kaufkraft heute)",-1)),i("div",ug,[J(X,{label:"Median (50%)",value:b(a)((Z=b(t).results)==null?void 0:Z.medianEndReal),variant:"mc",highlight:"",hint:"Typischer Verlauf in heutiger Kaufkraft"},null,8,["value"]),J(X,{label:"Spanne (10%-90%)",value:`${b(a)((B=b(t).results)==null?void 0:B.p10EndReal)} - ${b(a)((N=b(t).results)==null?void 0:N.p90EndReal)}`,variant:"mc",hint:"80% Konfidenzintervall"},null,8,["value"]),J(X,{label:"Konservativ (25%)",value:b(a)((K=b(t).results)==null?void 0:K.p25EndReal),variant:"worst",hint:"In heutiger Kaufkraft"},null,8,["value"]),J(X,{label:"Optimistisch (75%)",value:b(a)((he=b(t).results)==null?void 0:he.p75EndReal),variant:"best",hint:"In heutiger Kaufkraft (75%-Perzentil)"},null,8,["value"])])]),i("div",cg,[m[17]||(m[17]=i("h4",{class:"mc-stats-title"},"Entnahmen & Rente (real)",-1)),i("div",dg,[J(X,{label:" Monatliche Rente",value:b(a)((Pe=b(t).results)==null?void 0:Pe.medianAvgWithdrawalNetReal),variant:"mc",hint:"Median ber alle Simulationen (real)"},null,8,["value"]),J(X,{label:"Entnahmen Gesamt",value:b(a)((je=b(t).results)==null?void 0:je.medianTotalWithdrawalGrossReal),variant:"mc",hint:"Median Gesamtentnahme (real)"},null,8,["value"]),J(X,{label:"Vermgen bei Rentenbeginn",value:b(a)((Me=b(t).results)==null?void 0:Me.retirementMedianReal),variant:"best",hint:"Median zu Start der Entnahme (real)"},null,8,["value"]),J(X,{label:"Durchschnittl. Endvermgen",value:b(a)((Et=b(t).results)==null?void 0:Et.meanEndReal),variant:"mc",hint:"Arithmetisches Mittel (inflationsbereinigt)"},null,8,["value"])])]),i("div",fg,[m[18]||(m[18]=i("h4",{class:"mc-stats-title"},"Risikokennzahlen",-1)),i("div",hg,[J(X,{label:"Kapitalerhalt (real)",value:b(o)((vn=b(t).results)==null?void 0:vn.capitalPreservationRateReal),variant:"mc",hint:"Kaufkraft erhalten"},null,8,["value"]),J(X,{label:"Pleite-Risiko (P&D)",value:b(o)(b(t).ruinProbability),variant:"mc",hint:"Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase"},null,8,["value"]),J(X,{label:"Shortfall-Quote (Entnahme)",value:b(o)((bn=b(t).results)==null?void 0:bn.entnahmeShortfallRate),variant:"mc",hint:"Entnahme < Ziel (Min. SWR unter 2+ Jahre Delay)"},null,8,["value"])])])],512),[[rt,!S.value]]),(gt=b(t).results)!=null&&gt.sorr?(C(),F("div",pg,[m[19]||(m[19]=i("h4",{class:"mc-stats-title"},"Sequence-of-Returns-Risk (SoRR)",-1)),i("p",mg,G(h.value),1),i("div",gg,[J(X,{label:"SoRR-Spreizung",value:b(o)(((Ut=(Mt=b(t).results)==null?void 0:Mt.sorr)==null?void 0:Ut.sorRiskScore)||0),variant:"sorr-main",hint:"Unterschied beste vs. schlechteste Sequenz"},null,8,["value"]),J(X,{label:"Frher Crash-Effekt",value:b(a)(((vt=(sn=b(t).results)==null?void 0:sn.sorr)==null?void 0:vt.worstSequenceEnd)||0),variant:"worst",hint:"Endvermgen-Reduktion bei frhem Crash"},null,8,["value"]),J(X,{label:"Frher Boom-Effekt",value:b(a)(((g=(An=b(t).results)==null?void 0:An.sorr)==null?void 0:g.bestSequenceEnd)||0),variant:"best",hint:"Endvermgen-Bonus bei frhen Boom"},null,8,["value"]),J(X,{label:"Korrelation (frhe Rendite  Ende)",value:b(o)(Math.abs(((R=(y=b(t).results)==null?void 0:y.sorr)==null?void 0:R.correlationEarlyReturns)||0)*100),variant:"mc",hint:"Wie stark beeinflusst 'frhe Jahre' das Ergo"},null,8,["value"]),J(X,{label:"Endvermgen (schlechte Sequenz)",value:b(a)((($=(V=b(t).results)==null?void 0:V.sorr)==null?void 0:$.worstSequenceEnd)||0),variant:"worst",hint:" bei schlechten frhen Renditen"},null,8,["value"]),J(X,{label:"Endvermgen (gute Sequenz)",value:b(a)(((j=(A=b(t).results)==null?void 0:A.sorr)==null?void 0:j.bestSequenceEnd)||0),variant:"best",hint:" bei guten frhen Renditen"},null,8,["value"]),J(X,{label:"Kritisches Fenster",value:String(((W=(L=b(t).results)==null?void 0:L.sorr)==null?void 0:W.vulnerabilityWindow)||5),variant:"mc",hint:"Hchste Sensitivitt in diesen Jahren"},null,8,["value"])])])):U("",!0),b(t).hasResults?(C(),F("div",vg,[i("button",{type:"button",class:"btn btn--primary btn--optimize",onClick:m[4]||(m[4]=I=>p.$emit("start-optimizer"))}," Parameter optimieren ")])):U("",!0)],64)):U("",!0)]))])}}},yg={class:"tab-content",role:"tabpanel"},_g={class:"result-header"},Sg={class:"chart-controls"},xg=["disabled"],wg={key:0,class:"mc-empty-state"},Eg={key:1,class:"table-wrapper"},Mg={__name:"YearlyTableTab",setup(e){const t=Lt(),s=mt(),{formatCurrency:n}=nl(),l=ce(()=>{const o=t.history;if(!o.length)return[];const r=[];for(let d=0;d<o.length;d+=12){const c=o[Math.min(d+11,o.length-1)];d>0&&o[d-1];const S={year:Math.floor(d/12)+1,phase:c.phase==="saving"?"Anspar":"Entnahme",savingsEnd:c.savings,etfEnd:c.etf,totalEnd:c.total,totalReal:c.totalReal,deposited:0,withdrawn:0,taxPaid:0};for(let p=d;p<Math.min(d+12,o.length);p++){const m=o[p];S.deposited+=(m.savingsContrib||0)+(m.etfContrib||0),S.withdrawn+=m.withdrawal||0,S.taxPaid+=m.taxPaid||0}r.push(S)}return r});function a(){const o=t.history,r=s.activeScenario;try{pm(o,r)}catch(d){alert(d.message)}}return(o,r)=>(C(),F("div",yg,[i("div",_g,[r[0]||(r[0]=i("div",null,[i("p",{class:"eyebrow"},"Detailansicht"),i("h2",null,"Jahresbersicht")],-1)),i("div",Sg,[i("button",{type:"button",class:"btn btn--small btn--ghost",onClick:a,title:"Jahresbersicht als CSV exportieren",disabled:l.value.length===0}," CSV ",8,xg)])]),l.value.length===0?(C(),F("div",wg,[...r[1]||(r[1]=[i("h3",null,"Keine Daten vorhanden",-1),i("p",null,"Starte eine Simulation um die Jahresbersicht zu sehen.",-1)])])):(C(),F("div",Eg,[i("table",null,[r[2]||(r[2]=i("thead",null,[i("tr",null,[i("th",null,"Jahr"),i("th",null,"Phase"),i("th",null,"Tagesgeld"),i("th",null,"ETF"),i("th",null,"Gesamt"),i("th",null,"Gesamt (real)"),i("th",null,"Eingezahlt"),i("th",null,"Entnommen"),i("th",null,"Steuern")])],-1)),i("tbody",null,[(C(!0),F(ze,null,en(l.value,d=>(C(),F("tr",{key:d.year},[i("td",null,G(d.year),1),i("td",null,G(d.phase),1),i("td",null,G(b(n)(d.savingsEnd)),1),i("td",null,G(b(n)(d.etfEnd)),1),i("td",null,G(b(n)(d.totalEnd)),1),i("td",null,G(b(n)(d.totalReal)),1),i("td",null,G(b(n)(d.deposited)),1),i("td",null,G(b(n)(d.withdrawn)),1),i("td",null,G(b(n)(d.taxPaid)),1)]))),128))])])]))]))}},Rg={"aria-label":"Simulationsergebnisse"},kg={class:"tabs",role:"tablist","aria-label":"Ergebnis-Ansichten"},Tg=["aria-selected","onClick"],Cg={key:0,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Pg={key:1,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},$g={key:2,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ig={key:3,class:"tab-badge"},Fg={__name:"ResultsPanel",setup(e){const t=Fn(),s=hs(),n=[{id:"standard",label:"Standard",icon:"chart"},{id:"tabelle",label:"Jahresbersicht",icon:"table"},{id:"monte-carlo",label:"Monte-Carlo",icon:"dice"}];function l(){t.showOptimizerModal=!0}return(a,o)=>(C(),F("section",Rg,[i("div",kg,[(C(),F(ze,null,en(n,r=>i("button",{key:r.id,class:De(["tab",{"tab--active":b(t).activeTab===r.id}]),role:"tab","aria-selected":b(t).activeTab===r.id,onClick:d=>b(t).setActiveTab(r.id)},[r.icon==="chart"?(C(),F("svg",Cg,[...o[0]||(o[0]=[i("path",{d:"M3 3v18h18"},null,-1),i("path",{d:"M18 9l-5 5-4-4-3 3"},null,-1)])])):r.icon==="table"?(C(),F("svg",Pg,[...o[1]||(o[1]=[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"},null,-1),i("path",{d:"M3 9h18M3 15h18M9 3v18"},null,-1)])])):r.icon==="dice"?(C(),F("svg",$g,[...o[2]||(o[2]=[i("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"},null,-1)])])):U("",!0),ht(" "+G(r.label)+" ",1),r.id==="monte-carlo"&&b(s).hasResults?(C(),F("span",Ig,"")):U("",!0)],10,Tg)),64))]),xe(J(Am,null,null,512),[[rt,b(t).activeTab==="standard"]]),xe(J(Mg,null,null,512),[[rt,b(t).activeTab==="tabelle"]]),xe(J(bg,{onStartOptimizer:l},null,512),[[rt,b(t).activeTab==="monte-carlo"]])]))}},Ag={class:"page",role:"main"},zg={__name:"App",setup(e){const t=mt(),s=Lt(),n=hs(),l=Fn();return wc({onRunSimulation:()=>s.runSimulation(),onCloseModals:()=>l.closeAllModals(),onAbortMonteCarlo:()=>n.isRunning?(n.abortSimulation(),!0):!1,onToggleTab:a=>l.setActiveTab(a)}),us(async()=>{l.initTheme(),t.initFromStorage(),t.loadFromShareUrl(),await Ys(),li(s.history,n.results),Mc()}),Ot(()=>[s.history,n.results],()=>{li(s.history,n.results)},{deep:!0}),(a,o)=>(C(),F(ze,null,[o[4]||(o[4]=i("a",{href:"#sim-form",class:"skip-link"},"Zum Formular springen",-1)),J(Tc),b(l).showInfoModal?(C(),Mn($c,{key:0,onClose:o[0]||(o[0]=r=>b(l).showInfoModal=!1)})):U("",!0),b(l).showFormulaModal?(C(),Mn(Ac,{key:1,onClose:o[1]||(o[1]=r=>b(l).showFormulaModal=!1)})):U("",!0),b(l).showWizardModal?(C(),Mn(Md,{key:2,onClose:o[2]||(o[2]=r=>b(l).showWizardModal=!1)})):U("",!0),b(l).showOptimizerModal?(C(),Mn(cf,{key:3,onClose:o[3]||(o[3]=r=>b(l).showOptimizerModal=!1)})):U("",!0),i("main",Ag,[J(fm,{class:"panel panel--inputs"}),J(Fg,{class:"panel panel--results"})]),o[5]||(o[5]=i("div",{id:"tooltip",class:"tooltip","data-visible":"false"},null,-1)),o[6]||(o[6]=i("div",{class:"risk-widget-container"},[i("div",{id:"risk-widget",class:"risk-widget"})],-1))],64))}},So=qu(zg),Og=ec();So.use(Og);So.mount("#app");
