(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wl(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},Pn=[],Pt=()=>{},fi=()=>!1,Us=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gl=e=>e.startsWith("onUpdate:"),at=Object.assign,Kl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Lo=Object.prototype.hasOwnProperty,_e=(e,t)=>Lo.call(e,t),ee=Array.isArray,$n=e=>hs(e)==="[object Map]",Vn=e=>hs(e)==="[object Set]",Ma=e=>hs(e)==="[object Date]",ie=e=>typeof e=="function",Ge=e=>typeof e=="string",$t=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",hi=e=>(Me(e)||ie(e))&&ie(e.then)&&ie(e.catch),pi=Object.prototype.toString,hs=e=>pi.call(e),Wo=e=>hs(e).slice(8,-1),mi=e=>hs(e)==="[object Object]",js=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yn=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hs=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},Go=/-\w/g,rn=Hs(e=>e.replace(Go,t=>t.slice(1).toUpperCase())),Ko=/\B([A-Z])/g,xn=Hs(e=>e.replace(Ko,"-$1").toLowerCase()),vi=Hs(e=>e.charAt(0).toUpperCase()+e.slice(1)),gl=Hs(e=>e?`on${vi(e)}`:""),an=(e,t)=>!Object.is(e,t),$s=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},gi=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Js=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ka;const Zs=()=>ka||(ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ul(e){if(ee(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=Ge(n)?Jo(n):Ul(n);if(a)for(const i in a)t[i]=a[i]}return t}else if(Ge(e)||Me(e))return e}const Uo=/;(?![^(]*\))/g,jo=/:([^]+)/,Ho=/\/\*[^]*?\*\//g;function Jo(e){const t={};return e.replace(Ho,"").split(Uo).forEach(s=>{if(s){const n=s.split(jo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function pe(e){let t="";if(Ge(e))t=e;else if(ee(e))for(let s=0;s<e.length;s++){const n=pe(e[s]);n&&(t+=n+" ")}else if(Me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Zo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yo=Wl(Zo);function bi(e){return!!e||e===""}function qo(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Sn(e[n],t[n]);return s}function Sn(e,t){if(e===t)return!0;let s=Ma(e),n=Ma(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=$t(e),n=$t(t),s||n)return e===t;if(s=ee(e),n=ee(t),s||n)return s&&n?qo(e,t):!1;if(s=Me(e),n=Me(t),s||n){if(!s||!n)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const r in e){const o=e.hasOwnProperty(r),d=t.hasOwnProperty(r);if(o&&!d||!o&&d||!Sn(e[r],t[r]))return!1}}return String(e)===String(t)}function jl(e,t){return e.findIndex(s=>Sn(s,t))}const yi=e=>!!(e&&e.__v_isRef===!0),k=e=>Ge(e)?e:e==null?"":ee(e)||Me(e)&&(e.toString===pi||!ie(e.toString))?yi(e)?k(e.value):JSON.stringify(e,_i,2):String(e),_i=(e,t)=>yi(t)?_i(e,t.value):$n(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],i)=>(s[bl(n,i)+" =>"]=a,s),{})}:Vn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>bl(s))}:$t(t)?bl(t):Me(t)&&!ee(t)&&!mi(t)?String(t):t,bl=(e,t="")=>{var s;return $t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class Si{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!t&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=qe;try{return qe=this,t()}finally{qe=s}}}on(){++this._on===1&&(this.prevScope=qe,qe=this)}off(){this._on>0&&--this._on===0&&(qe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Ei(e){return new Si(e)}function xi(){return qe}function Xo(e,t=!1){qe&&qe.cleanups.push(e)}let Re;const yl=new WeakSet;class wi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yl.has(this)&&(yl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ca(this),ki(this);const t=Re,s=xt;Re=this,xt=!0;try{return this.fn()}finally{Ci(this),Re=t,xt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zl(t);this.deps=this.depsTail=void 0,Ca(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cl(this)&&this.run()}get dirty(){return Cl(this)}}let Ri=0,qn,Xn;function Mi(e,t=!1){if(e.flags|=8,t){e.next=Xn,Xn=e;return}e.next=qn,qn=e}function Hl(){Ri++}function Jl(){if(--Ri>0)return;if(Xn){let t=Xn;for(Xn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;qn;){let t=qn;for(qn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ki(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ci(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),Zl(n),Qo(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function Cl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ti(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ti(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===is)||(e.globalVersion=is,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Cl(e))))return;e.flags|=2;const t=e.dep,s=Re,n=xt;Re=e,xt=!0;try{ki(e);const a=e.fn(e._value);(t.version===0||an(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Re=s,xt=n,Ci(e),e.flags&=-3}}function Zl(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Zl(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Qo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let xt=!0;const Pi=[];function Ut(){Pi.push(xt),xt=!1}function jt(){const e=Pi.pop();xt=e===void 0?!0:e}function Ca(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Re;Re=void 0;try{t()}finally{Re=s}}}let is=0;class er{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Re||!xt||Re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Re)s=this.activeLink=new er(Re,this),Re.deps?(s.prevDep=Re.depsTail,Re.depsTail.nextDep=s,Re.depsTail=s):Re.deps=Re.depsTail=s,$i(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Re.depsTail,s.nextDep=void 0,Re.depsTail.nextDep=s,Re.depsTail=s,Re.deps===s&&(Re.deps=n)}return s}trigger(t){this.version++,is++,this.notify(t)}notify(t){Hl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Jl()}}}function $i(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)$i(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const zs=new WeakMap,yn=Symbol(""),Tl=Symbol(""),os=Symbol("");function Xe(e,t,s){if(xt&&Re){let n=zs.get(e);n||zs.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Yl),a.map=n,a.key=s),a.track()}}function Bt(e,t,s,n,a,i){const r=zs.get(e);if(!r){is++;return}const o=d=>{d&&d.trigger()};if(Hl(),t==="clear")r.forEach(o);else{const d=ee(e),f=d&&js(s);if(d&&s==="length"){const g=Number(n);r.forEach((_,h)=>{(h==="length"||h===os||!$t(h)&&h>=g)&&o(_)})}else switch((s!==void 0||r.has(void 0))&&o(r.get(s)),f&&o(r.get(os)),t){case"add":d?f&&o(r.get("length")):(o(r.get(yn)),$n(e)&&o(r.get(Tl)));break;case"delete":d||(o(r.get(yn)),$n(e)&&o(r.get(Tl)));break;case"set":$n(e)&&o(r.get(yn));break}}Jl()}function tr(e,t){const s=zs.get(e);return s&&s.get(t)}function Mn(e){const t=be(e);return t===e?t:(Xe(t,"iterate",os),mt(e)?t:t.map(wt))}function Ys(e){return Xe(e=be(e),"iterate",os),e}function nn(e,t){return Ht(e)?Gt(e)?In(wt(t)):In(t):wt(t)}const nr={__proto__:null,[Symbol.iterator](){return _l(this,Symbol.iterator,e=>nn(this,e))},concat(...e){return Mn(this).concat(...e.map(t=>ee(t)?Mn(t):t))},entries(){return _l(this,"entries",e=>(e[1]=nn(this,e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,s=>s.map(n=>nn(this,n)),arguments)},find(e,t){return Dt(this,"find",e,t,s=>nn(this,s),arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,s=>nn(this,s),arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Sl(this,"includes",e)},indexOf(...e){return Sl(this,"indexOf",e)},join(e){return Mn(this).join(e)},lastIndexOf(...e){return Sl(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return Kn(this,"pop")},push(...e){return Kn(this,"push",e)},reduce(e,...t){return Ta(this,"reduce",e,t)},reduceRight(e,...t){return Ta(this,"reduceRight",e,t)},shift(){return Kn(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return Kn(this,"splice",e)},toReversed(){return Mn(this).toReversed()},toSorted(e){return Mn(this).toSorted(e)},toSpliced(...e){return Mn(this).toSpliced(...e)},unshift(...e){return Kn(this,"unshift",e)},values(){return _l(this,"values",e=>nn(this,e))}};function _l(e,t,s){const n=Ys(e),a=n[t]();return n!==e&&!mt(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.done||(i.value=s(i.value)),i}),a}const sr=Array.prototype;function Dt(e,t,s,n,a,i){const r=Ys(e),o=r!==e&&!mt(e),d=r[t];if(d!==sr[t]){const _=d.apply(e,i);return o?wt(_):_}let f=s;r!==e&&(o?f=function(_,h){return s.call(this,nn(e,_),h,e)}:s.length>2&&(f=function(_,h){return s.call(this,_,h,e)}));const g=d.call(r,f,n);return o&&a?a(g):g}function Ta(e,t,s,n){const a=Ys(e);let i=s;return a!==e&&(mt(e)?s.length>3&&(i=function(r,o,d){return s.call(this,r,o,d,e)}):i=function(r,o,d){return s.call(this,r,nn(e,o),d,e)}),a[t](i,...n)}function Sl(e,t,s){const n=be(e);Xe(n,"iterate",os);const a=n[t](...s);return(a===-1||a===!1)&&Xs(s[0])?(s[0]=be(s[0]),n[t](...s)):a}function Kn(e,t,s=[]){Ut(),Hl();const n=be(e)[t].apply(e,s);return Jl(),jt(),n}const lr=Wl("__proto__,__v_isRef,__isVue"),Ai=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function ar(e){$t(e)||(e=String(e));const t=be(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class Ii{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(a?i?mr:zi:i?Vi:Ni).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=ee(t);if(!a){let d;if(r&&(d=nr[s]))return d;if(s==="hasOwnProperty")return ar}const o=Reflect.get(t,s,Ve(t)?t:n);if(($t(s)?Ai.has(s):lr(s))||(a||Xe(t,"get",s),i))return o;if(Ve(o)){const d=r&&js(s)?o:o.value;return a&&Me(d)?$l(d):d}return Me(o)?a?$l(o):qs(o):o}}class Fi extends Ii{constructor(t=!1){super(!1,t)}set(t,s,n,a){let i=t[s];const r=ee(t)&&js(s);if(!this._isShallow){const f=Ht(i);if(!mt(n)&&!Ht(n)&&(i=be(i),n=be(n)),!r&&Ve(i)&&!Ve(n))return f||(i.value=n),!0}const o=r?Number(s)<t.length:_e(t,s),d=Reflect.set(t,s,n,Ve(t)?t:a);return t===be(a)&&(o?an(n,i)&&Bt(t,"set",s,n):Bt(t,"add",s,n)),d}deleteProperty(t,s){const n=_e(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Bt(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!$t(s)||!Ai.has(s))&&Xe(t,"has",s),n}ownKeys(t){return Xe(t,"iterate",ee(t)?"length":yn),Reflect.ownKeys(t)}}class ir extends Ii{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const or=new Fi,rr=new ir,ur=new Fi(!0);const Pl=e=>e,ks=e=>Reflect.getPrototypeOf(e);function cr(e,t,s){return function(...n){const a=this.__v_raw,i=be(a),r=$n(i),o=e==="entries"||e===Symbol.iterator&&r,d=e==="keys"&&r,f=a[e](...n),g=s?Pl:t?In:wt;return!t&&Xe(i,"iterate",d?Tl:yn),{next(){const{value:_,done:h}=f.next();return h?{value:_,done:h}:{value:o?[g(_[0]),g(_[1])]:g(_),done:h}},[Symbol.iterator](){return this}}}}function Cs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function dr(e,t){const s={get(a){const i=this.__v_raw,r=be(i),o=be(a);e||(an(a,o)&&Xe(r,"get",a),Xe(r,"get",o));const{has:d}=ks(r),f=t?Pl:e?In:wt;if(d.call(r,a))return f(i.get(a));if(d.call(r,o))return f(i.get(o));i!==r&&i.get(a)},get size(){const a=this.__v_raw;return!e&&Xe(be(a),"iterate",yn),a.size},has(a){const i=this.__v_raw,r=be(i),o=be(a);return e||(an(a,o)&&Xe(r,"has",a),Xe(r,"has",o)),a===o?i.has(a):i.has(a)||i.has(o)},forEach(a,i){const r=this,o=r.__v_raw,d=be(o),f=t?Pl:e?In:wt;return!e&&Xe(d,"iterate",yn),o.forEach((g,_)=>a.call(i,f(g),f(_),r))}};return at(s,e?{add:Cs("add"),set:Cs("set"),delete:Cs("delete"),clear:Cs("clear")}:{add(a){!t&&!mt(a)&&!Ht(a)&&(a=be(a));const i=be(this);return ks(i).has.call(i,a)||(i.add(a),Bt(i,"add",a,a)),this},set(a,i){!t&&!mt(i)&&!Ht(i)&&(i=be(i));const r=be(this),{has:o,get:d}=ks(r);let f=o.call(r,a);f||(a=be(a),f=o.call(r,a));const g=d.call(r,a);return r.set(a,i),f?an(i,g)&&Bt(r,"set",a,i):Bt(r,"add",a,i),this},delete(a){const i=be(this),{has:r,get:o}=ks(i);let d=r.call(i,a);d||(a=be(a),d=r.call(i,a)),o&&o.call(i,a);const f=i.delete(a);return d&&Bt(i,"delete",a,void 0),f},clear(){const a=be(this),i=a.size!==0,r=a.clear();return i&&Bt(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=cr(a,e,t)}),s}function ql(e,t){const s=dr(e,t);return(n,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(_e(s,a)&&a in n?s:n,a,i)}const fr={get:ql(!1,!1)},hr={get:ql(!1,!0)},pr={get:ql(!0,!1)};const Ni=new WeakMap,Vi=new WeakMap,zi=new WeakMap,mr=new WeakMap;function vr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gr(e){return e.__v_skip||!Object.isExtensible(e)?0:vr(Wo(e))}function qs(e){return Ht(e)?e:Xl(e,!1,or,fr,Ni)}function br(e){return Xl(e,!1,ur,hr,Vi)}function $l(e){return Xl(e,!0,rr,pr,zi)}function Xl(e,t,s,n,a){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=gr(e);if(i===0)return e;const r=a.get(e);if(r)return r;const o=new Proxy(e,i===2?n:s);return a.set(e,o),o}function Gt(e){return Ht(e)?Gt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function mt(e){return!!(e&&e.__v_isShallow)}function Xs(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function Ql(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&gi(e,"__v_skip",!0),e}const wt=e=>Me(e)?qs(e):e,In=e=>Me(e)?$l(e):e;function Ve(e){return e?e.__v_isRef===!0:!1}function Z(e){return yr(e,!1)}function yr(e,t){return Ve(e)?e:new _r(e,t)}class _r{constructor(t,s){this.dep=new Yl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:be(t),this._value=s?t:wt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||mt(t)||Ht(t);t=n?t:be(t),an(t,s)&&(this._rawValue=t,this._value=n?t:wt(t),this.dep.trigger())}}function p(e){return Ve(e)?e.value:e}const Sr={get:(e,t,s)=>t==="__v_raw"?e:p(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return Ve(a)&&!Ve(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function Di(e){return Gt(e)?e:new Proxy(e,Sr)}function Er(e){const t=ee(e)?new Array(e.length):{};for(const s in e)t[s]=wr(e,s);return t}class xr{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=be(t);let a=!0,i=t;if(!ee(t)||!js(String(s)))do a=!Xs(i)||mt(i);while(a&&(i=i.__v_raw));this._shallow=a}get value(){let t=this._object[this._key];return this._shallow&&(t=p(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ve(this._raw[this._key])){const s=this._object[this._key];if(Ve(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return tr(this._raw,this._key)}}function wr(e,t,s){return new xr(e,t,s)}class Rr{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Yl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return Mi(this,!0),!0}get value(){const t=this.dep.track();return Ti(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Mr(e,t,s=!1){let n,a;return ie(e)?n=e:(n=e.get,a=e.set),new Rr(n,a,s)}const Ts={},Ds=new WeakMap;let gn;function kr(e,t=!1,s=gn){if(s){let n=Ds.get(s);n||Ds.set(s,n=[]),n.push(e)}}function Cr(e,t,s=xe){const{immediate:n,deep:a,once:i,scheduler:r,augmentJob:o,call:d}=s,f=M=>a?M:mt(M)||a===!1||a===0?Lt(M,1):Lt(M);let g,_,h,m,S=!1,u=!1;if(Ve(e)?(_=()=>e.value,S=mt(e)):Gt(e)?(_=()=>f(e),S=!0):ee(e)?(u=!0,S=e.some(M=>Gt(M)||mt(M)),_=()=>e.map(M=>{if(Ve(M))return M.value;if(Gt(M))return f(M);if(ie(M))return d?d(M,2):M()})):ie(e)?t?_=d?()=>d(e,2):e:_=()=>{if(h){Ut();try{h()}finally{jt()}}const M=gn;gn=g;try{return d?d(e,3,[m]):e(m)}finally{gn=M}}:_=Pt,t&&a){const M=_,w=a===!0?1/0:a;_=()=>Lt(M(),w)}const N=xi(),A=()=>{g.stop(),N&&N.active&&Kl(N.effects,g)};if(i&&t){const M=t;t=(...w)=>{M(...w),A()}}let v=u?new Array(e.length).fill(Ts):Ts;const R=M=>{if(!(!(g.flags&1)||!g.dirty&&!M))if(t){const w=g.run();if(a||S||(u?w.some((F,x)=>an(F,v[x])):an(w,v))){h&&h();const F=gn;gn=g;try{const x=[w,v===Ts?void 0:u&&v[0]===Ts?[]:v,m];v=w,d?d(t,3,x):t(...x)}finally{gn=F}}}else g.run()};return o&&o(R),g=new wi(_),g.scheduler=r?()=>r(R,!1):R,m=M=>kr(M,!1,g),h=g.onStop=()=>{const M=Ds.get(g);if(M){if(d)d(M,4);else for(const w of M)w();Ds.delete(g)}},t?n?R(!0):v=g.run():r?r(R.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function Lt(e,t=1/0,s){if(t<=0||!Me(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ve(e))Lt(e.value,t,s);else if(ee(e))for(let n=0;n<e.length;n++)Lt(e[n],t,s);else if(Vn(e)||$n(e))e.forEach(n=>{Lt(n,t,s)});else if(mi(e)){for(const n in e)Lt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Lt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ps(e,t,s,n){try{return n?e(...n):e()}catch(a){Qs(a,t,s)}}function At(e,t,s,n){if(ie(e)){const a=ps(e,t,s,n);return a&&hi(a)&&a.catch(i=>{Qs(i,t,s)}),a}if(ee(e)){const a=[];for(let i=0;i<e.length;i++)a.push(At(e[i],t,s,n));return a}}function Qs(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||xe;if(t){let o=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;o;){const g=o.ec;if(g){for(let _=0;_<g.length;_++)if(g[_](e,d,f)===!1)return}o=o.parent}if(i){Ut(),ps(i,null,10,[e,d,f]),jt();return}}Tr(e,s,a,n,r)}function Tr(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const st=[];let Ct=-1;const An=[];let sn=null,Tn=0;const Oi=Promise.resolve();let Os=null;function el(e){const t=Os||Oi;return e?t.then(this?e.bind(this):e):t}function Pr(e){let t=Ct+1,s=st.length;for(;t<s;){const n=t+s>>>1,a=st[n],i=rs(a);i<e||i===e&&a.flags&2?t=n+1:s=n}return t}function ea(e){if(!(e.flags&1)){const t=rs(e),s=st[st.length-1];!s||!(e.flags&2)&&t>=rs(s)?st.push(e):st.splice(Pr(t),0,e),e.flags|=1,Bi()}}function Bi(){Os||(Os=Oi.then(Wi))}function $r(e){ee(e)?An.push(...e):sn&&e.id===-1?sn.splice(Tn+1,0,e):e.flags&1||(An.push(e),e.flags|=1),Bi()}function Pa(e,t,s=Ct+1){for(;s<st.length;s++){const n=st[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;st.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Li(e){if(An.length){const t=[...new Set(An)].sort((s,n)=>rs(s)-rs(n));if(An.length=0,sn){sn.push(...t);return}for(sn=t,Tn=0;Tn<sn.length;Tn++){const s=sn[Tn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}sn=null,Tn=0}}const rs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wi(e){try{for(Ct=0;Ct<st.length;Ct++){const t=st[Ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ps(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ct<st.length;Ct++){const t=st[Ct];t&&(t.flags&=-2)}Ct=-1,st.length=0,Li(),Os=null,(st.length||An.length)&&Wi()}}let yt=null,Gi=null;function Bs(e){const t=yt;return yt=e,Gi=e&&e.type.__scopeId||null,t}function Ar(e,t=yt,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&Ba(-1);const i=Bs(t);let r;try{r=e(...a)}finally{Bs(i),n._d&&Ba(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function ae(e,t){if(yt===null)return e;const s=ll(yt),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,r,o,d=xe]=t[a];i&&(ie(i)&&(i={mounted:i,updated:i}),i.deep&&Lt(r),n.push({dir:i,instance:s,value:r,oldValue:void 0,arg:o,modifiers:d}))}return e}function pn(e,t,s,n){const a=e.dirs,i=t&&t.dirs;for(let r=0;r<a.length;r++){const o=a[r];i&&(o.oldValue=i[r].value);let d=o.dir[n];d&&(Ut(),At(d,s,8,[e.el,o,e,t]),jt())}}const Ir=Symbol("_vte"),Fr=e=>e.__isTeleport,Nr=Symbol("_leaveCb");function ta(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ta(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ki(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ls=new WeakMap;function Qn(e,t,s,n,a=!1){if(ee(e)){e.forEach((S,u)=>Qn(S,t&&(ee(t)?t[u]:t),s,n,a));return}if(es(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Qn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?ll(n.component):n.el,r=a?null:i,{i:o,r:d}=e,f=t&&t.r,g=o.refs===xe?o.refs={}:o.refs,_=o.setupState,h=be(_),m=_===xe?fi:S=>_e(h,S);if(f!=null&&f!==d){if($a(t),Ge(f))g[f]=null,m(f)&&(_[f]=null);else if(Ve(f)){f.value=null;const S=t;S.k&&(g[S.k]=null)}}if(ie(d))ps(d,o,12,[r,g]);else{const S=Ge(d),u=Ve(d);if(S||u){const N=()=>{if(e.f){const A=S?m(d)?_[d]:g[d]:d.value;if(a)ee(A)&&Kl(A,i);else if(ee(A))A.includes(i)||A.push(i);else if(S)g[d]=[i],m(d)&&(_[d]=g[d]);else{const v=[i];d.value=v,e.k&&(g[e.k]=v)}}else S?(g[d]=r,m(d)&&(_[d]=r)):u&&(d.value=r,e.k&&(g[e.k]=r))};if(r){const A=()=>{N(),Ls.delete(e)};A.id=-1,Ls.set(e,A),ft(A,s)}else $a(e),N()}}}function $a(e){const t=Ls.get(e);t&&(t.flags|=8,Ls.delete(e))}Zs().requestIdleCallback;Zs().cancelIdleCallback;const es=e=>!!e.type.__asyncLoader,Ui=e=>e.type.__isKeepAlive;function Vr(e,t){ji(e,"a",t)}function zr(e,t){ji(e,"da",t)}function ji(e,t,s=lt){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(tl(t,n,s),s){let a=s.parent;for(;a&&a.parent;)Ui(a.parent.vnode)&&Dr(n,t,s,a),a=a.parent}}function Dr(e,t,s,n){const a=tl(t,e,n,!0);ms(()=>{Kl(n[t],a)},s)}function tl(e,t,s=lt,n=!1){if(s){const a=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ut();const o=vs(s),d=At(t,s,e,r);return o(),jt(),d});return n?a.unshift(i):a.push(i),i}}const Zt=e=>(t,s=lt)=>{(!ds||e==="sp")&&tl(e,(...n)=>t(...n),s)},Or=Zt("bm"),zn=Zt("m"),Br=Zt("bu"),Lr=Zt("u"),Wr=Zt("bum"),ms=Zt("um"),Gr=Zt("sp"),Kr=Zt("rtg"),Ur=Zt("rtc");function jr(e,t=lt){tl("ec",e,t)}const Hr=Symbol.for("v-ndc");function ht(e,t,s,n){let a;const i=s,r=ee(e);if(r||Ge(e)){const o=r&&Gt(e);let d=!1,f=!1;o&&(d=!mt(e),f=Ht(e),e=Ys(e)),a=new Array(e.length);for(let g=0,_=e.length;g<_;g++)a[g]=t(d?f?In(wt(e[g])):wt(e[g]):e[g],g,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i)}else if(Me(e))if(e[Symbol.iterator])a=Array.from(e,(o,d)=>t(o,d,void 0,i));else{const o=Object.keys(e);a=new Array(o.length);for(let d=0,f=o.length;d<f;d++){const g=o[d];a[d]=t(e[g],g,d,i)}}else a=[];return a}const Al=e=>e?mo(e)?ll(e):Al(e.parent):null,ts=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Al(e.parent),$root:e=>Al(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ji(e),$forceUpdate:e=>e.f||(e.f=()=>{ea(e.update)}),$nextTick:e=>e.n||(e.n=el.bind(e.proxy)),$watch:e=>iu.bind(e)}),El=(e,t)=>e!==xe&&!e.__isScriptSetup&&_e(e,t),Jr={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:i,accessCache:r,type:o,appContext:d}=e;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return i[t]}else{if(El(n,t))return r[t]=1,n[t];if(a!==xe&&_e(a,t))return r[t]=2,a[t];if(_e(i,t))return r[t]=3,i[t];if(s!==xe&&_e(s,t))return r[t]=4,s[t];Il&&(r[t]=0)}}const f=ts[t];let g,_;if(f)return t==="$attrs"&&Xe(e.attrs,"get",""),f(e);if((g=o.__cssModules)&&(g=g[t]))return g;if(s!==xe&&_e(s,t))return r[t]=4,s[t];if(_=d.config.globalProperties,_e(_,t))return _[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:i}=e;return El(a,t)?(a[t]=s,!0):n!==xe&&_e(n,t)?(n[t]=s,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,props:i,type:r}},o){let d;return!!(s[o]||e!==xe&&o[0]!=="$"&&_e(e,o)||El(t,o)||_e(i,o)||_e(n,o)||_e(ts,o)||_e(a.config.globalProperties,o)||(d=r.__cssModules)&&d[o])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:_e(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Aa(e){return ee(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Il=!0;function Zr(e){const t=Ji(e),s=e.proxy,n=e.ctx;Il=!1,t.beforeCreate&&Ia(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:r,watch:o,provide:d,inject:f,created:g,beforeMount:_,mounted:h,beforeUpdate:m,updated:S,activated:u,deactivated:N,beforeDestroy:A,beforeUnmount:v,destroyed:R,unmounted:M,render:w,renderTracked:F,renderTriggered:x,errorCaptured:C,serverPrefetch:c,expose:T,inheritAttrs:y,components:q,directives:ve,filters:me}=t;if(f&&Yr(f,n,null),r)for(const B in r){const K=r[B];ie(K)&&(n[B]=K.bind(s))}if(a){const B=a.call(s,s);Me(B)&&(e.data=qs(B))}if(Il=!0,i)for(const B in i){const K=i[B],oe=ie(K)?K.bind(s,s):ie(K.get)?K.get.bind(s,s):Pt,ke=!ie(K)&&ie(K.set)?K.set.bind(s):Pt,Ce=le({get:oe,set:ke});Object.defineProperty(n,B,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:ce=>Ce.value=ce})}if(o)for(const B in o)Hi(o[B],n,s,B);if(d){const B=ie(d)?d.call(s):d;Reflect.ownKeys(B).forEach(K=>{nu(K,B[K])})}g&&Ia(g,e,"c");function j(B,K){ee(K)?K.forEach(oe=>B(oe.bind(s))):K&&B(K.bind(s))}if(j(Or,_),j(zn,h),j(Br,m),j(Lr,S),j(Vr,u),j(zr,N),j(jr,C),j(Ur,F),j(Kr,x),j(Wr,v),j(ms,M),j(Gr,c),ee(T))if(T.length){const B=e.exposed||(e.exposed={});T.forEach(K=>{Object.defineProperty(B,K,{get:()=>s[K],set:oe=>s[K]=oe,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===Pt&&(e.render=w),y!=null&&(e.inheritAttrs=y),q&&(e.components=q),ve&&(e.directives=ve),c&&Ki(e)}function Yr(e,t,s=Pt){ee(e)&&(e=Fl(e));for(const n in e){const a=e[n];let i;Me(a)?"default"in a?i=ns(a.from||n,a.default,!0):i=ns(a.from||n):i=ns(a),Ve(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[n]=i}}function Ia(e,t,s){At(ee(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Hi(e,t,s,n){let a=n.includes(".")?qi(s,n):()=>s[n];if(Ge(e)){const i=t[e];ie(i)&&Kt(a,i)}else if(ie(e))Kt(a,e.bind(s));else if(Me(e))if(ee(e))e.forEach(i=>Hi(i,t,s,n));else{const i=ie(e.handler)?e.handler.bind(s):t[e.handler];ie(i)&&Kt(a,i,e)}}function Ji(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,o=i.get(t);let d;return o?d=o:!a.length&&!s&&!n?d=t:(d={},a.length&&a.forEach(f=>Ws(d,f,r,!0)),Ws(d,t,r)),Me(t)&&i.set(t,d),d}function Ws(e,t,s,n=!1){const{mixins:a,extends:i}=t;i&&Ws(e,i,s,!0),a&&a.forEach(r=>Ws(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const o=qr[r]||s&&s[r];e[r]=o?o(e[r],t[r]):t[r]}return e}const qr={data:Fa,props:Na,emits:Na,methods:Zn,computed:Zn,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Zn,directives:Zn,watch:Qr,provide:Fa,inject:Xr};function Fa(e,t){return t?e?function(){return at(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function Xr(e,t){return Zn(Fl(e),Fl(t))}function Fl(e){if(ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function tt(e,t){return e?[...new Set([].concat(e,t))]:t}function Zn(e,t){return e?at(Object.create(null),e,t):t}function Na(e,t){return e?ee(e)&&ee(t)?[...new Set([...e,...t])]:at(Object.create(null),Aa(e),Aa(t??{})):t}function Qr(e,t){if(!e)return t;if(!t)return e;const s=at(Object.create(null),e);for(const n in t)s[n]=tt(e[n],t[n]);return s}function Zi(){return{app:null,config:{isNativeTag:fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eu=0;function tu(e,t){return function(n,a=null){ie(n)||(n=at({},n)),a!=null&&!Me(a)&&(a=null);const i=Zi(),r=new WeakSet,o=[];let d=!1;const f=i.app={_uid:eu++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:zu,get config(){return i.config},set config(g){},use(g,..._){return r.has(g)||(g&&ie(g.install)?(r.add(g),g.install(f,..._)):ie(g)&&(r.add(g),g(f,..._))),f},mixin(g){return i.mixins.includes(g)||i.mixins.push(g),f},component(g,_){return _?(i.components[g]=_,f):i.components[g]},directive(g,_){return _?(i.directives[g]=_,f):i.directives[g]},mount(g,_,h){if(!d){const m=f._ceVNode||Y(n,a);return m.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(m,g,h),d=!0,f._container=g,g.__vue_app__=f,ll(m.component)}},onUnmount(g){o.push(g)},unmount(){d&&(At(o,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,_){return i.provides[g]=_,f},runWithContext(g){const _=_n;_n=f;try{return g()}finally{_n=_}}};return f}}let _n=null;function nu(e,t){if(lt){let s=lt.provides;const n=lt.parent&&lt.parent.provides;n===s&&(s=lt.provides=Object.create(n)),s[e]=t}}function ns(e,t,s=!1){const n=po();if(n||_n){let a=_n?_n._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&ie(t)?t.call(n&&n.proxy):t}}function su(){return!!(po()||_n)}const lu=Symbol.for("v-scx"),au=()=>ns(lu);function Kt(e,t,s){return Yi(e,t,s)}function Yi(e,t,s=xe){const{immediate:n,deep:a,flush:i,once:r}=s,o=at({},s),d=t&&n||!t&&i!=="post";let f;if(ds){if(i==="sync"){const m=au();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!d){const m=()=>{};return m.stop=Pt,m.resume=Pt,m.pause=Pt,m}}const g=lt;o.call=(m,S,u)=>At(m,g,S,u);let _=!1;i==="post"?o.scheduler=m=>{ft(m,g&&g.suspense)}:i!=="sync"&&(_=!0,o.scheduler=(m,S)=>{S?m():ea(m)}),o.augmentJob=m=>{t&&(m.flags|=4),_&&(m.flags|=2,g&&(m.id=g.uid,m.i=g))};const h=Cr(e,t,o);return ds&&(f?f.push(h):d&&h()),h}function iu(e,t,s){const n=this.proxy,a=Ge(e)?e.includes(".")?qi(n,e):()=>n[e]:e.bind(n,n);let i;ie(t)?i=t:(i=t.handler,s=t);const r=vs(this),o=Yi(a,i.bind(n),s);return r(),o}function qi(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const ou=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rn(t)}Modifiers`]||e[`${xn(t)}Modifiers`];function ru(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||xe;let a=s;const i=t.startsWith("update:"),r=i&&ou(n,t.slice(7));r&&(r.trim&&(a=s.map(g=>Ge(g)?g.trim():g)),r.number&&(a=s.map(Js)));let o,d=n[o=gl(t)]||n[o=gl(rn(t))];!d&&i&&(d=n[o=gl(xn(t))]),d&&At(d,e,6,a);const f=n[o+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,At(f,e,6,a)}}const uu=new WeakMap;function Xi(e,t,s=!1){const n=s?uu:t.emitsCache,a=n.get(e);if(a!==void 0)return a;const i=e.emits;let r={},o=!1;if(!ie(e)){const d=f=>{const g=Xi(f,t,!0);g&&(o=!0,at(r,g))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!i&&!o?(Me(e)&&n.set(e,null),null):(ee(i)?i.forEach(d=>r[d]=null):at(r,i),Me(e)&&n.set(e,r),r)}function nl(e,t){return!e||!Us(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,xn(t))||_e(e,t))}function Va(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[i],slots:r,attrs:o,emit:d,render:f,renderCache:g,props:_,data:h,setupState:m,ctx:S,inheritAttrs:u}=e,N=Bs(e);let A,v;try{if(s.shapeFlag&4){const M=a||n,w=M;A=Tt(f.call(w,M,g,_,m,h,S)),v=o}else{const M=t;A=Tt(M.length>1?M(_,{attrs:o,slots:r,emit:d}):M(_,null)),v=t.props?o:cu(o)}}catch(M){ss.length=0,Qs(M,e,1),A=Y(un)}let R=A;if(v&&u!==!1){const M=Object.keys(v),{shapeFlag:w}=R;M.length&&w&7&&(i&&M.some(Gl)&&(v=du(v,i)),R=Fn(R,v,!1,!0))}return s.dirs&&(R=Fn(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&ta(R,s.transition),A=R,Bs(N),A}const cu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Us(s))&&((t||(t={}))[s]=e[s]);return t},du=(e,t)=>{const s={};for(const n in e)(!Gl(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function fu(e,t,s){const{props:n,children:a,component:i}=e,{props:r,children:o,patchFlag:d}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?za(n,r,f):!!r;if(d&8){const g=t.dynamicProps;for(let _=0;_<g.length;_++){const h=g[_];if(r[h]!==n[h]&&!nl(f,h))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===r?!1:n?r?za(n,r,f):!0:!!r;return!1}function za(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(t[i]!==e[i]&&!nl(s,i))return!0}return!1}function hu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Qi={},eo=()=>Object.create(Qi),to=e=>Object.getPrototypeOf(e)===Qi;function pu(e,t,s,n=!1){const a={},i=eo();e.propsDefaults=Object.create(null),no(e,t,a,i);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);s?e.props=n?a:br(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function mu(e,t,s,n){const{props:a,attrs:i,vnode:{patchFlag:r}}=e,o=be(a),[d]=e.propsOptions;let f=!1;if((n||r>0)&&!(r&16)){if(r&8){const g=e.vnode.dynamicProps;for(let _=0;_<g.length;_++){let h=g[_];if(nl(e.emitsOptions,h))continue;const m=t[h];if(d)if(_e(i,h))m!==i[h]&&(i[h]=m,f=!0);else{const S=rn(h);a[S]=Nl(d,o,S,m,e,!1)}else m!==i[h]&&(i[h]=m,f=!0)}}}else{no(e,t,a,i)&&(f=!0);let g;for(const _ in o)(!t||!_e(t,_)&&((g=xn(_))===_||!_e(t,g)))&&(d?s&&(s[_]!==void 0||s[g]!==void 0)&&(a[_]=Nl(d,o,_,void 0,e,!0)):delete a[_]);if(i!==o)for(const _ in i)(!t||!_e(t,_))&&(delete i[_],f=!0)}f&&Bt(e.attrs,"set","")}function no(e,t,s,n){const[a,i]=e.propsOptions;let r=!1,o;if(t)for(let d in t){if(Yn(d))continue;const f=t[d];let g;a&&_e(a,g=rn(d))?!i||!i.includes(g)?s[g]=f:(o||(o={}))[g]=f:nl(e.emitsOptions,d)||(!(d in n)||f!==n[d])&&(n[d]=f,r=!0)}if(i){const d=be(s),f=o||xe;for(let g=0;g<i.length;g++){const _=i[g];s[_]=Nl(a,d,_,f[_],e,!_e(f,_))}}return r}function Nl(e,t,s,n,a,i){const r=e[s];if(r!=null){const o=_e(r,"default");if(o&&n===void 0){const d=r.default;if(r.type!==Function&&!r.skipFactory&&ie(d)){const{propsDefaults:f}=a;if(s in f)n=f[s];else{const g=vs(a);n=f[s]=d.call(null,t),g()}}else n=d;a.ce&&a.ce._setProp(s,n)}r[0]&&(i&&!o?n=!1:r[1]&&(n===""||n===xn(s))&&(n=!0))}return n}const vu=new WeakMap;function so(e,t,s=!1){const n=s?vu:t.propsCache,a=n.get(e);if(a)return a;const i=e.props,r={},o=[];let d=!1;if(!ie(e)){const g=_=>{d=!0;const[h,m]=so(_,t,!0);at(r,h),m&&o.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!i&&!d)return Me(e)&&n.set(e,Pn),Pn;if(ee(i))for(let g=0;g<i.length;g++){const _=rn(i[g]);Da(_)&&(r[_]=xe)}else if(i)for(const g in i){const _=rn(g);if(Da(_)){const h=i[g],m=r[_]=ee(h)||ie(h)?{type:h}:at({},h),S=m.type;let u=!1,N=!0;if(ee(S))for(let A=0;A<S.length;++A){const v=S[A],R=ie(v)&&v.name;if(R==="Boolean"){u=!0;break}else R==="String"&&(N=!1)}else u=ie(S)&&S.name==="Boolean";m[0]=u,m[1]=N,(u||_e(m,"default"))&&o.push(_)}}const f=[r,o];return Me(e)&&n.set(e,f),f}function Da(e){return e[0]!=="$"&&!Yn(e)}const na=e=>e==="_"||e==="_ctx"||e==="$stable",sa=e=>ee(e)?e.map(Tt):[Tt(e)],gu=(e,t,s)=>{if(t._n)return t;const n=Ar((...a)=>sa(t(...a)),s);return n._c=!1,n},lo=(e,t,s)=>{const n=e._ctx;for(const a in e){if(na(a))continue;const i=e[a];if(ie(i))t[a]=gu(a,i,n);else if(i!=null){const r=sa(i);t[a]=()=>r}}},ao=(e,t)=>{const s=sa(t);e.slots.default=()=>s},io=(e,t,s)=>{for(const n in t)(s||!na(n))&&(e[n]=t[n])},bu=(e,t,s)=>{const n=e.slots=eo();if(e.vnode.shapeFlag&32){const a=t._;a?(io(n,t,s),s&&gi(n,"_",a,!0)):lo(t,n)}else t&&ao(e,t)},yu=(e,t,s)=>{const{vnode:n,slots:a}=e;let i=!0,r=xe;if(n.shapeFlag&32){const o=t._;o?s&&o===1?i=!1:io(a,t,s):(i=!t.$stable,lo(t,a)),r=t}else t&&(ao(e,t),r={default:1});if(i)for(const o in a)!na(o)&&r[o]==null&&delete a[o]},ft=wu;function _u(e){return Su(e)}function Su(e,t){const s=Zs();s.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:r,createText:o,createComment:d,setText:f,setElementText:g,parentNode:_,nextSibling:h,setScopeId:m=Pt,insertStaticContent:S}=e,u=(b,E,P,O=null,z=null,D=null,U=void 0,W=null,L=!!E.dynamicChildren)=>{if(b===E)return;b&&!Un(b,E)&&(O=vt(b),ce(b,z,D,!0),b=null),E.patchFlag===-2&&(L=!1,E.dynamicChildren=null);const{type:V,ref:X,shapeFlag:H}=E;switch(V){case sl:N(b,E,P,O);break;case un:A(b,E,P,O);break;case As:b==null&&v(E,P,O,U);break;case $e:q(b,E,P,O,z,D,U,W,L);break;default:H&1?w(b,E,P,O,z,D,U,W,L):H&6?ve(b,E,P,O,z,D,U,W,L):(H&64||H&128)&&V.process(b,E,P,O,z,D,U,W,L,gt)}X!=null&&z?Qn(X,b&&b.ref,D,E||b,!E):X==null&&b&&b.ref!=null&&Qn(b.ref,null,D,b,!0)},N=(b,E,P,O)=>{if(b==null)n(E.el=o(E.children),P,O);else{const z=E.el=b.el;E.children!==b.children&&f(z,E.children)}},A=(b,E,P,O)=>{b==null?n(E.el=d(E.children||""),P,O):E.el=b.el},v=(b,E,P,O)=>{[b.el,b.anchor]=S(b.children,E,P,O,b.el,b.anchor)},R=({el:b,anchor:E},P,O)=>{let z;for(;b&&b!==E;)z=h(b),n(b,P,O),b=z;n(E,P,O)},M=({el:b,anchor:E})=>{let P;for(;b&&b!==E;)P=h(b),a(b),b=P;a(E)},w=(b,E,P,O,z,D,U,W,L)=>{if(E.type==="svg"?U="svg":E.type==="math"&&(U="mathml"),b==null)F(E,P,O,z,D,U,W,L);else{const V=b.el&&b.el._isVueCE?b.el:null;try{V&&V._beginPatch(),c(b,E,z,D,U,W,L)}finally{V&&V._endPatch()}}},F=(b,E,P,O,z,D,U,W)=>{let L,V;const{props:X,shapeFlag:H,transition:Q,dirs:ne}=b;if(L=b.el=r(b.type,D,X&&X.is,X),H&8?g(L,b.children):H&16&&C(b.children,L,null,O,z,xl(b,D),U,W),ne&&pn(b,null,O,"created"),x(L,b,b.scopeId,U,O),X){for(const Se in X)Se!=="value"&&!Yn(Se)&&i(L,Se,null,X[Se],D,O);"value"in X&&i(L,"value",null,X.value,D),(V=X.onVnodeBeforeMount)&&kt(V,O,b)}ne&&pn(b,null,O,"beforeMount");const de=Eu(z,Q);de&&Q.beforeEnter(L),n(L,E,P),((V=X&&X.onVnodeMounted)||de||ne)&&ft(()=>{V&&kt(V,O,b),de&&Q.enter(L),ne&&pn(b,null,O,"mounted")},z)},x=(b,E,P,O,z)=>{if(P&&m(b,P),O)for(let D=0;D<O.length;D++)m(b,O[D]);if(z){let D=z.subTree;if(E===D||uo(D.type)&&(D.ssContent===E||D.ssFallback===E)){const U=z.vnode;x(b,U,U.scopeId,U.slotScopeIds,z.parent)}}},C=(b,E,P,O,z,D,U,W,L=0)=>{for(let V=L;V<b.length;V++){const X=b[V]=W?ln(b[V]):Tt(b[V]);u(null,X,E,P,O,z,D,U,W)}},c=(b,E,P,O,z,D,U)=>{const W=E.el=b.el;let{patchFlag:L,dynamicChildren:V,dirs:X}=E;L|=b.patchFlag&16;const H=b.props||xe,Q=E.props||xe;let ne;if(P&&mn(P,!1),(ne=Q.onVnodeBeforeUpdate)&&kt(ne,P,E,b),X&&pn(E,b,P,"beforeUpdate"),P&&mn(P,!0),(H.innerHTML&&Q.innerHTML==null||H.textContent&&Q.textContent==null)&&g(W,""),V?T(b.dynamicChildren,V,W,P,O,xl(E,z),D):U||K(b,E,W,null,P,O,xl(E,z),D,!1),L>0){if(L&16)y(W,H,Q,P,z);else if(L&2&&H.class!==Q.class&&i(W,"class",null,Q.class,z),L&4&&i(W,"style",H.style,Q.style,z),L&8){const de=E.dynamicProps;for(let Se=0;Se<de.length;Se++){const ge=de[Se],Fe=H[ge],Ue=Q[ge];(Ue!==Fe||ge==="value")&&i(W,ge,Fe,Ue,z,P)}}L&1&&b.children!==E.children&&g(W,E.children)}else!U&&V==null&&y(W,H,Q,P,z);((ne=Q.onVnodeUpdated)||X)&&ft(()=>{ne&&kt(ne,P,E,b),X&&pn(E,b,P,"updated")},O)},T=(b,E,P,O,z,D,U)=>{for(let W=0;W<E.length;W++){const L=b[W],V=E[W],X=L.el&&(L.type===$e||!Un(L,V)||L.shapeFlag&198)?_(L.el):P;u(L,V,X,null,O,z,D,U,!0)}},y=(b,E,P,O,z)=>{if(E!==P){if(E!==xe)for(const D in E)!Yn(D)&&!(D in P)&&i(b,D,E[D],null,z,O);for(const D in P){if(Yn(D))continue;const U=P[D],W=E[D];U!==W&&D!=="value"&&i(b,D,W,U,z,O)}"value"in P&&i(b,"value",E.value,P.value,z)}},q=(b,E,P,O,z,D,U,W,L)=>{const V=E.el=b?b.el:o(""),X=E.anchor=b?b.anchor:o("");let{patchFlag:H,dynamicChildren:Q,slotScopeIds:ne}=E;ne&&(W=W?W.concat(ne):ne),b==null?(n(V,P,O),n(X,P,O),C(E.children||[],P,X,z,D,U,W,L)):H>0&&H&64&&Q&&b.dynamicChildren?(T(b.dynamicChildren,Q,P,z,D,U,W),(E.key!=null||z&&E===z.subTree)&&oo(b,E,!0)):K(b,E,P,X,z,D,U,W,L)},ve=(b,E,P,O,z,D,U,W,L)=>{E.slotScopeIds=W,b==null?E.shapeFlag&512?z.ctx.activate(E,P,O,U,L):me(E,P,O,z,D,U,L):J(b,E,L)},me=(b,E,P,O,z,D,U)=>{const W=b.component=$u(b,O,z);if(Ui(b)&&(W.ctx.renderer=gt),Au(W,!1,U),W.asyncDep){if(z&&z.registerDep(W,j,U),!b.el){const L=W.subTree=Y(un);A(null,L,E,P),b.placeholder=L.el}}else j(W,b,E,P,z,D,U)},J=(b,E,P)=>{const O=E.component=b.component;if(fu(b,E,P))if(O.asyncDep&&!O.asyncResolved){B(O,E,P);return}else O.next=E,O.update();else E.el=b.el,O.vnode=E},j=(b,E,P,O,z,D,U)=>{const W=()=>{if(b.isMounted){let{next:H,bu:Q,u:ne,parent:de,vnode:Se}=b;{const ut=ro(b);if(ut){H&&(H.el=Se.el,B(b,H,U)),ut.asyncDep.then(()=>{b.isUnmounted||W()});return}}let ge=H,Fe;mn(b,!1),H?(H.el=Se.el,B(b,H,U)):H=Se,Q&&$s(Q),(Fe=H.props&&H.props.onVnodeBeforeUpdate)&&kt(Fe,de,H,Se),mn(b,!0);const Ue=Va(b),Oe=b.subTree;b.subTree=Ue,u(Oe,Ue,_(Oe.el),vt(Oe),b,z,D),H.el=Ue.el,ge===null&&hu(b,Ue.el),ne&&ft(ne,z),(Fe=H.props&&H.props.onVnodeUpdated)&&ft(()=>kt(Fe,de,H,Se),z)}else{let H;const{el:Q,props:ne}=E,{bm:de,m:Se,parent:ge,root:Fe,type:Ue}=b,Oe=es(E);mn(b,!1),de&&$s(de),!Oe&&(H=ne&&ne.onVnodeBeforeMount)&&kt(H,ge,E),mn(b,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Ue);const ut=b.subTree=Va(b);u(null,ut,P,O,b,z,D),E.el=ut.el}if(Se&&ft(Se,z),!Oe&&(H=ne&&ne.onVnodeMounted)){const ut=E;ft(()=>kt(H,ge,ut),z)}(E.shapeFlag&256||ge&&es(ge.vnode)&&ge.vnode.shapeFlag&256)&&b.a&&ft(b.a,z),b.isMounted=!0,E=P=O=null}};b.scope.on();const L=b.effect=new wi(W);b.scope.off();const V=b.update=L.run.bind(L),X=b.job=L.runIfDirty.bind(L);X.i=b,X.id=b.uid,L.scheduler=()=>ea(X),mn(b,!0),V()},B=(b,E,P)=>{E.component=b;const O=b.vnode.props;b.vnode=E,b.next=null,mu(b,E.props,O,P),yu(b,E.children,P),Ut(),Pa(b),jt()},K=(b,E,P,O,z,D,U,W,L=!1)=>{const V=b&&b.children,X=b?b.shapeFlag:0,H=E.children,{patchFlag:Q,shapeFlag:ne}=E;if(Q>0){if(Q&128){ke(V,H,P,O,z,D,U,W,L);return}else if(Q&256){oe(V,H,P,O,z,D,U,W,L);return}}ne&8?(X&16&&Je(V,z,D),H!==V&&g(P,H)):X&16?ne&16?ke(V,H,P,O,z,D,U,W,L):Je(V,z,D,!0):(X&8&&g(P,""),ne&16&&C(H,P,O,z,D,U,W,L))},oe=(b,E,P,O,z,D,U,W,L)=>{b=b||Pn,E=E||Pn;const V=b.length,X=E.length,H=Math.min(V,X);let Q;for(Q=0;Q<H;Q++){const ne=E[Q]=L?ln(E[Q]):Tt(E[Q]);u(b[Q],ne,P,null,z,D,U,W,L)}V>X?Je(b,z,D,!0,!1,H):C(E,P,O,z,D,U,W,L,H)},ke=(b,E,P,O,z,D,U,W,L)=>{let V=0;const X=E.length;let H=b.length-1,Q=X-1;for(;V<=H&&V<=Q;){const ne=b[V],de=E[V]=L?ln(E[V]):Tt(E[V]);if(Un(ne,de))u(ne,de,P,null,z,D,U,W,L);else break;V++}for(;V<=H&&V<=Q;){const ne=b[H],de=E[Q]=L?ln(E[Q]):Tt(E[Q]);if(Un(ne,de))u(ne,de,P,null,z,D,U,W,L);else break;H--,Q--}if(V>H){if(V<=Q){const ne=Q+1,de=ne<X?E[ne].el:O;for(;V<=Q;)u(null,E[V]=L?ln(E[V]):Tt(E[V]),P,de,z,D,U,W,L),V++}}else if(V>Q)for(;V<=H;)ce(b[V],z,D,!0),V++;else{const ne=V,de=V,Se=new Map;for(V=de;V<=Q;V++){const Ye=E[V]=L?ln(E[V]):Tt(E[V]);Ye.key!=null&&Se.set(Ye.key,V)}let ge,Fe=0;const Ue=Q-de+1;let Oe=!1,ut=0;const Ft=new Array(Ue);for(V=0;V<Ue;V++)Ft[V]=0;for(V=ne;V<=H;V++){const Ye=b[V];if(Fe>=Ue){ce(Ye,z,D,!0);continue}let ct;if(Ye.key!=null)ct=Se.get(Ye.key);else for(ge=de;ge<=Q;ge++)if(Ft[ge-de]===0&&Un(Ye,E[ge])){ct=ge;break}ct===void 0?ce(Ye,z,D,!0):(Ft[ct-de]=V+1,ct>=ut?ut=ct:Oe=!0,u(Ye,E[ct],P,null,z,D,U,W,L),Fe++)}const dn=Oe?xu(Ft):Pn;for(ge=dn.length-1,V=Ue-1;V>=0;V--){const Ye=de+V,ct=E[Ye],St=E[Ye+1],he=Ye+1<X?St.el||St.placeholder:O;Ft[V]===0?u(null,ct,P,he,z,D,U,W,L):Oe&&(ge<0||V!==dn[ge]?Ce(ct,P,he,2):ge--)}}},Ce=(b,E,P,O,z=null)=>{const{el:D,type:U,transition:W,children:L,shapeFlag:V}=b;if(V&6){Ce(b.component.subTree,E,P,O);return}if(V&128){b.suspense.move(E,P,O);return}if(V&64){U.move(b,E,P,gt);return}if(U===$e){n(D,E,P);for(let H=0;H<L.length;H++)Ce(L[H],E,P,O);n(b.anchor,E,P);return}if(U===As){R(b,E,P);return}if(O!==2&&V&1&&W)if(O===0)W.beforeEnter(D),n(D,E,P),ft(()=>W.enter(D),z);else{const{leave:H,delayLeave:Q,afterLeave:ne}=W,de=()=>{b.ctx.isUnmounted?a(D):n(D,E,P)},Se=()=>{D._isLeaving&&D[Nr](!0),H(D,()=>{de(),ne&&ne()})};Q?Q(D,de,Se):Se()}else n(D,E,P)},ce=(b,E,P,O=!1,z=!1)=>{const{type:D,props:U,ref:W,children:L,dynamicChildren:V,shapeFlag:X,patchFlag:H,dirs:Q,cacheIndex:ne}=b;if(H===-2&&(z=!1),W!=null&&(Ut(),Qn(W,null,P,b,!0),jt()),ne!=null&&(E.renderCache[ne]=void 0),X&256){E.ctx.deactivate(b);return}const de=X&1&&Q,Se=!es(b);let ge;if(Se&&(ge=U&&U.onVnodeBeforeUnmount)&&kt(ge,E,b),X&6)Ae(b.component,P,O);else{if(X&128){b.suspense.unmount(P,O);return}de&&pn(b,null,E,"beforeUnmount"),X&64?b.type.remove(b,E,P,gt,O):V&&!V.hasOnce&&(D!==$e||H>0&&H&64)?Je(V,E,P,!1,!0):(D===$e&&H&384||!z&&X&16)&&Je(L,E,P),O&&re(b)}(Se&&(ge=U&&U.onVnodeUnmounted)||de)&&ft(()=>{ge&&kt(ge,E,b),de&&pn(b,null,E,"unmounted")},P)},re=b=>{const{type:E,el:P,anchor:O,transition:z}=b;if(E===$e){we(P,O);return}if(E===As){M(b);return}const D=()=>{a(P),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(b.shapeFlag&1&&z&&!z.persisted){const{leave:U,delayLeave:W}=z,L=()=>U(P,D);W?W(b.el,D,L):L()}else D()},we=(b,E)=>{let P;for(;b!==E;)P=h(b),a(b),b=P;a(E)},Ae=(b,E,P)=>{const{bum:O,scope:z,job:D,subTree:U,um:W,m:L,a:V}=b;Oa(L),Oa(V),O&&$s(O),z.stop(),D&&(D.flags|=8,ce(U,b,E,P)),W&&ft(W,E),ft(()=>{b.isUnmounted=!0},E)},Je=(b,E,P,O=!1,z=!1,D=0)=>{for(let U=D;U<b.length;U++)ce(b[U],E,P,O,z)},vt=b=>{if(b.shapeFlag&6)return vt(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const E=h(b.anchor||b.el),P=E&&E[Ir];return P?h(P):E};let Mt=!1;const Yt=(b,E,P)=>{b==null?E._vnode&&ce(E._vnode,null,null,!0):u(E._vnode||null,b,E,null,null,null,P),E._vnode=b,Mt||(Mt=!0,Pa(),Li(),Mt=!1)},gt={p:u,um:ce,m:Ce,r:re,mt:me,mc:C,pc:K,pbc:T,n:vt,o:e};return{render:Yt,hydrate:void 0,createApp:tu(Yt)}}function xl({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function mn({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Eu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function oo(e,t,s=!1){const n=e.children,a=t.children;if(ee(n)&&ee(a))for(let i=0;i<n.length;i++){const r=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=ln(a[i]),o.el=r.el),!s&&o.patchFlag!==-2&&oo(r,o)),o.type===sl&&o.patchFlag!==-1&&(o.el=r.el),o.type===un&&!o.el&&(o.el=r.el)}}function xu(e){const t=e.slice(),s=[0];let n,a,i,r,o;const d=e.length;for(n=0;n<d;n++){const f=e[n];if(f!==0){if(a=s[s.length-1],e[a]<f){t[n]=a,s.push(n);continue}for(i=0,r=s.length-1;i<r;)o=i+r>>1,e[s[o]]<f?i=o+1:r=o;f<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,r=s[i-1];i-- >0;)s[i]=r,r=t[r];return s}function ro(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ro(t)}function Oa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const uo=e=>e.__isSuspense;function wu(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):$r(e)}const $e=Symbol.for("v-fgt"),sl=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),As=Symbol.for("v-stc"),ss=[];let pt=null;function $(e=!1){ss.push(pt=e?null:[])}function Ru(){ss.pop(),pt=ss[ss.length-1]||null}let us=1;function Ba(e,t=!1){us+=e,e<0&&pt&&t&&(pt.hasOnce=!0)}function co(e){return e.dynamicChildren=us>0?pt||Pn:null,Ru(),us>0&&pt&&pt.push(e),e}function I(e,t,s,n,a,i){return co(l(e,t,s,n,a,i,!0))}function bn(e,t,s,n,a){return co(Y(e,t,s,n,a,!0))}function fo(e){return e?e.__v_isVNode===!0:!1}function Un(e,t){return e.type===t.type&&e.key===t.key}const ho=({key:e})=>e??null,Is=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||Ve(e)||ie(e)?{i:yt,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,a=null,i=e===$e?0:1,r=!1,o=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ho(t),ref:t&&Is(t),scopeId:Gi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:yt};return o?(la(d,s),i&128&&e.normalize(d)):s&&(d.shapeFlag|=Ge(s)?8:16),us>0&&!r&&pt&&(d.patchFlag>0||i&6)&&d.patchFlag!==32&&pt.push(d),d}const Y=Mu;function Mu(e,t=null,s=null,n=0,a=null,i=!1){if((!e||e===Hr)&&(e=un),fo(e)){const o=Fn(e,t,!0);return s&&la(o,s),us>0&&!i&&pt&&(o.shapeFlag&6?pt[pt.indexOf(e)]=o:pt.push(o)),o.patchFlag=-2,o}if(Vu(e)&&(e=e.__vccOpts),t){t=ku(t);let{class:o,style:d}=t;o&&!Ge(o)&&(t.class=pe(o)),Me(d)&&(Xs(d)&&!ee(d)&&(d=at({},d)),t.style=Ul(d))}const r=Ge(e)?1:uo(e)?128:Fr(e)?64:Me(e)?4:ie(e)?2:0;return l(e,t,s,n,a,r,i,!0)}function ku(e){return e?Xs(e)||to(e)?at({},e):e:null}function Fn(e,t,s=!1,n=!1){const{props:a,ref:i,patchFlag:r,children:o,transition:d}=e,f=t?Cu(a||{},t):a,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ho(f),ref:t&&t.ref?s&&i?ee(i)?i.concat(Is(t)):[i,Is(t)]:Is(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fn(e.ssContent),ssFallback:e.ssFallback&&Fn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&ta(g,d.clone(g)),g}function Ne(e=" ",t=0){return Y(sl,null,e,t)}function cs(e,t){const s=Y(As,null,e);return s.staticCount=t,s}function G(e="",t=!1){return t?($(),bn(un,null,e)):Y(un,null,e)}function Tt(e){return e==null||typeof e=="boolean"?Y(un):ee(e)?Y($e,null,e.slice()):fo(e)?ln(e):Y(sl,null,String(e))}function ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fn(e)}function la(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ee(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),la(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!to(t)?t._ctx=yt:a===3&&yt&&(yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:yt},s=32):(t=String(t),n&64?(s=16,t=[Ne(t)]):s=8);e.children=t,e.shapeFlag|=s}function Cu(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=pe([t.class,n.class]));else if(a==="style")t.style=Ul([t.style,n.style]);else if(Us(a)){const i=t[a],r=n[a];r&&i!==r&&!(ee(i)&&i.includes(r))&&(t[a]=i?[].concat(i,r):r)}else a!==""&&(t[a]=n[a])}return t}function kt(e,t,s,n=null){At(e,t,7,[s,n])}const Tu=Zi();let Pu=0;function $u(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||Tu,i={uid:Pu++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Si(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:so(n,a),emitsOptions:Xi(n,a),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:n.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ru.bind(null,i),e.ce&&e.ce(i),i}let lt=null;const po=()=>lt||yt;let Gs,Vl;{const e=Zs(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),i=>{a.length>1?a.forEach(r=>r(i)):a[0](i)}};Gs=t("__VUE_INSTANCE_SETTERS__",s=>lt=s),Vl=t("__VUE_SSR_SETTERS__",s=>ds=s)}const vs=e=>{const t=lt;return Gs(e),e.scope.on(),()=>{e.scope.off(),Gs(t)}},La=()=>{lt&&lt.scope.off(),Gs(null)};function mo(e){return e.vnode.shapeFlag&4}let ds=!1;function Au(e,t=!1,s=!1){t&&Vl(t);const{props:n,children:a}=e.vnode,i=mo(e);pu(e,n,i,t),bu(e,a,s||t);const r=i?Iu(e,t):void 0;return t&&Vl(!1),r}function Iu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Jr);const{setup:n}=s;if(n){Ut();const a=e.setupContext=n.length>1?Nu(e):null,i=vs(e),r=ps(n,e,0,[e.props,a]),o=hi(r);if(jt(),i(),(o||e.sp)&&!es(e)&&Ki(e),o){if(r.then(La,La),t)return r.then(d=>{Wa(e,d)}).catch(d=>{Qs(d,e,0)});e.asyncDep=r}else Wa(e,r)}else vo(e)}function Wa(e,t,s){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Di(t)),vo(e)}function vo(e,t,s){const n=e.type;e.render||(e.render=n.render||Pt);{const a=vs(e);Ut();try{Zr(e)}finally{jt(),a()}}}const Fu={get(e,t){return Xe(e,"get",""),e[t]}};function Nu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Fu),slots:e.slots,emit:e.emit,expose:t}}function ll(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Di(Ql(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ts)return ts[s](e)},has(t,s){return s in t||s in ts}})):e.proxy}function Vu(e){return ie(e)&&"__vccOpts"in e}const le=(e,t)=>Mr(e,t,ds),zu="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zl;const Ga=typeof window<"u"&&window.trustedTypes;if(Ga)try{zl=Ga.createPolicy("vue",{createHTML:e=>e})}catch{}const go=zl?e=>zl.createHTML(e):e=>e,Du="http://www.w3.org/2000/svg",Ou="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,Ka=Ot&&Ot.createElement("template"),Bu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Ot.createElementNS(Du,e):t==="mathml"?Ot.createElementNS(Ou,e):s?Ot.createElement(e,{is:s}):Ot.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,i){const r=s?s.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===i||!(a=a.nextSibling)););else{Ka.innerHTML=go(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=Ka.content;if(n==="svg"||n==="mathml"){const d=o.firstChild;for(;d.firstChild;)o.appendChild(d.firstChild);o.removeChild(d)}t.insertBefore(o,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Lu=Symbol("_vtc");function Wu(e,t,s){const n=e[Lu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ks=Symbol("_vod"),bo=Symbol("_vsh"),bt={name:"show",beforeMount(e,{value:t},{transition:s}){e[Ks]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):jn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),jn(e,!0),n.enter(e)):n.leave(e,()=>{jn(e,!1)}):jn(e,t))},beforeUnmount(e,{value:t}){jn(e,t)}};function jn(e,t){e.style.display=t?e[Ks]:"none",e[bo]=!t}const Gu=Symbol(""),Ku=/(?:^|;)\s*display\s*:/;function Uu(e,t,s){const n=e.style,a=Ge(s);let i=!1;if(s&&!a){if(t)if(Ge(t))for(const r of t.split(";")){const o=r.slice(0,r.indexOf(":")).trim();s[o]==null&&Fs(n,o,"")}else for(const r in t)s[r]==null&&Fs(n,r,"");for(const r in s)r==="display"&&(i=!0),Fs(n,r,s[r])}else if(a){if(t!==s){const r=n[Gu];r&&(s+=";"+r),n.cssText=s,i=Ku.test(s)}}else t&&e.removeAttribute("style");Ks in e&&(e[Ks]=i?n.display:"",e[bo]&&(n.display="none"))}const Ua=/\s*!important$/;function Fs(e,t,s){if(ee(s))s.forEach(n=>Fs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ju(e,t);Ua.test(s)?e.setProperty(xn(n),s.replace(Ua,""),"important"):e[n]=s}}const ja=["Webkit","Moz","ms"],wl={};function ju(e,t){const s=wl[t];if(s)return s;let n=rn(t);if(n!=="filter"&&n in e)return wl[t]=n;n=vi(n);for(let a=0;a<ja.length;a++){const i=ja[a]+n;if(i in e)return wl[t]=i}return t}const Ha="http://www.w3.org/1999/xlink";function Ja(e,t,s,n,a,i=Yo(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ha,t.slice(6,t.length)):e.setAttributeNS(Ha,t,s):s==null||i&&!bi(s)?e.removeAttribute(t):e.setAttribute(t,i?"":$t(s)?String(s):s)}function Za(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?go(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(o!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const o=typeof e[t];o==="boolean"?s=bi(s):s==null&&o==="string"?(s="",r=!0):o==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(a||t)}function Wt(e,t,s,n){e.addEventListener(t,s,n)}function Hu(e,t,s,n){e.removeEventListener(t,s,n)}const Ya=Symbol("_vei");function Ju(e,t,s,n,a=null){const i=e[Ya]||(e[Ya]={}),r=i[t];if(n&&r)r.value=n;else{const[o,d]=Zu(t);if(n){const f=i[t]=Xu(n,a);Wt(e,o,f,d)}else r&&(Hu(e,o,r,d),i[t]=void 0)}}const qa=/(?:Once|Passive|Capture)$/;function Zu(e){let t;if(qa.test(e)){t={};let n;for(;n=e.match(qa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xn(e.slice(2)),t]}let Rl=0;const Yu=Promise.resolve(),qu=()=>Rl||(Yu.then(()=>Rl=0),Rl=Date.now());function Xu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;At(Qu(n,s.value),t,5,[n])};return s.value=e,s.attached=qu(),s}function Qu(e,t){if(ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const Xa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ec=(e,t,s,n,a,i)=>{const r=a==="svg";t==="class"?Wu(e,n,r):t==="style"?Uu(e,s,n):Us(t)?Gl(t)||Ju(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tc(e,t,n,r))?(Za(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ja(e,t,n,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ge(n))?Za(e,rn(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ja(e,t,n,r))};function tc(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xa(t)&&ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Xa(t)&&Ge(s)?!1:t in e}const cn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?s=>$s(t,s):t};function nc(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _t=Symbol("_assign");function ei(e,t,s){return t&&(e=e.trim()),s&&(e=Js(e)),e}const Pe={created(e,{modifiers:{lazy:t,trim:s,number:n}},a){e[_t]=cn(a);const i=n||a.props&&a.props.type==="number";Wt(e,t?"change":"input",r=>{r.target.composing||e[_t](ei(e.value,s,i))}),(s||i)&&Wt(e,"change",()=>{e.value=ei(e.value,s,i)}),t||(Wt(e,"compositionstart",nc),Wt(e,"compositionend",Qa),Wt(e,"change",Qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:a,number:i}},r){if(e[_t]=cn(r),e.composing)return;const o=(i||e.type==="number")&&!/^0\d/.test(e.value)?Js(e.value):e.value,d=t??"";o!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||a&&e.value.trim()===d)||(e.value=d))}},sc={deep:!0,created(e,t,s){e[_t]=cn(s),Wt(e,"change",()=>{const n=e._modelValue,a=Nn(e),i=e.checked,r=e[_t];if(ee(n)){const o=jl(n,a),d=o!==-1;if(i&&!d)r(n.concat(a));else if(!i&&d){const f=[...n];f.splice(o,1),r(f)}}else if(Vn(n)){const o=new Set(n);i?o.add(a):o.delete(a),r(o)}else r(yo(e,i))})},mounted:ti,beforeUpdate(e,t,s){e[_t]=cn(s),ti(e,t,s)}};function ti(e,{value:t,oldValue:s},n){e._modelValue=t;let a;if(ee(t))a=jl(t,n.props.value)>-1;else if(Vn(t))a=t.has(n.props.value);else{if(t===s)return;a=Sn(t,yo(e,!0))}e.checked!==a&&(e.checked=a)}const lc={created(e,{value:t},s){e.checked=Sn(t,s.props.value),e[_t]=cn(s),Wt(e,"change",()=>{e[_t](Nn(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[_t]=cn(n),t!==s&&(e.checked=Sn(t,n.props.value))}},ni={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const a=Vn(t);Wt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Js(Nn(r)):Nn(r));e[_t](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,el(()=>{e._assigning=!1})}),e[_t]=cn(n)},mounted(e,{value:t}){si(e,t)},beforeUpdate(e,t,s){e[_t]=cn(s)},updated(e,{value:t}){e._assigning||si(e,t)}};function si(e,t){const s=e.multiple,n=ee(t);if(!(s&&!n&&!Vn(t))){for(let a=0,i=e.options.length;a<i;a++){const r=e.options[a],o=Nn(r);if(s)if(n){const d=typeof o;d==="string"||d==="number"?r.selected=t.some(f=>String(f)===String(o)):r.selected=jl(t,o)>-1}else r.selected=t.has(o);else if(Sn(Nn(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Nn(e){return"_value"in e?e._value:e.value}function yo(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ac=["ctrl","shift","alt","meta"],ic={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ac.some(s=>e[`${s}Key`]&&!t.includes(s))},on=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((a,...i)=>{for(let r=0;r<t.length;r++){const o=ic[t[r]];if(o&&o(a,t))return}return e(a,...i)}))},oc=at({patchProp:ec},Bu);let li;function rc(){return li||(li=_u(oc))}const uc=((...e)=>{const t=rc().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=dc(n);if(!a)return;const i=t._component;!ie(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=s(a,!1,cc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t});function cc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function dc(e){return Ge(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _o;const al=e=>_o=e,So=Symbol();function Dl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ls;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ls||(ls={}));function fc(){const e=Ei(!0),t=e.run(()=>Z({}));let s=[],n=[];const a=Ql({install(i){al(a),a._a=i,i.provide(So,a),i.config.globalProperties.$pinia=a,n.forEach(r=>s.push(r)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return a}const Eo=()=>{};function ai(e,t,s,n=Eo){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&xi()&&Xo(a),a}function kn(e,...t){e.slice().forEach(s=>{s(...t)})}const hc=e=>e(),ii=Symbol(),Ml=Symbol();function Ol(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],a=e[s];Dl(a)&&Dl(n)&&e.hasOwnProperty(s)&&!Ve(n)&&!Gt(n)?e[s]=Ol(a,n):e[s]=n}return e}const pc=Symbol();function mc(e){return!Dl(e)||!e.hasOwnProperty(pc)}const{assign:tn}=Object;function vc(e){return!!(Ve(e)&&e.effect)}function gc(e,t,s,n){const{state:a,actions:i,getters:r}=t,o=s.state.value[e];let d;function f(){o||(s.state.value[e]=a?a():{});const g=Er(s.state.value[e]);return tn(g,i,Object.keys(r||{}).reduce((_,h)=>(_[h]=Ql(le(()=>{al(s);const m=s._s.get(e);return r[h].call(m,m)})),_),{}))}return d=xo(e,f,t,s,n,!0),d}function xo(e,t,s={},n,a,i){let r;const o=tn({actions:{}},s),d={deep:!0};let f,g,_=[],h=[],m;const S=n.state.value[e];!i&&!S&&(n.state.value[e]={}),Z({});let u;function N(C){let c;f=g=!1,typeof C=="function"?(C(n.state.value[e]),c={type:ls.patchFunction,storeId:e,events:m}):(Ol(n.state.value[e],C),c={type:ls.patchObject,payload:C,storeId:e,events:m});const T=u=Symbol();el().then(()=>{u===T&&(f=!0)}),g=!0,kn(_,c,n.state.value[e])}const A=i?function(){const{state:c}=s,T=c?c():{};this.$patch(y=>{tn(y,T)})}:Eo;function v(){r.stop(),_=[],h=[],n._s.delete(e)}const R=(C,c="")=>{if(ii in C)return C[Ml]=c,C;const T=function(){al(n);const y=Array.from(arguments),q=[],ve=[];function me(B){q.push(B)}function J(B){ve.push(B)}kn(h,{args:y,name:T[Ml],store:w,after:me,onError:J});let j;try{j=C.apply(this&&this.$id===e?this:w,y)}catch(B){throw kn(ve,B),B}return j instanceof Promise?j.then(B=>(kn(q,B),B)).catch(B=>(kn(ve,B),Promise.reject(B))):(kn(q,j),j)};return T[ii]=!0,T[Ml]=c,T},M={_p:n,$id:e,$onAction:ai.bind(null,h),$patch:N,$reset:A,$subscribe(C,c={}){const T=ai(_,C,c.detached,()=>y()),y=r.run(()=>Kt(()=>n.state.value[e],q=>{(c.flush==="sync"?g:f)&&C({storeId:e,type:ls.direct,events:m},q)},tn({},d,c)));return T},$dispose:v},w=qs(M);n._s.set(e,w);const x=(n._a&&n._a.runWithContext||hc)(()=>n._e.run(()=>(r=Ei()).run(()=>t({action:R}))));for(const C in x){const c=x[C];if(Ve(c)&&!vc(c)||Gt(c))i||(S&&mc(c)&&(Ve(c)?c.value=S[C]:Ol(c,S[C])),n.state.value[e][C]=c);else if(typeof c=="function"){const T=R(c,C);x[C]=T,o.actions[C]=c}}return tn(w,x),tn(be(w),x),Object.defineProperty(w,"$state",{get:()=>n.state.value[e],set:C=>{N(c=>{tn(c,C)})}}),n._p.forEach(C=>{tn(w,r.run(()=>C({store:w,app:n._a,pinia:n,options:o})))}),S&&i&&s.hydrate&&s.hydrate(w.$state,S),f=!0,g=!0,w}/*! #__NO_SIDE_EFFECTS__ */function Dn(e,t,s){let n,a;const i=typeof t=="function";typeof e=="string"?(n=e,a=i?s:t):(a=e,n=e.id);function r(o,d){const f=su();return o=o||(f?ns(So,null):null),o&&al(o),o=_o,o._s.has(n)||(i?xo(n,t,a,o):gc(n,a,o)),o._s.get(n)}return r.$id=n,r}const oi=.25,bc=.055,ri={aktien:.7,misch:.85,renten:1},aa=1e3,wo=.08,Ro=.09,nt=12,yc=100,ui={2025:2.53,2024:2.29,2023:2.55,2022:-.05,2021:-.45,2020:.07,2019:.52,2018:.87};function _c(e,t=2.53){return ui[e]!==void 0?ui[e]:t}const ci=5,Sc="2.1.0",Mo={fire:{name:"FIRE / Frhrente",description:"Lange Ansparphase, hohe ETF-Quote, 3.5% Entnahme",values:{savings_years:25,withdrawal_years:40,monthly_savings:200,monthly_etf:800,savings_target:1e4,monthly_payout_percent:3.5,rent_mode:"percent",etf_rate_pa:7,inflation_adjust_withdrawal:!0}},classic:{name:"Klassische Rente",description:"67  95, moderate ETF-Quote, konservativere Entnahme",values:{savings_years:35,withdrawal_years:28,monthly_savings:150,monthly_etf:350,savings_target:8e3,monthly_payout_percent:4,rent_mode:"percent",etf_rate_pa:6,capital_preservation_enabled:!0}},education:{name:"Bildungskonto / Studium",description:"Krzere Laufzeit, Entnahmen ber 3-6 Jahre",values:{savings_years:18,withdrawal_years:5,monthly_savings:50,monthly_etf:150,savings_target:3e3,monthly_payout_net:800,rent_mode:"eur",inflation_adjust_withdrawal:!0}},emergency:{name:"Notgroschen-Fokus",description:"Aggressiver Aufbau des Tagesgeldziels, konservativ in ETF",values:{savings_years:10,withdrawal_years:25,monthly_savings:300,monthly_etf:100,savings_target:15e3,monthly_payout_percent:3,rent_mode:"percent",etf_rate_pa:5}}},ko={none:{name:"Standard (Zufllig)",description:"Normale Monte-Carlo-Simulation mit zuflligen Renditen",returns:null},early_crash:{name:"Frher Crash",description:"-30% im 1. Rentenjahr, langsame Erholung ber 5 Jahre",returns:[-.3,-.1,.05,.08,.1,.12,.08,.07,.06,.06]},sideways:{name:"Seitwrtsmarkt",description:"0% Realrendite ber 10 Jahre",returns:[.02,.01,-.01,.02,0,-.02,.03,-.01,.01,0]},bear_market:{name:"Brenmarkt-Phase",description:"3-5 Jahre leicht negative Renditen, danach normal",returns:[-.05,-.08,-.03,-.02,.02,.08,.1,.07,.06,.06]},late_crash:{name:"Spter Crash",description:"Normaler Start, Crash nach 5 Jahren",returns:[.08,.1,.07,.09,.06,-.35,-.15,.1,.12,.08]}},vn=(e="A",t="Szenario A")=>({id:e,name:t,startSavings:4e3,startEtf:100,startEtfCostBasis:0,savingsRate:3,etfRate:6,etfTer:.2,savingsTarget:5e3,inflationRate:2,isMarried:!1,sparerpauschbetrag:1e3,kirchensteuer:"keine",basiszins:2.53,fondstyp:"aktien",lossPot:0,useLifo:!1,yearsSave:36,monthlySavings:100,monthlyEtf:150,annualRaise:3,specialSavings:15e3,specialSavingsInterval:10,inflationAdjustSpecialSavings:!0,yearsWithdraw:30,rentMode:"eur",rentEur:1e3,rentPercent:4,rentIsGross:!1,withdrawalMin:0,withdrawalMax:0,inflationAdjustWithdrawal:!0,specialWithdraw:15e3,specialWithdrawInterval:10,inflationAdjustSpecialWithdrawal:!0,capitalPreservationEnabled:!1,capitalPreservationThreshold:80,capitalPreservationReduction:25,capitalPreservationRecovery:10,mcIterations:1e3,mcVolatility:15,mcShowIndividual:!1,mcSuccessThreshold:100,mcRuinThreshold:10,mcSeed:0,stressScenario:"none",mcInflationMode:"deterministic",mcInflationVolatility:1.5,mcInflationFloor:-1,mcInflationCap:10,mcCashRateMode:"deterministic",mcCashRateVolatility:1,mcCorrInflationCash:.7,mcCorrReturnInflation:-.1,mcSavingShockMode:"off",mcSavingShockPNeg:.03,mcSavingShockPPos:.05,mcSavingShockFactorNeg:0,mcSavingShockFactorPos:1.15,mcSavingShockDurationNeg:12,mcExtraExpenseMode:"off",mcExtraExpenseProbability:.05,mcExtraExpensePercent:5,mcExtraExpenseFixed:1e4,mcCrashMode:"off",mcCrashProbability:.03,mcCrashDropMin:-.25,mcCrashDropMax:-.45}),Rt=Dn("scenario",()=>{const e=Z({A:vn("A","Szenario A")}),t=Z("A"),s=le(()=>e.value[t.value]),n=le(()=>Object.keys(e.value)),a=le(()=>n.value.length>1);function i(){try{const w=localStorage.getItem("etf_scenarios");if(w){const F=JSON.parse(w);for(const x of Object.keys(F.scenarios||{}))e.value[x]={...vn(x),...F.scenarios[x]};F.activeId&&e.value[F.activeId]&&(t.value=F.activeId)}}catch(w){console.warn("Failed to load scenarios from storage:",w)}}function r(){try{localStorage.setItem("etf_scenarios",JSON.stringify({scenarios:e.value,activeId:t.value}))}catch(w){console.warn("Failed to save scenarios to storage:",w)}}function o(w){e.value[w]&&(t.value=w)}function d(){const w=["A","B","C"],F=Object.keys(e.value),x=w.find(C=>!F.includes(C));x&&(e.value[x]=vn(x,`Szenario ${x}`),t.value=x,r())}function f(w){Object.keys(e.value).length<=1||(delete e.value[w],t.value===w&&(t.value=Object.keys(e.value)[0]),r())}function g(w){Object.assign(e.value[t.value],w),r()}function _(w,F){e.value[w]&&(e.value[w].name=F,r())}function h(w){const F={savings_years:"yearsSave",withdrawal_years:"yearsWithdraw",monthly_savings:"monthlySavings",monthly_etf:"monthlyEtf",savings_target:"savingsTarget",monthly_payout_percent:"rentPercent",monthly_payout_net:"rentEur",rent_mode:"rentMode",etf_rate_pa:"etfRate",savings_rate_pa:"savingsRate",inflation_adjust_withdrawal:"inflationAdjustWithdrawal",capital_preservation_enabled:"capitalPreservationEnabled",capital_preservation_threshold:"capitalPreservationThreshold",capital_preservation_reduction:"capitalPreservationReduction",capital_preservation_recovery:"capitalPreservationRecovery",stress_scenario:"stressScenario"},x={};for(const[C,c]of Object.entries(w)){const T=F[C]||C;x[T]=c}return x}function m(w){const F=Mo[w];if(F){const x=h(F.values);Object.assign(e.value[t.value],x),r()}}function S(){e.value[t.value]=vn(t.value,`Szenario ${t.value}`),r()}function u(){const w=s.value,F={version:"3.0.0",exportedAt:new Date().toISOString(),scenario:{...w}},x=JSON.stringify(F,null,2),C=new Blob([x],{type:"application/json"}),c=URL.createObjectURL(C),T=document.createElement("a");T.href=c,T.download=`etf_szenario_${w.name.replace(/\s+/g,"_")}_${M()}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(c)}function N(w){return new Promise((F,x)=>{const C=new FileReader;C.onload=c=>{try{const T=JSON.parse(c.target.result);if(!T.scenario)throw new Error("Ungltiges Szenario-Format");const y={...vn(),...T.scenario};y.id=t.value,y.name=T.scenario.name||`Importiert ${M()}`,e.value[t.value]=y,r(),F(y)}catch(T){x(new Error(`Import fehlgeschlagen: ${T.message}`))}},C.onerror=()=>x(new Error("Datei konnte nicht gelesen werden")),C.readAsText(w)})}function A(){const w=s.value,F=vn(),x={};for(const[T,y]of Object.entries(w))T!=="id"&&T!=="name"&&y!==F[T]&&(x[T]=y);x.name=w.name;const C=btoa(encodeURIComponent(JSON.stringify(x)));return`${window.location.origin}${window.location.pathname}#scenario=${C}`}async function v(){const w=A();try{return await navigator.clipboard.writeText(w),{success:!0,url:w}}catch(F){return{success:!1,url:w,error:F.message}}}function R(){const w=window.location.hash;if(!w.startsWith("#scenario="))return!1;try{const F=w.replace("#scenario=",""),x=decodeURIComponent(atob(F)),C=JSON.parse(x),c={...vn(),...C};return c.id=t.value,e.value[t.value]=c,r(),history.replaceState(null,"",window.location.pathname),!0}catch(F){return console.warn("Failed to load scenario from URL:",F),!1}}function M(){const w=new Date;return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`}return Kt(e,r,{deep:!0}),{scenarios:e,activeScenarioId:t,activeScenario:s,scenarioIds:n,hasMultipleScenarios:a,initFromStorage:i,saveToStorage:r,setActiveScenario:o,addScenario:d,removeScenario:f,renameScenario:_,updateScenario:g,applyPreset:m,resetScenario:S,exportScenarioAsJson:u,importScenarioFromJson:N,generateShareUrl:A,copyShareUrl:v,loadFromShareUrl:R}});let En=Math.random;function as(e){return Math.pow(1+e/100,1/nt)-1}function Ec(e){return e/Math.sqrt(12)}function xc(e=0){const t=oi*(1+bc);return e===0?t:e===wo?.27818:e===Ro?.27995:t+oi*e}function Ns(e=0,t=1){let s,n;do s=En(),n=En();while(s===0);return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*n)*t+e}function wc(e,t){const s=e.length,n=Rc(t),a=new Array(s).fill(0);for(let i=0;i<s;i++)for(let r=0;r<=i;r++)a[i]+=n[i][r]*e[r];return a}function Rc(e){const t=e.length,s=Array(t).fill(null).map(()=>Array(t).fill(0));for(let n=0;n<t;n++)for(let a=0;a<=n;a++){let i=0;for(let r=0;r<a;r++)i+=s[n][r]*s[a][r];n===a?s[n][a]=Math.sqrt(Math.max(0,e[n][n]-i)):s[n][a]=s[a][a]>0?(e[n][a]-i)/s[a][a]:0}return s}function Mc(e,t,s){const{inflationMode:n="deterministic",inflationVolatility:a=1.5,inflationFloor:i=-1,inflationCap:r=10,cashRateMode:o="deterministic",cashRateVolatility:d=1,corrInflationCash:f=.7,corrReturnInflation:g=-.1,crashMode:_="off",crashProbability:h=.03,crashDropMin:m=-.25,crashDropMax:S=-.45}=t,u=s.inflation_rate_pa||0,N=s.savings_rate_pa||0,A=new Array(e),v=new Array(e),R=new Array(e).fill(null),M=new Array(e).fill(0),w=n==="random"||o==="random";for(let F=0;F<e;F++){if(w){const x=[Ns(),Ns(),Ns()],C=[[1,f,g],[f,1,g*.5],[g,g*.5,1]],c=wc(x,C);if(n==="random"){let T=u+c[0]*a;T=Math.max(i,Math.min(r,T)),A[F]=T}else A[F]=u;if(o==="random"){let T=N+c[1]*d;T=Math.max(-.5,Math.min(15,T)),v[F]=T}else v[F]=N;M[F]=c[2]}else A[F]=u,v[F]=N;if(_==="simple"&&En()<h){const C=m+En()*(S-m);R[F]=C}}return{annualInflation:A,annualCashRates:v,annualCrashEvents:R,annualReturnShocks:M}}function kc(e,t){const{savingShockMode:s="off",savingShockPNeg:n=.03,savingShockPPos:a=.05,savingShockFactorNeg:i=0,savingShockFactorPos:r=1.15,savingShockDurationNeg:o=12}=t;if(s==="off")return{shockFactors:null,baselineMultipliers:null};const d=e,f=new Array(d).fill(1),g=new Array(d).fill(1);let _=1,h=0,m=1;for(let S=0;S<d;S++)S%12===0&&(En()<a&&(_*=r),h<=0&&En()<n&&(h=o,m=i)),g[S]=_,h>0?(f[S]=m,h--):f[S]=1;return{shockFactors:f,baselineMultipliers:g}}function Cc(e,t){const{extraExpenseMode:s="off",extraExpenseProbability:n=.05,extraExpensePercent:a=5,extraExpenseFixed:i=1e4}=t;if(s==="off")return null;const r=new Array(e).fill(null);for(let o=0;o<e;o++)En()<n&&(s==="percent_of_wealth"?r[o]={type:"percent",value:a/100}:s==="fixed_real"&&(r[o]={type:"fixed",value:i}));return r}function Tc(e,t=.01){if(e.length<=1)return e;const s=new Map;for(const n of e){if(n.amount<=0)continue;const i=(Math.round(n.price/t)*t).toFixed(4);if(s.has(i)){const r=s.get(i),o=r.amount+n.amount,d=(r.price*r.amount+n.price*n.amount)/o;r.amount=o,r.price=d,r.monthIdx=Math.min(r.monthIdx,n.monthIdx)}else s.set(i,{...n})}return Array.from(s.values()).sort((n,a)=>n.monthIdx-a.monthIdx)}function Bl(e,t,s,n,a,i,r=0,o=!0,d=.7){let f=0,g=n,_=r,h=0,m=0;for(;e>.01&&t.length;){const S=o?0:t.length-1,u=t[S],N=s-u.price,A=Math.max(0,a-g);let v;if(N>0){const C=N*d,c=Math.min(C>0?_/C:Number.POSITIVE_INFINITY,u.amount),T=Math.min(C>0?A/C:Number.POSITIVE_INFINITY,u.amount-c),y=c+T,q=e/s;if(q<=y)v=q;else{const ve=y*s,me=e-ve,J=C*i,j=s-J;if(j<=0)break;const B=me/j;v=y+B}}else v=e/s;const R=Math.min(v,u.amount);h+=R*s;const w=R*N*d;m+=w;let F=0;if(w>0){const C=Math.min(w,_);_-=C;const c=w-C,T=Math.max(0,a-g),y=Math.min(c,T);g+=y,F=(c-y)*i}else w<0&&(_+=Math.abs(w));const x=R*s-F;e-=x,f+=F,v>=u.amount?o?t.shift():t.pop():u.amount-=R}return{remaining:e,taxPaid:f,yearlyUsedFreibetrag:g,lossPot:_,grossProceeds:h,taxableGainTotal:m}}function Pc(e,t,s,n,a,i,r=0,o=!0,d=.7){let f=0,g=n,_=r,h=e,m=0;for(;h>.01&&t.length;){const u=o?0:t.length-1,N=t[u],A=s-N.price,v=h/s,R=Math.min(v,N.amount),M=R*s,F=R*A*d;let x=0;if(F>0){const c=Math.min(F,_);_-=c;const T=F-c,y=Math.max(0,a-g),q=Math.min(T,y);g+=q,x=(T-q)*i}else F<0&&(_+=Math.abs(F));const C=M-x;m+=C,f+=x,h-=M,v>=N.amount?o?t.shift():t.pop():N.amount-=R}const S=h>.01?h:0;return{netProceeds:m,taxPaid:f,yearlyUsedFreibetrag:g,lossPot:_,shortfall:S}}function kl(e,t,s,n,a,i,r,o=0,d=!0,f=.7){if(e<=0)return{savings:t,yearlyUsedFreibetrag:a,lossPot:o,taxPaidOriginal:0,saleTax:0,totalTaxRecorded:0,shortfall:0};let g=e,_=o;const h=Math.min(t,g);t-=h,g-=h;let m=0;if(g>.01&&s.length){const A=Bl(g,s,n,a,i,r,_,d,f);g=A.remaining,m=A.taxPaid,a=A.yearlyUsedFreibetrag,_=A.lossPot}g=Math.max(0,g);const S=e-g,u=g>.01?g:0,N=S+m;return{savings:t,yearlyUsedFreibetrag:a,lossPot:_,taxPaidOriginal:S,saleTax:m,totalTaxRecorded:N,shortfall:u}}function $c(e,t,s,n){const a=ko[e];if(!a||!a.returns)return null;const i=t-s;if(i<=0)return null;const r=Math.floor((i-1)/12);if(r<a.returns.length){const o=a.returns[r];return Math.pow(1+o,1/12)}return null}function fs(e,t=0,s={}){var ma,va;const{start_savings:n,start_etf:a,start_etf_cost_basis:i=0,monthly_savings:r,monthly_etf:o,savings_rate_pa:d,etf_rate_pa:f,etf_ter_pa:g=0,savings_target:_,annual_raise_percent:h,savings_years:m,withdrawal_years:S,monthly_payout_net:u,monthly_payout_percent:N,withdrawal_min:A=0,withdrawal_max:v=0,inflation_adjust_withdrawal:R=!0,special_payout_net_savings:M,special_interval_years_savings:w,inflation_adjust_special_savings:F=!0,special_payout_net_withdrawal:x,special_interval_years_withdrawal:C,inflation_adjust_special_withdrawal:c=!0,inflation_rate_pa:T=0,sparerpauschbetrag:y=aa,kirchensteuer:q="keine",basiszins:ve=2.53,use_lifo:me=!1,rent_is_gross:J=!1,capital_preservation_enabled:j=!1,capital_preservation_threshold:B=80,capital_preservation_reduction:K=25,capital_preservation_recovery:oe=10,loss_pot:ke=0,fondstyp:Ce="aktien"}=e,{stressScenario:ce="none",startYear:re=new Date().getFullYear(),inflationMode:we="deterministic",inflationVolatility:Ae=1.5,inflationFloor:Je=-1,inflationCap:vt=10,cashRateMode:Mt="deterministic",cashRateVolatility:Yt=1,corrInflationCash:gt=.7,corrReturnInflation:It=-.1,savingShockMode:b="off",savingShockPNeg:E=.03,savingShockPPos:P=.05,savingShockFactorNeg:O=0,savingShockFactorPos:z=1.15,savingShockDurationNeg:D=12,extraExpenseMode:U="off",extraExpenseProbability:W=.05,extraExpensePercent:L=5,extraExpenseFixed:V=1e4,crashMode:X="off",crashProbability:H=.03,crashDropMin:Q=-.25,crashDropMax:ne=-.45}=s,de=t>0,Se=ce&&ce!=="none",ge=de?Ec(t/100):0,Fe=ri[Ce]||ri.aktien;let Ue=0;q==="8"?Ue=wo:q==="9"&&(Ue=Ro);const Oe=xc(Ue),ut=m+S,Ft=m*nt,dn=Mc(ut,{inflationMode:we,inflationVolatility:Ae,inflationFloor:Je,inflationCap:vt,cashRateMode:Mt,cashRateVolatility:Yt,corrInflationCash:gt,corrReturnInflation:It,crashMode:X,crashProbability:H,crashDropMin:Q,crashDropMax:ne},e),Ye=kc(Ft,{savingShockMode:b,savingShockPNeg:E,savingShockPPos:P,savingShockFactorNeg:O,savingShockFactorPos:z,savingShockDurationNeg:D}),ct=Cc(S,{extraExpenseMode:U,extraExpenseProbability:W,extraExpensePercent:L,extraExpenseFixed:V}),St=[];let he=n,Ie=yc;const Ke=[];if(a>0){const Le=a/Ie,et=(i>0?i:a)/Le;Ke.push({amount:Le,price:et,monthIdx:0})}const Fo=f-g,da=as(Fo),No=h/100,Vo=ut*nt;let ol=he>=_,Qe=0,fa=0,ha=!1,wn=u,rl=N,qt=null,ys=null,fn=1,ul=!1,pa=0,cl=Ie,Be=ke,Bn=0,Xt=0;for(let Le=1;Le<=Vo;Le+=1){const Nt=Le<=Ft,et=Math.floor((Le-1)/nt),hn=(Le-1)%nt+1;let dl=0,_s=0,Et=0,Ln=0,Ss=1;const je=dn.annualInflation[et]??T,Es=dn.annualCashRates[et]??d,fl=as(je),ga=as(Es),xs=dn.annualCrashEvents[et];fn*=1+fl;const hl=Ke.reduce((ye,ze)=>ye+ze.amount,0)*Ie,ba=he+hl;if(et!==fa){if(Qe=0,Xt>0){const ye=Math.min(Xt,Be);Be-=ye;const ze=Xt-ye,He=Math.min(ze,y);Qe=He;const se=Math.max(0,ze-He)*Oe,De=kl(se,he,Ke,Ie,Qe,y,Oe,Be,!me,Fe);he=De.savings,Qe=De.yearlyUsedFreibetrag,Be=De.lossPot,dl=De.taxPaidOriginal,De.taxPaidOriginal,_s+=De.totalTaxRecorded,Et+=De.shortfall}fa=et,cl=Ie,Bn=0,Xt=0}let it;const ya=Se?$c(ce,Le,Ft):null;if(ya!==null)it=ya,Ie*=it;else if(xs!==null&&hn===1){const ye=1+xs;it=Math.pow(ye,1/12),Ie*=it}else if(xs!==null){const ye=1+xs;it=Math.pow(ye,1/12),Ie*=it}else if(de){const ze=Math.log(1+da)-.5*ge*ge,rt=dn.annualReturnShocks[et]??0,Te=Ns(0,1)*.9+rt*.1;it=Math.exp(ze+ge*Te),Ie*=it}else it=1+da,Ie*=it;const zo=hl*(it-1),ws=he*ga;let pl=0;Bn+=ws,he+=ws;let _a=0,Rn=0,Sa=0,ot=0,Wn=_s,Vt=0,Gn=0,Rs=0,Ea=!1,Ms=0;if(Nt){const ye=Math.pow(1+No,et),ze=Le-1,rt=((ma=Ye.baselineMultipliers)==null?void 0:ma[ze])??1,He=((va=Ye.shockFactors)==null?void 0:va[ze])??1;Ss=He;const Te=r*ye*rt*He,se=o*ye*rt*He;if(ol?Rn=se+Te:(he+=Te,_a=Te,Rn=se),he>_&&(Sa=he-_,he=_,Rn+=Sa,ol=!0),Rn>0){const fe=Rn/Ie;Ke.push({amount:fe,price:Ie,monthIdx:Le})}if(w>0&&Le%(w*nt)===0&&Le>0){let fe=M;if(F){const zt=Le/nt;fe=M*Math.pow(1+T/100,zt)}let We=fe;ot=We;const Qt=Math.max(0,he-_);if(Qt>0){const zt=Math.min(Qt,We);he-=zt,We-=zt}const en=Bl(We,Ke,Ie,Qe,y,Oe,Be,!me,Fe);if(We=en.remaining,Wn+=en.taxPaid,Qe=en.yearlyUsedFreibetrag,Be=en.lossPot,We>.01){const zt=Math.min(he,We);he-=zt,We-=zt,he<_&&(ol=!1)}We<0&&(he+=Math.abs(We),We=0),Vt=ot-Math.max(0,We)}}else{if(qt===null){const se=Ke.reduce((De,fe)=>De+fe.amount,0);qt=he+se*Ie,N!=null&&!ha?(wn=qt*(N/100)/12,ys=wn,ha=!0,rl=N):wn!=null&&(ys=wn,rl=qt>0?wn*12/qt*100:0)}let ye=wn||0;if(R&&ys!=null){const se=et-m;ye=ys*Math.pow(1+T/100,se)}if(A>0&&ye<A&&(ye=A),v>0&&ye>v&&(ye=v),j&&qt>0){const se=Ke.reduce((Qt,en)=>Qt+en.amount,0),De=he+se*Ie,fe=qt*(B/100),We=qt*((B+oe)/100);De<fe?ul=!0:De>=We&&(ul=!1),ul&&(ye=ye*(1-K/100),Ea=!0,pa++)}const ze=ye;let rt=0,He=ye;if(C>0&&Le%(C*nt)===0){if(rt=x,c){const se=Le/nt;rt=x*Math.pow(1+T/100,se)}He+=rt}const Te=et-m;if(ct&&Te>=0&&hn===1){const se=ct[Te];if(se){if(se.type==="percent"){const De=Ke.reduce((We,Qt)=>We+Qt.amount,0);Ln=(he+De*Ie)*se.value}else se.type==="fixed"&&(Ln=se.value*fn);He+=Ln}}if(He>0){let se=He;ot=He;const De=Math.max(0,he-_);if(De>0){const fe=Math.min(De,se);he-=fe,se-=fe,J&&(Ms+=fe)}if(J&&se>0){const fe=Pc(se,Ke,Ie,Qe,y,Oe,Be,!me,Fe),We=fe.netProceeds;Wn+=fe.taxPaid,Qe=fe.yearlyUsedFreibetrag,Be=fe.lossPot,se=fe.shortfall,Vt=ot-se,Ms+=We}else if(se>0){const fe=Bl(se,Ke,Ie,Qe,y,Oe,Be,!me,Fe);se=fe.remaining,Wn+=fe.taxPaid,Qe=fe.yearlyUsedFreibetrag,Be=fe.lossPot}if(se>.01){const fe=Math.min(he,se);he-=fe,se-=fe,J&&(Ms+=fe)}se<0&&(he+=Math.abs(se),se=0),J||(Vt=ot-Math.max(0,se))}if(ot>0&&Vt<ot){const se=Vt/ot;Rs=ze*se}else Rs=ze}let ml=0;if(hn===12){if(Bn>0){const rt=Math.min(Bn,Be);Be-=rt;const He=Bn-rt,Te=Math.max(0,y-Qe),se=Math.min(He,Te);if(Qe+=se,pl=Math.max(0,He-se)*Oe,pl>.01){const fe=kl(pl,he,Ke,Ie,Qe,y,Oe,Be,!me,Fe);he=fe.savings,Qe=fe.yearlyUsedFreibetrag,Be=fe.lossPot,Wn+=fe.totalTaxRecorded,Et+=fe.shortfall}}const ye=re+et,ze=_c(ye,ve);if(ze>0){const rt=et*nt,He=.7;for(const Te of Ke){if(Te.amount<=0)continue;const se=Te.monthIdx>rt,De=se?Te.amount*Te.price:Te.amount*cl;let fe=1;se&&(fe=(12-((Te.monthIdx-1)%nt+1)+1)/12);const We=De*(ze/100)*He*fe,Qt=Te.amount*Ie,en=se?Te.amount*Te.price:Te.amount*cl,zt=Math.max(0,Qt-en),vl=Math.min(We,zt);vl>0&&(ml+=vl,Te.price+=vl/Te.amount)}ml>0&&(Xt=ml*Fe)}}if(hn===12&&Ke.length>50){const ye=Tc(Ke);Ke.length=0,Ke.push(...ye)}const xa=Ke.reduce((ye,ze)=>ye+ze.amount,0)*Ie,wa=he+xa,Do=Nt?null:ot>0?ot:null,Oo=ot>0?Math.max(0,ot-Vt):0;!Nt&&ot>0?J?Gn=Ms:Gn=Vt:Gn=0;const Bo=1+ga;let Ra=it;if(ba>0){const ye=hl/ba,ze=1-ye;Ra=ye*it+ze*Bo}St.push({month:Le,year:et+1,phase:Nt?"Anspar":"Entnahme",savings:he,etf:xa,total:wa,total_real:wa/fn,savings_contrib:_a,etf_contrib:Rn,savings_interest:ws,withdrawal:Vt,withdrawal_real:Vt/fn,withdrawal_net:Gn,withdrawal_net_real:Gn/fn,withdrawal_requested:ot,shortfall:Oo,tax_shortfall:Et,monthly_payout:Rs,monthly_payout_real:Rs/fn,tax_paid:Wn,vorabpauschale_tax:dl,payout_value:Do,payout_percent_pa:Nt?null:rl,return_gain:zo+ws,etfReturn:it,portfolioReturn:Ra,cumulative_inflation:fn,capital_preservation_active:Ea||!1,yearly_used_freibetrag:Qe,loss_pot:Be,extra_expense:Ln,saving_shock_factor:Ss,inflation_rate_year:je,cash_rate_year:Es})}if(Xt>0&&St.length>0){const Le=Math.min(Xt,Be);Be-=Le;const Nt=Xt-Le,hn=Math.min(Nt,y),_s=Math.max(0,Nt-hn)*Oe,Et=kl(_s,he,Ke,Ie,hn,y,Oe,Be,!me,Fe);he=Et.savings,Be=Et.lossPot;const Ss=Ke.reduce((Es,fl)=>Es+fl.amount,0)*Ie,je=St[St.length-1];je.savings=he,je.etf=Ss,je.total=je.savings+je.etf,je.total_real=je.total/je.cumulative_inflation,je.tax_paid+=Et.totalTaxRecorded,je.vorabpauschale_tax=(je.vorabpauschale_tax||0)+Et.taxPaidOriginal,je.pending_vorabpauschale_tax=Et.taxPaidOriginal,je.loss_pot=Be,Et.shortfall>.01&&(je.tax_shortfall=(je.tax_shortfall||0)+Et.shortfall),he<0&&(he=0)}return St.length>0&&(St.capitalPreservationMonths=pa,St.capitalPreservationEnabled=j),St}function Ac(e,t){if(!e||e.length===0)return null;const s=e[e.length-1],n=t.savings_years*nt,a=Math.min(n-1,e.length-1),i=e[a],r=e.filter(v=>v.phase==="Anspar"),o=e.filter(v=>v.phase==="Entnahme"),d=(t.start_savings||0)+(t.start_etf||0)+r.reduce((v,R)=>v+(R.savings_contrib||0)+(R.etf_contrib||0),0),f=e.reduce((v,R)=>v+(R.return_gain||0),0),g=e.reduce((v,R)=>v+(R.tax_paid||0),0),_=e.reduce((v,R)=>v+(R.vorabpauschale_tax||0),0);let h=0,m=0,S=0,u=0;if(o.length>0){const v=o.filter(R=>R.monthly_payout>0).map(R=>R.monthly_payout);v.length>0&&(h=v.reduce((R,M)=>R+M,0)/v.length,m=Math.min(...v),S=Math.max(...v)),u=o.reduce((R,M)=>R+(M.withdrawal||0),0)}const N=e.filter(v=>v.shortfall>0),A=N.length>0;return{endTotal:s.total,endTotalReal:s.total_real,retirementTotal:(i==null?void 0:i.total)||0,retirementTotalReal:(i==null?void 0:i.total_real)||0,totalInvested:d,totalReturn:f,totalTax:g,totalVorabpauschale:_,avgWithdrawal:h,minWithdrawal:m,maxWithdrawal:S,totalWithdrawals:u,hasShortfall:A,shortfallMonths:N.length,capitalPreservationMonths:e.capitalPreservationMonths||0,finalLossPot:s.loss_pot||0,cumulativeInflation:s.cumulative_inflation||1}}const Jt=Dn("simulation",()=>{const e=Z([]),t=Z(null),s=Z(!1),n=Z(null),a=le(()=>e.value.length>0),i=le(()=>e.value.length?e.value[e.value.length-1].total:0),r=le(()=>e.value.length?e.value[e.value.length-1].totalReal:0);function o(){const m=Rt().activeScenario;s.value=!0,n.value=null;try{const S=g(m),u=fs(S,0,{});e.value=d(u);const N=Ac(u,S);t.value=f(N,u,S)}catch(S){console.error("Simulation error:",S),n.value=S.message}finally{s.value=!1}}function d(h){return h.map(m=>({...m,totalReal:m.total_real,savingsContrib:m.savings_contrib,etfContrib:m.etf_contrib,savingsInterest:m.savings_interest,withdrawalReal:m.withdrawal_real,withdrawalNet:m.withdrawal_net,withdrawalNetReal:m.withdrawal_net_real,withdrawalRequested:m.withdrawal_requested,taxShortfall:m.tax_shortfall,monthlyPayout:m.monthly_payout,monthlyPayoutReal:m.monthly_payout_real,taxPaid:m.tax_paid,vorabpauschaleTax:m.vorabpauschale_tax,payoutValue:m.payout_value,payoutPercentPa:m.payout_percent_pa,returnGain:m.return_gain,cumulativeInflation:m.cumulative_inflation,capitalPreservationActive:m.capital_preservation_active,yearlyUsedFreibetrag:m.yearly_used_freibetrag,lossPot:m.loss_pot,phase:m.phase==="Anspar"?"saving":"withdrawal"}))}function f(h,m,S){if(!h)return null;const u=S.savings_years+S.withdrawal_years,N=m[m.length-1],A=(N==null?void 0:N.cumulative_inflation)||1,v=h.totalReturn/A,R=h.totalWithdrawals/A,M=h.avgWithdrawal/A;let w=0;h.retirementTotal>0&&h.avgWithdrawal>0&&(w=h.avgWithdrawal*12/h.retirementTotal*100);const F=(A-1)/A*100,x=h.totalInvested;let C=0;if(x>0&&u>0){const T=(h.endTotalReal+R)/x;C=(Math.pow(T,1/u)-1)*100}return{endTotal:h.endTotal,endTotalReal:h.endTotalReal,retirementWealth:h.retirementTotal,retirementWealthReal:h.retirementTotalReal,retirementTotal:h.retirementTotal,retirementTotalReal:h.retirementTotalReal,totalInvested:h.totalInvested,totalReturn:h.totalReturn,totalTax:h.totalTax,totalVorabpauschale:h.totalVorabpauschale,avgMonthlyWithdrawal:h.avgWithdrawal,avgWithdrawal:h.avgWithdrawal,minWithdrawal:h.minWithdrawal,maxWithdrawal:h.maxWithdrawal,totalWithdrawals:h.totalWithdrawals,hasShortfall:h.hasShortfall,shortfallMonths:h.shortfallMonths,capitalPreservationMonths:h.capitalPreservationMonths,finalLossPot:h.finalLossPot,cumulativeInflation:h.cumulativeInflation,totalReturnReal:v,totalWithdrawalsReal:R,avgMonthlyWithdrawalReal:M,effectiveWithdrawalRate:w,purchasingPowerLoss:F,realReturnPa:C}}function g(h){const m=h.rentMode==="eur";return{start_savings:h.startSavings,start_etf:h.startEtf,start_etf_cost_basis:h.startEtfCostBasis||0,savings_target:h.savingsTarget,savings_years:h.yearsSave,withdrawal_years:h.yearsWithdraw,monthly_savings:h.monthlySavings,monthly_etf:h.monthlyEtf,savings_rate_pa:h.savingsRate,etf_rate_pa:h.etfRate,etf_ter_pa:h.etfTer,annual_raise_percent:h.annualRaise,monthly_payout_net:m?h.rentEur:null,monthly_payout_percent:m?null:h.rentPercent,rent_is_gross:h.rentIsGross,withdrawal_min:h.withdrawalMin,withdrawal_max:h.withdrawalMax,inflation_adjust_withdrawal:h.inflationAdjustWithdrawal,special_payout_net_savings:h.specialSavings,special_interval_years_savings:h.specialSavingsInterval,inflation_adjust_special_savings:h.inflationAdjustSpecialSavings,special_payout_net_withdrawal:h.specialWithdraw,special_interval_years_withdrawal:h.specialWithdrawInterval,inflation_adjust_special_withdrawal:h.inflationAdjustSpecialWithdrawal,capital_preservation_enabled:h.capitalPreservationEnabled,capital_preservation_threshold:h.capitalPreservationThreshold,capital_preservation_reduction:h.capitalPreservationReduction,capital_preservation_recovery:h.capitalPreservationRecovery,sparerpauschbetrag:h.sparerpauschbetrag,kirchensteuer:h.kirchensteuer,basiszins:h.basiszins,use_lifo:h.useLifo,loss_pot:h.lossPot,fondstyp:h.fondstyp,inflation_rate_pa:h.inflationRate}}function _(){e.value=[],t.value=null,n.value=null}return{history:e,stats:t,isRunning:s,error:n,hasResults:a,endWealth:i,endWealthReal:r,runSimulation:o,buildSimulationParams:g,clearResults:_}}),gs=Dn("monteCarlo",()=>{const e=Z(null),t=Z(!1),s=Z(0),n=Z(""),a=Z(null),i=Z(null),r=le(()=>e.value!==null),o=le(()=>e.value?e.value.successRate:0),d=le(()=>e.value?e.value.ruinProbability:0);function f(){const h=Rt(),m=Jt(),S=h.activeScenario;t.value=!0,a.value=null,s.value=0,n.value="Starte Monte-Carlo-Simulation...",console.log("[MC] startSimulation",{scenario:S}),i.value||(i.value=new Worker(new URL(""+new URL("mc-worker-entry.js",import.meta.url).href,import.meta.url),{type:"module"}),console.log("[MC] Worker created"),i.value.onmessage=R=>{const M=R.data||{},{type:w}=M;switch(console.log("[MC] Worker message",M),w){case"progress":{const{percent:F=0,eta:x}=M;s.value=F,n.value=`${F.toFixed(0)}% - ${x||"Berechne..."}`;break}case"complete":{const{results:F}=M;e.value=F||null,t.value=!1,s.value=100,n.value="Fertig!";break}case"error":{const{message:F}=M;a.value=F||"Unbekannter Fehler bei der Monte-Carlo-Simulation",t.value=!1;break}}},i.value.onerror=R=>{console.error("[MC] Worker onerror",R),a.value=R.message,t.value=!1});const u=m.buildSimulationParams(S),N=S.mcIterations||1e3,A=S.mcVolatility||15,v={seed:S.mcSeed||void 0,successThreshold:S.mcSuccessThreshold,ruinThresholdPercent:S.mcRuinThreshold??10,showIndividualPaths:!!S.mcShowIndividual,stressScenario:S.stressScenario||"none",inflationMode:S.mcInflationMode||"deterministic",inflationVolatility:S.mcInflationVolatility??1.5,inflationFloor:S.mcInflationFloor??-1,inflationCap:S.mcInflationCap??10,cashRateMode:S.mcCashRateMode||"deterministic",cashRateVolatility:S.mcCashRateVolatility??1,corrInflationCash:S.mcCorrInflationCash??.7,corrReturnInflation:S.mcCorrReturnInflation??-.1,savingShockMode:S.mcSavingShockMode||"off",savingShockPNeg:S.mcSavingShockPNeg??.03,savingShockPPos:S.mcSavingShockPPos??.05,savingShockFactorNeg:S.mcSavingShockFactorNeg??0,savingShockFactorPos:S.mcSavingShockFactorPos??1.15,savingShockDurationNeg:S.mcSavingShockDurationNeg??12,extraExpenseMode:S.mcExtraExpenseMode||"off",extraExpenseProbability:S.mcExtraExpenseProbability??.05,extraExpensePercent:S.mcExtraExpensePercent??5,extraExpenseFixed:S.mcExtraExpenseFixed??1e4,crashMode:S.mcCrashMode||"off",crashProbability:S.mcCrashProbability??.03,crashDropMin:S.mcCrashDropMin??-.25,crashDropMax:S.mcCrashDropMax??-.45};console.log("[MC] postMessage start",{params:u,iterations:N,volatility:A,mcOptions:v}),i.value.postMessage({type:"start",params:u,iterations:N,volatility:A,mcOptions:v})}function g(){i.value&&(i.value.postMessage({type:"abort"}),t.value=!1,n.value="Abgebrochen")}function _(){e.value=null,a.value=null,s.value=0,n.value=""}return{results:e,isRunning:t,progress:s,progressText:n,error:a,hasResults:r,successRate:o,ruinProbability:d,startSimulation:f,abortSimulation:g,clearResults:_}}),On=Dn("ui",()=>{const e=Z("dark"),t=Z("standard"),s=Z(!1),n=Z(!1),a=Z(!1),i=Z(!1),r=Z(!1),o=Z(!1),d=Z(!1),f=Z(!0),g=Z(!0),_=Z(!0),h=le(()=>e.value==="dark");function m(){const w=localStorage.getItem("theme");if(w)e.value=w;else{const F=window.matchMedia("(prefers-color-scheme: dark)").matches;e.value=F?"dark":"light"}u()}function S(){e.value=e.value==="dark"?"light":"dark",localStorage.setItem("theme",e.value),u()}function u(){document.body.classList.toggle("theme-light",e.value==="light")}function N(w){t.value=w}function A(){s.value=!1,n.value=!1,a.value=!1,i.value=!1,r.value=!1}function v(){o.value=!o.value}function R(){d.value=!d.value}function M(){f.value=!f.value}return{theme:e,activeTab:t,showInfoModal:s,showFormulaModal:n,showWizardModal:a,showOptimizerModal:i,showBavComparisonModal:r,expertMode:o,standardChartLogScale:d,mcChartLogScale:f,showStatsNominal:g,showMcStatsNominal:_,isDarkTheme:h,initTheme:m,toggleTheme:S,setActiveTab:N,closeAllModals:A,toggleExpertMode:v,toggleStandardChartScale:R,toggleMcChartScale:M}});function Ic(e={}){const{onRunSimulation:t,onCloseModals:s,onAbortMonteCarlo:n,onToggleTab:a}=e;function i(r){if(r.ctrlKey&&r.key==="Enter"){r.preventDefault(),t==null||t();return}if(r.key==="Escape"){if(n!=null&&n())return;s==null||s();return}if(r.altKey&&["1","2","3"].includes(r.key)){r.preventDefault();const o={1:"standard",2:"monte-carlo",3:"yearly"};a==null||a(o[r.key]);return}}zn(()=>{window.addEventListener("keydown",i)}),ms(()=>{window.removeEventListener("keydown",i)})}const Vs=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),Cn=new Intl.NumberFormat("de-DE",{minimumFractionDigits:1,maximumFractionDigits:1});function Hn(e){return Vs.format(e)+" "}const Jn={median:"#f59e0b",band50:"rgba(99, 102, 241, 0.35)",band80:"rgba(99, 102, 241, 0.15)",p5:"#ef4444",p95:"#22c55e"};let Ll=null;function Fc(e,t={}){var me;const s=document.getElementById("mc-graph");if(!s||!e)return;const n=s.getContext("2d"),a=window.devicePixelRatio||1,i=s.getBoundingClientRect(),r=i.width,o=i.height;if(!r||!o)return;s.width=r*a,s.height=o*a,n.setTransform(a,0,0,a,0,0),n.clearRect(0,0,r,o);const{percentiles:d,percentilesReal:f,months:g,savingsYears:_}=e;if(!g||!g.length)return;const h=t.showReal??!1,m=h&&f?f:d,S=60,u=50,N=Math.max(g.length-1,1),A=m.p5.some(J=>J<=0)||m.p10.some(J=>J<=0),v=t.logScale??!0,R=1,M=m.p5.filter(J=>J>0),w=v?Math.max(R,M.length>0?Math.min(...M):R):0,F=Math.max(w*10,...m.p95);let x;if(v){const J=Math.log10(w),j=Math.log10(F);x=(B,K)=>{const oe=S+B/N*(r-2*S),ke=Math.max(w,K),ce=(Math.log10(ke)-J)/(j-J),re=o-u-ce*(o-2*u);return[oe,re]}}else x=(J,j)=>{const B=S+J/N*(r-2*S),K=o-u-j/F*(o-2*u);return[B,K]};if(n.strokeStyle="#8b96a9",n.lineWidth=1,n.beginPath(),n.moveTo(S,o-u),n.lineTo(r-S,o-u),n.moveTo(S,o-u),n.lineTo(S,u),n.stroke(),n.font="12px 'Segoe UI', sans-serif",n.fillStyle="#94a3b8",n.textAlign="right",n.textBaseline="middle",v){const J=Math.log10(w),j=[];let B=Math.pow(10,Math.floor(J));for(;B<=F;)B>=w&&j.push(B),B*2>=w&&B*2<=F&&j.push(B*2),B*5>=w&&B*5<=F&&j.push(B*5),B*=10;for(const K of j){const[,oe]=x(0,K);n.strokeStyle="rgba(255,255,255,0.05)",n.beginPath(),n.moveTo(S,oe),n.lineTo(r-S,oe),n.stroke(),n.fillStyle="#94a3b8";const ke=K>=1e6?`${(K/1e6).toFixed(K%1e6===0?0:1)}M`:`${Math.round(K/1e3)}k`;n.fillText(ke,S-8,oe)}}else for(let J=0;J<=ci;J++){const j=F*(J/ci),[,B]=x(0,j);n.strokeStyle="rgba(255,255,255,0.05)",n.beginPath(),n.moveTo(S,B),n.lineTo(r-S,B),n.stroke(),n.fillStyle="#94a3b8";const K=j>=1e6?`${(j/1e6).toFixed(1)}M`:`${Math.round(j/1e3)}k`;n.fillText(K,S-8,B)}n.textAlign="center",n.textBaseline="top";const C=Math.ceil(g.length/nt);for(let J=1;J<=C;J+=1){const j=Math.min(J*nt-1,g.length-1),[B]=x(j,0);n.strokeStyle="rgba(255,255,255,0.15)",n.beginPath(),n.moveTo(B,o-u),n.lineTo(B,o-u+6),n.stroke(),n.fillStyle="#94a3b8",n.fillText(String(J),B,o-u+8)}const c=(J,j,B)=>{n.fillStyle=B,n.beginPath();for(let K=0;K<g.length;K++){const[oe,ke]=x(K,j[K]);K===0?n.moveTo(oe,ke):n.lineTo(oe,ke)}for(let K=g.length-1;K>=0;K--){const[oe,ke]=x(K,J[K]);n.lineTo(oe,ke)}n.closePath(),n.fill()};if(c(m.p10,m.p90,Jn.band80),c(m.p25,m.p75,Jn.band50),t.showIndividualPaths&&((me=e.allHistories)!=null&&me.length)){n.strokeStyle="rgba(255, 255, 255, 0.08)",n.lineWidth=.5;const J=Math.min(50,e.allHistories.length);for(let j=0;j<J;j++){const B=e.allHistories[j];n.beginPath(),B.forEach((K,oe)=>{const ke=h&&K.total_real||K.total,[Ce,ce]=x(oe,ke);oe===0?n.moveTo(Ce,ce):n.lineTo(Ce,ce)}),n.stroke()}}if(n.strokeStyle=Jn.median,n.lineWidth=2.5,n.beginPath(),m.p50.forEach((J,j)=>{const[B,K]=x(j,J);j===0?n.moveTo(B,K):n.lineTo(B,K)}),n.stroke(),n.setLineDash([4,4]),n.lineWidth=1,n.strokeStyle=Jn.p5,n.globalAlpha=.6,n.beginPath(),m.p5.forEach((J,j)=>{const[B,K]=x(j,J);j===0?n.moveTo(B,K):n.lineTo(B,K)}),n.stroke(),n.strokeStyle=Jn.p95,n.beginPath(),m.p95.forEach((J,j)=>{const[B,K]=x(j,J);j===0?n.moveTo(B,K):n.lineTo(B,K)}),n.stroke(),n.globalAlpha=1,n.setLineDash([]),v&&A){n.fillStyle="rgba(239, 68, 68, 0.7)",n.strokeStyle="rgba(239, 68, 68, 0.9)",n.lineWidth=2,m.p5.forEach((j,B)=>{if(j<=R){const[K,oe]=x(B,R);n.beginPath(),n.moveTo(K,oe+6),n.lineTo(K-5,oe-4),n.lineTo(K+5,oe-4),n.closePath(),n.fill()}});const J=m.p5.findIndex(j=>j<=R);if(J>=0){const[j,B]=x(J,R);n.font="11px 'Segoe UI', sans-serif",n.fillStyle="rgba(239, 68, 68, 0.9)",n.textAlign="left",n.textBaseline="bottom",n.fillText(" Pleite-Szenarien",j+8,B-2)}}const T=typeof t.savingsYears=="number"?t.savingsYears:null,y=T??(typeof e.savingsYears=="number"?e.savingsYears:typeof _=="number"?_:0);if(y>0){const J=y*nt;if(J>=0&&J<=g.length-1){const[j]=x(J,0);n.strokeStyle="#6b7280",n.setLineDash([5,5]),n.lineWidth=1,n.beginPath(),n.moveTo(j,u),n.lineTo(j,o-u),n.stroke(),n.setLineDash([]),n.fillStyle="#94a3b8",n.textAlign="right",n.textBaseline="middle",n.fillText("Entnahme ",j-6,u+20)}}Ll={percentiles:m,xScale:J=>S+J/N*(r-2*S),yScale:null,margin:{top:u,right:S,bottom:u,left:S},width:r,height:o,numMonths:g.length}}function Nc(){const e=document.getElementById("tooltip"),t=document.getElementById("graph"),s=document.getElementById("mc-graph");if(!e)return;function n(i,r,o){e.innerHTML=o,e.style.left=`${i+15}px`,e.style.top=`${r-10}px`,e.setAttribute("data-visible","true")}function a(){e.setAttribute("data-visible","false")}t==null||t.addEventListener("mousemove",i=>{}),t==null||t.addEventListener("mouseleave",a),s==null||s.addEventListener("mousemove",i=>{if(!Ll)return;const r=s.getBoundingClientRect(),o=i.clientX-r.left,{percentiles:d,xScale:f,margin:g,width:_,numMonths:h}=Ll;if(o<g.left||o>_-g.right){a();return}const m=(o-g.left)/(_-g.left-g.right),S=Math.min(Math.round(m*(h-1)),h-1),u=Math.floor(S/12)+1,N=S%12+1,A=`
      <strong>Jahr ${u}, Monat ${N}</strong><br>
      Median: ${Hn(d.p50[S])}<br>
      25-75%: ${Hn(d.p25[S])} - ${Hn(d.p75[S])}<br>
      10-90%: ${Hn(d.p10[S])} - ${Hn(d.p90[S])}
    `;n(i.clientX,i.clientY,A)}),s==null||s.addEventListener("mouseleave",a)}function di(e,t){const s=document.getElementById("risk-widget");if(!s)return;let n="unknown",a="-";if(t){const f=t.emergencyFillProbability||0;f>80?(n="good",a=`${Vs.format(f)}% erreichen Ziel`):f>50?(n="warning",a=`${Vs.format(f)}% erreichen Ziel`):(n="bad",a=`Nur ${Vs.format(f)}% erreichen Ziel`)}let i="unknown",r="-";if(t){const f=t.ruinProbability||0;f<5?(i="good",r=`${Cn.format(f)}% Pleite-Risiko`):f<15?(i="warning",r=`${Cn.format(f)}% Pleite-Risiko`):(i="bad",r=`${Cn.format(f)}% Pleite-Risiko`)}let o="unknown",d="-";if(t){const f=t.successRate||0;f>=95?(o="good",d=`${Cn.format(f)}% Erfolg`):f>=80?(o="warning",d=`${Cn.format(f)}% Erfolg`):(o="bad",d=`${Cn.format(f)}% Erfolg`)}s.innerHTML=`
    <div class="risk-widget-header">
      <h4>Risiko-bersicht</h4>
    </div>
    <div class="risk-widget-grid">
      <div class="risk-item risk-item--${o}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Erfolg</span>
        <span class="risk-value">${d}</span>
      </div>
      <div class="risk-item risk-item--${i}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Ruin</span>
        <span class="risk-value">${r}</span>
      </div>
      <div class="risk-item risk-item--${n}">
        <span class="risk-indicator"></span>
        <span class="risk-label">Notgroschen</span>
        <span class="risk-value">${a}</span>
      </div>
    </div>
  `}const Vc={class:"topbar",role:"banner"},zc={class:"topbar-actions"},Dc={__name:"TopBar",setup(e){const t=On();return(s,n)=>($(),I("header",Vc,[n[8]||(n[8]=l("div",{class:"brand"},[l("div",{class:"brand__dot"}),l("div",null,[l("p",{class:"eyebrow"},"ETF & Tagesgeld"),l("h1",null,"Sparplan- & Entnahme-Simulator"),l("p",{class:"tagline"},"Interaktive Monte-Carlo-Analysen, Steuerlogik fr Deutschland und Entnahmestrategien in einem Tool.")])],-1)),l("div",zc,[l("button",{class:"btn-info",onClick:n[0]||(n[0]=a=>p(t).showInfoModal=!0),title:"Wie funktioniert die Simulation?"},[...n[4]||(n[4]=[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("path",{d:"M12 16v-4M12 8h.01"})],-1),l("span",null,"Wie funktioniert's?",-1)])]),l("button",{class:"btn-info",onClick:n[1]||(n[1]=a=>p(t).showFormulaModal=!0),title:"Formel-Cheatsheet anzeigen"},[...n[5]||(n[5]=[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),l("path",{d:"M7 12h10M9 8l-2 4 2 4"})],-1),l("span",null,"Formel-Cheatsheet",-1)])]),l("button",{class:"btn-info btn-bav",onClick:n[2]||(n[2]=a=>p(t).showBavComparisonModal=!0),title:"bAV vs. ETF Vergleichsrechner"},[...n[6]||(n[6]=[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M3 21h18M9 8h1M9 12h1M9 16h1M14 8h1M14 12h1M14 16h1"}),l("rect",{x:"5",y:"4",width:"14",height:"17",rx:"1"})],-1),l("span",null,"bAV vs. ETF",-1)])]),l("button",{class:"btn-theme",type:"button",onClick:n[3]||(n[3]=a=>p(t).toggleTheme()),"aria-label":"Theme wechseln"},[...n[7]||(n[7]=[l("span",{class:"btn-theme__icon btn-theme__icon--dark"},"",-1),l("span",{class:"btn-theme__icon btn-theme__icon--light"},"",-1)])])])]))}},Oc={class:"modal"},Bc={class:"modal-header"},Lc={__name:"InfoModal",emits:["close"],setup(e){return(t,s)=>($(),I("div",{class:"modal-overlay active",onClick:s[1]||(s[1]=on(n=>t.$emit("close"),["self"]))},[l("div",Oc,[l("div",Bc,[s[2]||(s[2]=l("h2",null,"Wie funktioniert die Simulation?",-1)),l("button",{class:"modal-close",onClick:s[0]||(s[0]=n=>t.$emit("close")),"aria-label":"Schlieen"},"")]),s[3]||(s[3]=cs('<div class="modal-body"><section class="info-section"><h3> Simulationsbersicht</h3><p>Die Simulation berechnet deinen Vermgensverlauf in zwei Phasen:</p><ul><li><strong>Ansparphase:</strong> Monatliche Sparraten (TG + ETF), optional mit jhrlicher Dynamik. Erreicht das TG das Ziel, fliet der berschuss in den ETF.</li><li><strong>Entnahmephase:</strong> Fester EUR-Betrag oder %-Regel (z.B. 4%-Regel), optional inflationsangepasst. Entnahme-Reihenfolge: TG-berschuss  ETF  TG unter Ziel.</li><li><strong>Sonderausgaben:</strong> Grere Einmalkosten (z.B. Auto) alle X Jahre, fr beide Phasen separat einstellbar.</li></ul></section><section class="info-section"><h3> Monte-Carlo-Simulation</h3><p>Hunderte bis tausende Durchlufe mit <strong>zuflligen ETF-Renditen</strong> (normalverteilt um die erwartete Rendite). Zeigt die Verteilung mglicher Ergebnisse als Konfidenz-Bnder.</p><ul><li><strong>Volatilitt:</strong> Typisch 15-20% p.a. fr Aktien-ETFs</li><li><strong>Erfolgswahrscheinlichkeit:</strong> % der Simulationen ohne Engpass und positivem Endvermgen</li><li><strong>Perzentile:</strong> 25% (Konservativ), 50% (Median), 75% (Optimistisch)</li></ul></section><section class="info-section"><h3> Steuern (Deutschland)</h3><ul><li><strong>Kapitalertragsteuer:</strong> 26,375% (inkl. Soli), mit KiSt ~27,8-28%</li><li><strong>Teilfreistellung:</strong> 30% der ETF-Gewinne sind steuerfrei</li><li><strong>Sparerpauschbetrag:</strong> 1.000/2.000 jhrlich steuerfrei</li><li><strong>Vorabpauschale:</strong> Jhrliche Steuer auf thesaurierende ETFs (Basiszins  0,7)</li><li><strong>FIFO/LIFO:</strong> Verkaufsreihenfolge  FIFO ist gesetzlich vorgeschrieben, LIFO oft gnstiger</li><li><strong>Verlusttopf:</strong> Ein allgemeiner Topf fr ETF-Gewinne/-Verluste (nach Teilfreistellung), Zinsen und Vorabpauschale.</li></ul></section><section class="info-section"><h3> Kapitalerhalt &amp; Risiko</h3><ul><li><strong>Kapitalerhalt-Modus:</strong> Reduziert Entnahme automatisch, wenn Vermgen unter Schwellwert fllt</li><li><strong>Sequence-of-Returns-Risk:</strong> Frhe Crashs in der Entnahmephase sind besonders schdlich</li><li><strong>Strategien:</strong> Grerer Cash-Puffer, flexible Entnahme, Bond-Tent</li></ul></section><section class="info-section"><h3> Wichtige Kennzahlen</h3><ul><li><strong>Nominal vs. Real:</strong> Nominale Werte sind absolute Betrge, reale sind kaufkraftbereinigt</li><li><strong>Effektive Entnahmerate:</strong> Tatschliche jhrliche Entnahme in % des Startvermgens</li><li><strong>Kapitalerhalt-Rate:</strong> % der MC-Simulationen mit Endvermgen  Startvermgen</li><li><strong>Pleite-Risiko:</strong> % mit Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase</li></ul></section><section class="info-section"><h3> Hinweise</h3><ul><li>Simulation  Vorhersage  historische Renditen garantieren keine zuknftigen Ergebnisse</li><li>Deutsches Steuerrecht 2025  inkl. allgemeinem Verlusttopf fr ETFs, Zinsen und Vorabpauschale</li><li>Inflation, TG-Zins und TER sind fix  nur ETF-Renditen variieren in Monte-Carlo</li><li>Eingaben werden im Browser gespeichert, Export als CSV/PDF mglich</li></ul></section></div>',1))])]))}},Wc={class:"modal"},Gc={class:"modal-header"},Kc={__name:"FormulaModal",emits:["close"],setup(e){return(t,s)=>($(),I("div",{class:"modal-overlay active",onClick:s[1]||(s[1]=on(n=>t.$emit("close"),["self"]))},[l("div",Wc,[l("div",Gc,[s[2]||(s[2]=l("h2",null,"Formel-Cheatsheet",-1)),l("button",{class:"modal-close",onClick:s[0]||(s[0]=n=>t.$emit("close")),"aria-label":"Schlieen"},"")]),s[3]||(s[3]=cs('<div class="modal-body"><section class="info-section"><h3> Zinsen &amp; Rendite</h3><ul><li><strong>Monatszins aus Jahreszins:</strong> <code>(1 + Jahreszins/100)^(1/12) - 1</code></li><li><strong>ETF-Rendite nach Kosten:</strong> <code>ETF-Rendite p.a. - TER p.a.</code></li><li><strong>Monatsrendite ETF:</strong> <code>(1 + effektive Rendite/100)^(1/12) - 1</code></li></ul></section><section class="info-section"><h3> Tagesgeld &amp; ETF</h3><ul><li><strong>Tagesgeld-Zinsen pro Monat:</strong> <code>Kontostand  Monatszins</code></li><li><strong>Neuer TG-Saldo:</strong> <code>alter Saldo + Zinsen + Einzahlungen - Entnahmen</code></li><li><strong>Gekaufte ETF-Anteile:</strong> <code>investierter Betrag / aktueller Kurs</code></li><li><strong>ETF-Wert:</strong> <code>Anzahl Anteile  Kurs</code></li></ul></section><section class="info-section"><h3> Inflation &amp; reale Werte</h3><ul><li><strong>Monatsinflation:</strong> <code>(1 + Inflation p.a./100)^(1/12) - 1</code></li><li><strong>Inflationsfaktor:</strong> wchst jeden Monat mit <code>1 + Monatsinflation</code></li><li><strong>Vermgen real:</strong> <code>Vermgen nominal / Inflationsfaktor</code></li></ul></section><section class="info-section"><h3> Entnahmephase</h3><ul><li><strong>Start-Rente (EUR-Modus):</strong> eingegebene Monatsrente</li><li><strong>Start-Rente (%-Modus):</strong> <code>Vermgen zum Rentenstart  Entnahme% / 12</code></li><li><strong>Rente Jahr n:</strong> <code>Start-Rente  (1 + Inflation p.a./100)^n</code></li></ul></section><section class="info-section"><h3> Steuern (vereinfacht)</h3><ul><li><strong>Effektiver Steuersatz ohne KiSt:</strong> ca. 26,375 %</li><li><strong>Sparerpauschbetrag:</strong> Gewinne/Zinsen bis 1.000/2.000  pro Jahr steuerfrei</li><li><strong>Vorabpauschale Basisertrag:</strong> <code>Wert  Basiszins/100  0,7  Zeitanteil</code></li><li><strong>Vorabpauschale:</strong> <code>min(Basisertrag, tatschlicher Wertzuwachs)</code></li></ul></section><section class="info-section"><h3> Monte-Carlo (Zufallsrenditen)</h3><ul><li><strong>Monatsvolatilitt:</strong> <code>Jahresvola / 12</code></li><li><strong>Monatsrendite in Zufallssimulation:</strong> schwankt um die erwartete Monatsrendite mit obiger Volatilitt</li></ul></section></div>',1))])]))}},il=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},Uc={class:"modal wizard-modal",role:"dialog","aria-labelledby":"wizard-title"},jc={class:"modal-header"},Hc={class:"wizard-progress"},Jc={class:"wizard-step-number"},Zc={class:"wizard-step-label"},Yc={class:"modal-body wizard-body"},qc={class:"wizard-page"},Xc={class:"wizard-fields"},Qc={class:"field"},ed={class:"field"},td={class:"field"},nd={class:"wizard-summary-box"},sd={class:"wizard-page"},ld={class:"wizard-fields"},ad={class:"field"},id={class:"field"},od={class:"field"},rd={class:"wizard-page"},ud={class:"wizard-fields"},cd={class:"field"},dd={class:"field"},fd={class:"wizard-summary-box"},hd={class:"wizard-page"},pd={class:"risk-profiles"},md=["value"],vd={class:"risk-profile-content"},gd={class:"wizard-page"},bd={class:"wizard-result-grid"},yd={class:"wizard-result-item"},_d={class:"value"},Sd={class:"wizard-result-item"},Ed={class:"value"},xd={class:"wizard-result-item"},wd={class:"value"},Rd={class:"wizard-result-item"},Md={class:"value"},kd={class:"wizard-result-item"},Cd={class:"value"},Td={class:"wizard-result-item"},Pd={class:"value"},$d={class:"wizard-result-item"},Ad={class:"value"},Id={class:"modal-footer wizard-footer"},Fd={__name:"WizardModal",emits:["close"],setup(e,{emit:t}){const s=t,n=Rt(),a=Jt(),i=Z(0),r=["Alter & Rente","Budget","Vermgen","Risikoprofil","Zusammenfassung"],o=Z({currentAge:30,retirementAge:67,lifeExpectancy:95,monthlyBudget:500,existingSavings:5e3,existingEtf:1e3,riskProfile:"balanced",monthlyPension:1500,emergencyMonths:6}),d=le(()=>Math.max(1,o.value.retirementAge-o.value.currentAge)),f=le(()=>Math.max(1,o.value.lifeExpectancy-o.value.retirementAge)),g={conservative:{name:"Konservativ",description:"Sicherheit vor Rendite, mehr Tagesgeld",savingsRatio:.5,etfRate:5,volatility:12},balanced:{name:"Ausgewogen",description:"Balance zwischen Sicherheit und Wachstum",savingsRatio:.3,etfRate:6,volatility:15},aggressive:{name:"Wachstumsorientiert",description:"Maximale Rendite, mehr Risiko",savingsRatio:.15,etfRate:7,volatility:18}},_=le(()=>g[o.value.riskProfile]),h=le(()=>{const A=_.value,v=o.value.monthlyBudget,R=Math.round(v*A.savingsRatio),M=v-R,w=o.value.monthlyPension||1500,F=w*o.value.emergencyMonths,x=Math.max(0,w-o.value.monthlyPension);return{yearsSave:d.value,yearsWithdraw:f.value,monthlySavings:R,monthlyEtf:M,startSavings:o.value.existingSavings,startEtf:o.value.existingEtf,savingsTarget:F,etfRate:A.etfRate,mcVolatility:A.volatility,rentEur:x,rentMode:"eur"}});function m(){i.value<r.length-1&&i.value++}function S(){i.value>0&&i.value--}function u(){const A=h.value;n.updateScenario(A),a.runSimulation(),s("close")}function N(A){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(A)}return(A,v)=>($(),I("div",{class:"modal-overlay active",onClick:v[10]||(v[10]=on(R=>A.$emit("close"),["self"]))},[l("div",Uc,[l("header",jc,[v[11]||(v[11]=l("h2",{id:"wizard-title"},"Setup-Assistent",-1)),l("button",{type:"button",class:"modal-close",onClick:v[0]||(v[0]=R=>A.$emit("close")),"aria-label":"Schlieen"},"")]),l("div",Hc,[($(),I($e,null,ht(r,(R,M)=>l("div",{key:M,class:pe(["wizard-step",{"wizard-step--active":i.value===M,"wizard-step--done":i.value>M}])},[l("span",Jc,k(M+1),1),l("span",Zc,k(R),1)],2)),64))]),l("div",Yc,[ae(l("div",qc,[v[18]||(v[18]=l("h3",null,"Alter & Rentenplanung",-1)),v[19]||(v[19]=l("p",{class:"wizard-hint"},"Wie lange mchtest du sparen und entnehmen?",-1)),l("div",Xc,[l("label",Qc,[v[12]||(v[12]=l("span",{class:"field-label"},"Aktuelles Alter",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[1]||(v[1]=R=>o.value.currentAge=R),min:"18",max:"80"},null,512),[[Pe,o.value.currentAge,void 0,{number:!0}]])]),l("label",ed,[v[13]||(v[13]=l("span",{class:"field-label"},"Gewnschtes Rentenalter",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[2]||(v[2]=R=>o.value.retirementAge=R),min:"40",max:"80"},null,512),[[Pe,o.value.retirementAge,void 0,{number:!0}]])]),l("label",td,[v[14]||(v[14]=l("span",{class:"field-label"},"Lebenserwartung (Planungshorizont)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[3]||(v[3]=R=>o.value.lifeExpectancy=R),min:"70",max:"110"},null,512),[[Pe,o.value.lifeExpectancy,void 0,{number:!0}]]),v[15]||(v[15]=l("small",{class:"field-hint"},"Lieber grozgig planen!",-1))])]),l("div",nd,[l("p",null,[l("strong",null,k(d.value),1),v[16]||(v[16]=Ne(" Jahre Ansparphase",-1))]),l("p",null,[l("strong",null,k(f.value),1),v[17]||(v[17]=Ne(" Jahre Entnahmephase",-1))])])],512),[[bt,i.value===0]]),ae(l("div",sd,[v[25]||(v[25]=l("h3",null,"Monatliches Sparbudget",-1)),v[26]||(v[26]=l("p",{class:"wizard-hint"},"Wie viel kannst du monatlich fr den Vermgensaufbau verwenden?",-1)),l("div",ld,[l("label",ad,[v[20]||(v[20]=l("span",{class:"field-label"},"Monatliches Sparbudget (EUR)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[4]||(v[4]=R=>o.value.monthlyBudget=R),min:"50",max:"10000",step:"50"},null,512),[[Pe,o.value.monthlyBudget,void 0,{number:!0}]])]),l("label",id,[v[21]||(v[21]=l("span",{class:"field-label"},'Gewnschte monatliche "Rente" (EUR)',-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[5]||(v[5]=R=>o.value.monthlyPension=R),min:"0",max:"20000",step:"100"},null,512),[[Pe,o.value.monthlyPension,void 0,{number:!0}]]),v[22]||(v[22]=l("small",{class:"field-hint"},"Wie viel mchtest du monatlich entnehmen?",-1))]),l("label",od,[v[23]||(v[23]=l("span",{class:"field-label"},"Notgroschen-Monate",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[6]||(v[6]=R=>o.value.emergencyMonths=R),min:"3",max:"24"},null,512),[[Pe,o.value.emergencyMonths,void 0,{number:!0}]]),v[24]||(v[24]=l("small",{class:"field-hint"},"Monatsausgaben  X als Notgroschen",-1))])])],512),[[bt,i.value===1]]),ae(l("div",rd,[v[30]||(v[30]=l("h3",null,"Vorhandenes Vermgen",-1)),v[31]||(v[31]=l("p",{class:"wizard-hint"},"Was bringst du bereits mit?",-1)),l("div",ud,[l("label",cd,[v[27]||(v[27]=l("span",{class:"field-label"},"Tagesgeld / Sparkonto (EUR)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[7]||(v[7]=R=>o.value.existingSavings=R),min:"0",max:"10000000",step:"1000"},null,512),[[Pe,o.value.existingSavings,void 0,{number:!0}]])]),l("label",dd,[v[28]||(v[28]=l("span",{class:"field-label"},"ETF-Depot (EUR)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":v[8]||(v[8]=R=>o.value.existingEtf=R),min:"0",max:"10000000",step:"1000"},null,512),[[Pe,o.value.existingEtf,void 0,{number:!0}]])])]),l("div",fd,[l("p",null,[v[29]||(v[29]=Ne("Gesamtes Startkapital: ",-1)),l("strong",null,k(N(o.value.existingSavings+o.value.existingEtf)),1)])])],512),[[bt,i.value===2]]),ae(l("div",hd,[v[32]||(v[32]=l("h3",null,"Risikoprofil",-1)),v[33]||(v[33]=l("p",{class:"wizard-hint"},"Wie gehst du mit Kursschwankungen um?",-1)),l("div",pd,[($(),I($e,null,ht(g,(R,M)=>l("label",{key:M,class:pe(["risk-profile",{"risk-profile--selected":o.value.riskProfile===M}])},[ae(l("input",{type:"radio","onUpdate:modelValue":v[9]||(v[9]=w=>o.value.riskProfile=w),value:M},null,8,md),[[lc,o.value.riskProfile]]),l("div",vd,[l("strong",null,k(R.name),1),l("span",null,k(R.description),1),l("small",null,k(Math.round((1-R.savingsRatio)*100))+"% ETF / "+k(Math.round(R.savingsRatio*100))+"% Tagesgeld",1)])],2)),64))])],512),[[bt,i.value===3]]),ae(l("div",gd,[v[41]||(v[41]=l("h3",null,"Dein persnlicher Plan",-1)),v[42]||(v[42]=l("p",{class:"wizard-hint"},"Diese Werte werden in dein Szenario bernommen:",-1)),l("div",bd,[l("div",yd,[v[34]||(v[34]=l("span",{class:"label"},"Ansparphase",-1)),l("span",_d,k(h.value.yearsSave)+" Jahre",1)]),l("div",Sd,[v[35]||(v[35]=l("span",{class:"label"},"Entnahmephase",-1)),l("span",Ed,k(h.value.yearsWithdraw)+" Jahre",1)]),l("div",xd,[v[36]||(v[36]=l("span",{class:"label"},"Monatlich Tagesgeld",-1)),l("span",wd,k(N(h.value.monthlySavings)),1)]),l("div",Rd,[v[37]||(v[37]=l("span",{class:"label"},"Monatlich ETF",-1)),l("span",Md,k(N(h.value.monthlyEtf)),1)]),l("div",kd,[v[38]||(v[38]=l("span",{class:"label"},"Tagesgeld-Ziel (Notgroschen)",-1)),l("span",Cd,k(N(h.value.savingsTarget)),1)]),l("div",Td,[v[39]||(v[39]=l("span",{class:"label"},"Erwartete ETF-Rendite",-1)),l("span",Pd,k(h.value.etfRate)+"% p.a.",1)]),l("div",$d,[v[40]||(v[40]=l("span",{class:"label"},"Wunschrente",-1)),l("span",Ad,k(N(h.value.rentEur))+"/Monat",1)])])],512),[[bt,i.value===4]])]),l("footer",Id,[i.value>0?($(),I("button",{key:0,type:"button",class:"btn btn--secondary",onClick:S},"  Zurck ")):G("",!0),v[43]||(v[43]=l("div",{class:"wizard-footer-spacer"},null,-1)),i.value<r.length-1?($(),I("button",{key:1,type:"button",class:"btn btn--primary",onClick:m}," Weiter  ")):($(),I("button",{key:2,type:"button",class:"btn btn--accent",onClick:u},"  Plan bernehmen "))])])]))}},Nd=il(Fd,[["__scopeId","data-v-9cc5e57c"]]),Vd=Dn("optimizer",()=>{const e=Z(!1),t=Z(0),s=Z(""),n=Z(null),a=Z(null),i=Z(null),r=Z({mode:"maximize_rent",targetSuccessRate:90,iterations:500,tgRatioSteps:[0,.1,.2,.3,.4,.5],rentSteps:5,rentRange:.3}),o=le(()=>n.value!==null),d=le(()=>{var v;return((v=n.value)==null?void 0:v.best)||null});let f=null;async function g(){var M;const v=Rt();Jt();const R=v.activeScenario;e.value=!0,t.value=0,s.value="Initialisiere...",a.value=null,n.value=null;try{const w=h(R,r.value);s.value=`${w.length} Kandidaten generiert`,f=new Worker(new URL(""+new URL("mc-worker-entry.js",import.meta.url).href,import.meta.url),{type:"module"});const F=[];let x=0;for(const c of w){if((M=i.value)!=null&&M.signal.aborted)break;const T=await _(c,r.value.iterations),y=S(c,T,r.value);F.push({candidate:c,mcResult:T,score:y,isValid:y>-1/0}),x++,t.value=Math.round(x/w.length*100),s.value=`${x}/${w.length} Kandidaten bewertet`}const C=F.filter(c=>c.isValid);C.sort((c,T)=>T.score-c.score),n.value={candidates:C.slice(0,10),best:C[0]||null,totalEvaluated:w.length,validCount:C.length},s.value=`Fertig! ${C.length} gltige Ergebnisse`}catch(w){console.error("Optimizer error:",w),a.value=w.message}finally{e.value=!1,f&&(f.terminate(),f=null)}}function _(v,R){return new Promise((M,w)=>{const F=m(v);f.onmessage=x=>{const C=x.data||{},{type:c,results:T,message:y}=C;c==="complete"?M(T):c==="error"&&w(new Error(y||"Unbekannter Fehler bei der Monte-Carlo-Simulation"))},f.onerror=x=>{w(new Error(x.message||"Unbekannter Worker-Fehler"))},f.postMessage({type:"start",params:F,iterations:R,volatility:v.mcVolatility||15,mcOptions:{successThreshold:v.mcSuccessThreshold||100,ruinThresholdPercent:v.mcRuinThreshold||10,stressScenario:"none"}})})}function h(v,R){const M=[],w=v.monthlySavings+v.monthlyEtf;for(const F of R.tgRatioSteps){const x=Math.round(w*F),C=w-x;if(R.mode==="maximize_rent"){const c=v.rentMode==="percent"?v.rentPercent:v.rentEur;for(let T=0;T<=R.rentSteps;T++){const y=1-R.rentRange+2*R.rentRange*T/R.rentSteps,q=Math.round(c*y);M.push({...v,monthlySavings:x,monthlyEtf:C,...v.rentMode==="percent"?{rentPercent:Math.round(q*100)/100}:{rentEur:q}})}}else M.push({...v,monthlySavings:x,monthlyEtf:C})}return M}function m(v){return{start_savings:v.startSavings,start_etf:v.startEtf,start_etf_cost_basis:v.startEtfCostBasis||0,savings_target:v.savingsTarget,savings_years:v.yearsSave,withdrawal_years:v.yearsWithdraw,monthly_savings:v.monthlySavings,monthly_etf:v.monthlyEtf,savings_rate_pa:v.savingsRate,etf_rate_pa:v.etfRate,etf_ter_pa:v.etfTer,annual_raise_percent:v.annualRaise,monthly_payout_net:v.rentEur,monthly_payout_percent:v.rentPercent,rent_mode:v.rentMode,rent_is_gross:v.rentIsGross,withdrawal_min:v.withdrawalMin,withdrawal_max:v.withdrawalMax,inflation_adjust_withdrawal:v.inflationAdjustWithdrawal,special_payout_net_savings:v.specialSavings,special_interval_years_savings:v.specialSavingsInterval,inflation_adjust_special_savings:v.inflationAdjustSpecialSavings,special_payout_net_withdrawal:v.specialWithdraw,special_interval_years_withdrawal:v.specialWithdrawInterval,inflation_adjust_special_withdrawal:v.inflationAdjustSpecialWithdrawal,capital_preservation_enabled:v.capitalPreservationEnabled,capital_preservation_threshold:v.capitalPreservationThreshold,capital_preservation_reduction:v.capitalPreservationReduction,capital_preservation_recovery:v.capitalPreservationRecovery,sparerpauschbetrag:v.sparerpauschbetrag,kirchensteuer:v.kirchensteuer,basiszins:v.basiszins,use_lifo:v.useLifo,loss_pot:v.lossPot,fondstyp:v.fondstyp,inflation_rate_pa:v.inflationRate}}function S(v,R,M){if(R.successRate<M.targetSuccessRate)return-1/0;let w=0;if(M.mode==="maximize_rent")v.rentMode==="percent"?w+=(v.rentPercent||0)*1e3:w+=(v.rentEur||0)*10;else{const F=v.monthlySavings+v.monthlyEtf;w-=F*10}return w+=(R.medianEndReal||0)/1e4,w-=(R.ruinProbability||0)*2,w}function u(){if(!d.value)return;const v=Rt(),R=Jt(),M=d.value.candidate;v.updateScenario({monthlySavings:M.monthlySavings,monthlyEtf:M.monthlyEtf,rentEur:M.rentEur,rentPercent:M.rentPercent}),R.runSimulation()}function N(){f&&(f.terminate(),f=null),e.value=!1,s.value="Abgebrochen"}function A(){n.value=null,a.value=null,t.value=0,s.value=""}return{isRunning:e,progress:t,progressText:s,results:n,error:a,config:r,hasResults:o,bestCandidate:d,startOptimization:g,applyBestResult:u,abort:N,clearResults:A}}),zd=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}),Dd=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2});function bs(){function e(n,{decimals:a=0}={}){return n==null||Number.isNaN(n)?"-":a===2?Dd.format(n):zd.format(n)}function t(n,{decimals:a=1}={}){return n==null||Number.isNaN(n)?"-":`${n.toFixed(a)}%`}function s(n,a,i=e){return`${i(n)} - ${i(a)}`}return{formatCurrency:e,formatPercent:t,formatRange:s}}const Od={class:"modal optimizer-modal",role:"dialog","aria-labelledby":"optimizer-title"},Bd={class:"modal-header"},Ld={class:"modal-body"},Wd={key:0,class:"optimizer-config"},Gd={class:"optimizer-fields"},Kd={class:"field"},Ud={class:"field"},jd={class:"field"},Hd={class:"optimizer-current"},Jd={class:"optimizer-current-grid"},Zd={key:1,class:"optimizer-progress"},Yd={class:"progress-bar"},qd=["value"],Xd={class:"progress-text"},Qd={key:2,class:"optimizer-results"},ef={key:0,class:"optimizer-best"},tf={class:"best-grid"},nf={class:"best-item"},sf={class:"value"},lf={class:"best-item"},af={class:"value"},of={class:"best-item"},rf={class:"value success"},uf={class:"best-item"},cf={class:"value"},df={class:"best-item"},ff={class:"value"},hf={key:1,class:"optimizer-alternatives"},pf={class:"alternatives-table"},mf={key:2,class:"optimizer-no-results"},vf={class:"optimizer-stats"},gf={key:3,class:"optimizer-error"},bf={class:"modal-footer"},yf={__name:"OptimizerModal",emits:["close"],setup(e,{emit:t}){const s=t,n=Vd(),a=Rt(),{formatCurrency:i,formatPercent:r}=bs(),o=le(()=>a.activeScenario),d=le(()=>n.config),f=le(()=>{var S;return((S=o.value)==null?void 0:S.rentMode)==="percent"}),g=le(()=>{const S=o.value;return S?S.monthlySavings+S.monthlyEtf:0});function _(){n.startOptimization()}function h(){n.applyBestResult(),s("close")}function m(S){var A;const u=S.candidate,N=S.mcResult;return{tgEtf:`${i(u.monthlySavings)} / ${i(u.monthlyEtf)}`,rent:f.value?`${(A=u.rentPercent)==null?void 0:A.toFixed(2)}%`:i(u.rentEur),successRate:r(N.successRate),medianEnd:i(N.medianEndReal),ruinProb:r(N.ruinProbability),isValid:S.isValid}}return(S,u)=>{var N,A,v,R;return $(),I("div",{class:"modal-overlay active",onClick:u[6]||(u[6]=on(M=>S.$emit("close"),["self"]))},[l("div",Od,[l("header",Bd,[u[7]||(u[7]=l("h2",{id:"optimizer-title"}," Parameter-Optimierer",-1)),l("button",{type:"button",class:"modal-close",onClick:u[0]||(u[0]=M=>S.$emit("close")),"aria-label":"Schlieen"},"")]),l("div",Ld,[!p(n).isRunning&&!p(n).hasResults?($(),I("div",Wd,[u[18]||(u[18]=l("p",{class:"optimizer-hint"}," Der Optimierer testet verschiedene TG/ETF-Aufteilungen und Entnahmeraten, um die beste Kombination fr deine Erfolgswahrscheinlichkeit zu finden. ",-1)),l("div",Gd,[l("label",Kd,[u[9]||(u[9]=l("span",{class:"field-label"},"Optimierungsziel",-1)),ae(l("select",{"onUpdate:modelValue":u[1]||(u[1]=M=>d.value.mode=M)},[...u[8]||(u[8]=[l("option",{value:"maximize_rent"},"Rente maximieren (Budget fix)",-1),l("option",{value:"minimize_budget"},"Budget minimieren (Rente fix)",-1)])],512),[[ni,d.value.mode]])]),l("label",Ud,[u[10]||(u[10]=l("span",{class:"field-label"},"Mindest-Erfolgsrate (%)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[2]||(u[2]=M=>d.value.targetSuccessRate=M),min:"50",max:"99",step:"5"},null,512),[[Pe,d.value.targetSuccessRate,void 0,{number:!0}]]),u[11]||(u[11]=l("small",{class:"field-hint"},"Kandidaten unter diesem Wert werden verworfen",-1))]),l("label",jd,[u[13]||(u[13]=l("span",{class:"field-label"},"MC-Iterationen pro Kandidat",-1)),ae(l("select",{"onUpdate:modelValue":u[3]||(u[3]=M=>d.value.iterations=M)},[...u[12]||(u[12]=[l("option",{value:200},"200 (schnell)",-1),l("option",{value:500},"500 (standard)",-1),l("option",{value:1e3},"1000 (genau)",-1)])],512),[[ni,d.value.iterations,void 0,{number:!0}]])])]),l("div",Hd,[u[17]||(u[17]=l("h4",null,"Aktuelles Szenario",-1)),l("div",Jd,[l("div",null,[u[14]||(u[14]=l("span",{class:"label"},"Budget:",-1)),Ne(" "+k(p(i)(g.value))+"/Monat",1)]),l("div",null,[u[15]||(u[15]=l("span",{class:"label"},"TG/ETF:",-1)),Ne(" "+k(p(i)((N=o.value)==null?void 0:N.monthlySavings))+" / "+k(p(i)((A=o.value)==null?void 0:A.monthlyEtf)),1)]),l("div",null,[u[16]||(u[16]=l("span",{class:"label"},"Wunschrente:",-1)),Ne(" "+k(f.value?`${(v=o.value)==null?void 0:v.rentPercent}%`:p(i)((R=o.value)==null?void 0:R.rentEur)),1)])])])])):G("",!0),p(n).isRunning?($(),I("div",Zd,[l("div",Yd,[l("progress",{value:p(n).progress,max:"100"},null,8,qd)]),l("p",Xd,k(p(n).progressText),1)])):G("",!0),p(n).hasResults&&!p(n).isRunning?($(),I("div",Qd,[p(n).bestCandidate?($(),I("div",ef,[u[24]||(u[24]=l("h4",null," Beste Konfiguration",-1)),l("div",tf,[l("div",nf,[u[19]||(u[19]=l("span",{class:"label"},"TG/ETF",-1)),l("span",sf,k(m(p(n).bestCandidate).tgEtf),1)]),l("div",lf,[u[20]||(u[20]=l("span",{class:"label"},"Wunschrente",-1)),l("span",af,k(m(p(n).bestCandidate).rent),1)]),l("div",of,[u[21]||(u[21]=l("span",{class:"label"},"Erfolgsrate",-1)),l("span",rf,k(m(p(n).bestCandidate).successRate),1)]),l("div",uf,[u[22]||(u[22]=l("span",{class:"label"},"Median Endvermgen (real)",-1)),l("span",cf,k(m(p(n).bestCandidate).medianEnd),1)]),l("div",df,[u[23]||(u[23]=l("span",{class:"label"},"Ruin-Risiko",-1)),l("span",ff,k(m(p(n).bestCandidate).ruinProb),1)])])])):G("",!0),p(n).results.candidates.length>1?($(),I("div",hf,[u[26]||(u[26]=l("h4",null,"Alternative Konfigurationen (Top 10)",-1)),l("div",pf,[l("table",null,[u[25]||(u[25]=l("thead",null,[l("tr",null,[l("th",null,"#"),l("th",null,"TG/ETF"),l("th",null,"Rente"),l("th",null,"Erfolg"),l("th",null,"Median")])],-1)),l("tbody",null,[($(!0),I($e,null,ht(p(n).results.candidates.slice(1),(M,w)=>($(),I("tr",{key:w},[l("td",null,k(w+2),1),l("td",null,k(m(M).tgEtf),1),l("td",null,k(m(M).rent),1),l("td",null,k(m(M).successRate),1),l("td",null,k(m(M).medianEnd),1)]))),128))])])])])):G("",!0),p(n).bestCandidate?G("",!0):($(),I("div",mf,[...u[27]||(u[27]=[l("p",null," Keine gltigen Konfigurationen gefunden.",-1),l("p",null,"Versuche die Mindest-Erfolgsrate zu senken oder die Parameter anzupassen.",-1)])])),l("p",vf,k(p(n).results.validCount)+" von "+k(p(n).results.totalEvaluated)+" Kandidaten erfllen die Mindest-Erfolgsrate von "+k(d.value.targetSuccessRate)+"%. ",1)])):G("",!0),p(n).error?($(),I("div",gf,[l("p",null," Fehler: "+k(p(n).error),1)])):G("",!0)]),l("footer",bf,[!p(n).isRunning&&!p(n).hasResults?($(),I("button",{key:0,type:"button",class:"btn btn--primary",onClick:_},"  Optimierung starten ")):G("",!0),p(n).isRunning?($(),I("button",{key:1,type:"button",class:"btn btn--secondary",onClick:u[4]||(u[4]=M=>p(n).abort())}," Abbrechen ")):G("",!0),p(n).hasResults&&!p(n).isRunning?($(),I($e,{key:2},[l("button",{type:"button",class:"btn btn--secondary",onClick:u[5]||(u[5]=M=>p(n).clearResults())},"  Neu starten "),p(n).bestCandidate?($(),I("button",{key:0,type:"button",class:"btn btn--accent",onClick:h},"  Beste bernehmen ")):G("",!0)],64)):G("",!0)])])])}}},_f=il(yf,[["__scopeId","data-v-8c3aece4"]]),Ze={BBG_RV_2024:90600,BAV_STEUERFREIER_ANTEIL:.08,BAV_SV_FREIER_ANTEIL:.04,RENTENWERT_WEST:39.32,DURCHSCHNITTSENTGELT:45358,BAV_KV_FREIBETRAG_MONATLICH:176.75,RENDITE_DYNAMIK:5,RENDITE_BALANCE:3.8,RENDITE_SICHERHEIT:2.8,KV_GESAMT:.163,PV_KINDERLOS:.034,PV_MIT_KINDERN:.023,RV_AV_AN:.106},Sf=[{limit:11604,rate:0},{limit:17005,rate:.14},{limit:66760,rate:.24},{limit:277825,rate:.42},{limit:1/0,rate:.45}];function Ef(e){for(const t of Sf)if(e<=t.limit)return t.rate;return .45}function ia(e,t,s=!1){const n=e*12,a=Ze.BBG_RV_2024*Ze.BAV_STEUERFREIER_ANTEIL,i=Ze.BBG_RV_2024*Ze.BAV_SV_FREIER_ANTEIL,r=Math.min(n,a),o=Math.min(n,i),d=Ef(t),f=r*d*1.055,g=Ze.KV_GESAMT/2+(s?Ze.PV_MIT_KINDERN:Ze.PV_KINDERLOS)/2,_=o*(g+Ze.RV_AV_AN);return{steuerersparnis:f,svErsparnis:_,gesamtersparnis:f+_,grenzsteuersatz:d,monthlyNetCost:e-(f+_)/12}}function Co(e,t){const n=e*12/Ze.DURCHSCHNITTSENTGELT,a=n*t,i=a*Ze.RENTENWERT_WEST,o=i*.85;return{lostEPPerYear:n,totalLostEP:a,lostMonthlyGross:i,lostMonthlyNet:o,lostAnnualGross:i*12,lostAnnualNet:o*12}}function To(e,t){const s=e/1e4*t,a=e/s/12;return{monthlyPension:s,yearsToBreakEven:a,breakEvenAge:i=>i+a}}function Po(e,t,s,n=!0){let a=e;if(n&&s>0){const r=Math.max(0,s-7),o=Math.min(4,Math.max(0,s-3)),d=Math.min(3,s),f=r+o+d;a=f>0?(r*Ze.RENDITE_DYNAMIK+o*Ze.RENDITE_BALANCE+d*Ze.RENDITE_SICHERHEIT)/f:e}const i=Math.max(a-t,0);return{bavEffectiveReturn:a,bavEffectiveReturnNet:i}}function $o(e,t=0,s=!1){const n=e*12,a=n+t,r=Math.max(0,e-Ze.BAV_KV_FREIBETRAG_MONATLICH)*12*Ze.KV_GESAMT,o=s?Ze.PV_MIT_KINDERN:Ze.PV_KINDERLOS,d=n*o,f=r+d,g=a>0?n/a:1,_=a*.15*g*1.055,h=n-f-_;return{monthlyGross:e,monthlyNet:h/12,effectiveTaxRate:n>0?(f+_)/n:0,kvAbzugJahr:r,pvAbzugJahr:d,steuerJahr:_}}function oa(e){const{currentAge:t,retirementAge:s=67,expectedLifespan:n=85,annualGrossIncome:a,hasKinder:i=!1,otherPensionIncome:r=1500*12,bavMonthlyContribution:o=292,bavEmployerContribution:d=48.67,bavGuaranteedCapital:f=132276,bavGuaranteedPension:g=339.02,bavRentenfaktor:_=20.5,bavExpectedReturn:h=5,bavProductCosts:m=0,bavStartKapital:S=0,bavEnableLifecycle:u=!0,etfExpectedReturn:N=7,etfTER:A=.22,etfVolatility:v=0,inflationPA:R=2,sparerpauschbetrag:M=aa}=e,w=s-t,F=n-s,x=o-d,C=ia(x,a,i),c=Co(x,w),T=C.monthlyNetCost,{bavEffectiveReturn:y,bavEffectiveReturnNet:q}=Po(h,m,w,u),me=fs({start_savings:0,start_etf:S,monthly_savings:0,monthly_etf:o,savings_rate_pa:0,etf_rate_pa:q,etf_ter_pa:0,savings_target:0,annual_raise_percent:0,savings_years:w,withdrawal_years:0,monthly_payout_net:0,inflation_rate_pa:R,sparerpauschbetrag:0,basiszins:-1},0,{}),J=me.length>0?me[me.length-1].total:S,j=J/1e4*_,B=Math.max(j,g),K=$o(B,r-c.lostMonthlyGross*12,i),oe=K.monthlyNet*12*F,Ce=fs({...{start_savings:0,start_etf:0,monthly_savings:0,monthly_etf:T,savings_rate_pa:0,etf_rate_pa:N,etf_ter_pa:A,savings_target:0,annual_raise_percent:0,savings_years:w,withdrawal_years:F,monthly_payout_net:0,monthly_payout_percent:0,inflation_rate_pa:R,sparerpauschbetrag:M},withdrawal_years:0},v,{}),ce=Ce.length>0?Ce[Ce.length-1].total:0,re=as(3),we=F*12,Ae=re>0?ce*re/(1-Math.pow(1+re,-we)):ce/we,Je=ce>0?(ce-T*w*12)/ce:0,vt=Ae*12,Mt=vt*Je*.7,gt=Math.max(0,Mt-M)*.26375/12,It=Ae-gt,b=It*12*F,E=To(f,_),P=Math.pow(1+R/100,w),O=J/P,z=ce/P,D=ce*.04,U=D*Je*.7,W=Math.max(0,U-M)*.26375,L=(D-W)/12,V=o*w*12,X=d*w*12,H=V-X;return{inputs:{yearsUntilRetirement:w,retirementYears:F,monthlyNetForEtf:T,bavEffectiveReturn:y,bavEffectiveReturnNet:q,taxSavings:C,grvLoss:c,rentenfaktorBreakEven:E},bav:{endCapitalNominal:J,endCapitalReal:O,guaranteedCapital:f,totalContributions:V,employeeContributions:H,employerContributions:X,monthlyPensionGross:B,monthlyPensionNet:K.monthlyNet,effectivePensionTaxRate:K.effectiveTaxRate,totalNetPension:oe,grvLossMonthly:c.lostMonthlyNet,breakEvenAge:s+E.yearsToBreakEven,returnPA:q,history:me},etf:{endCapitalNominal:ce,endCapitalReal:z,totalContributions:T*w*12,monthlyWithdrawalGross:Ae,monthlyWithdrawalNet:It,withdrawalRatePA:ce>0?vt/ce*100:0,withdrawal4PercentNet:L,total4PercentWithdrawal:L*12*F,totalNetWithdrawal:b,capitalGainRatio:Je,returnPA:N,history:Ce},comparison:{bavAdvantage:oe-b,bavAdvantageReal:(oe-b)/P,bavAdvantagePercent:b>0?(oe/b-1)*100:0,monthlyNetDifference:K.monthlyNet-It,recommendation:oe>b?"bAV":"ETF"}}}function xf(e){const{currentAge:t,retirementAge:s=67,expectedLifespan:n=85,annualGrossIncome:a,hasKinder:i=!1,otherPensionIncome:r=1500*12,bavCurrentCapital:o,bavMonthlyContribution:d=292,bavEmployerContribution:f=48.67,bavRentenfaktor:g=20.5,bavExpectedReturn:_=5,bavProductCosts:h=0,etfExpectedReturn:m=7,etfTER:S=.22,inflationPA:u=2,sparerpauschbetrag:N=aa}=e,A=s-t,v=n-s,R=d-f,w=ia(R,a,i).monthlyNetCost,F=oa(e),{bavEffectiveReturnNet:x}=Po(_,h,A,!0),c=fs({start_savings:0,start_etf:o,monthly_savings:0,monthly_etf:0,savings_rate_pa:0,etf_rate_pa:x,etf_ter_pa:0,savings_target:0,annual_raise_percent:0,savings_years:A,withdrawal_years:0,monthly_payout_net:0,inflation_rate_pa:u,sparerpauschbetrag:0,basiszins:-1},0,{}),T=c.length>0?c[c.length-1].total:o,y=T/1e4*g,q=$o(y,r,i),me=fs({start_savings:0,start_etf:0,monthly_savings:0,monthly_etf:w,savings_rate_pa:0,etf_rate_pa:m,etf_ter_pa:S,savings_target:0,annual_raise_percent:0,savings_years:A,withdrawal_years:0,monthly_payout_net:0,inflation_rate_pa:u,sparerpauschbetrag:N},0,{}),J=me.length>0?me[me.length-1].total:0,j=v*12,B=as(3),K=B>0?J*B/(1-Math.pow(1+B,-j)):J/j,oe=J>0?(J-w*A*12)/J:0,Ce=K*12*oe*.7,ce=Math.max(0,Ce-N)*.26375,re=K-ce/12,we=F.bav.totalNetPension,Ae=(q.monthlyNet+re)*12*v;return{scenarioA:{name:"bAV weiterfhren",bavEndCapital:F.bav.endCapitalNominal,bavMonthlyPensionNet:F.bav.monthlyPensionNet,etfEndCapital:0,etfMonthlyNet:0,totalMonthlyNet:F.bav.monthlyPensionNet,totalRetirementNet:we},scenarioB:{name:"Beitragsfreistellung + ETF",bavEndCapital:T,bavMonthlyPensionNet:q.monthlyNet,etfEndCapital:J,etfMonthlyNet:re,totalMonthlyNet:q.monthlyNet+re,totalRetirementNet:Ae,agZuschussVerloren:f*A*12},comparison:{monthlyDifference:q.monthlyNet+re-F.bav.monthlyPensionNet,totalDifference:Ae-we,percentDifference:we>0?(Ae/we-1)*100:0,recommendation:Ae>we?"Beitragsfreistellung":"bAV weiterfhren"},warnings:[` AG-Zuschuss entfllt vollstndig: ${(f*A*12).toFixed(0)}`," Garantieleistungen werden stark reduziert"," GRV-Verlust aus bisherigen Einzahlungen bleibt"]}}function wf(e,t,s){return s.map(n=>{const a={...e,[t]:n},i=oa(a);return{[t]:n,bavTotal:i.bav.totalNetPension,etfTotal:i.etf.totalNetWithdrawal,difference:i.comparison.bavAdvantage,recommendation:i.comparison.recommendation}})}const Rf=Dn("bavComparison",()=>{const e=Z(31),t=Z(67),s=Z(85),n=Z(6e4),a=Z(!1),i=Z(1500),r=Z("2023-09-01"),o=Z("2061-09-01"),d=Z(292),f=Z(48.67),g=Z(132276),_=Z(339.02),h=Z(20.5),m=Z(5),S=Z(0),u=Z(!0),N=Z(0),A=Z(7),v=Z(.22),R=Z(2),M=Z(1e3),w=Z(null),F=Z(null),x=Z(null),C=Z(!1),c=Z(null),T=le(()=>{const re=new Date(r.value);return Math.max(0,(new Date-re)/(365.25*24*60*60*1e3))}),y=le(()=>t.value-e.value),q=le(()=>{const re=d.value-f.value;return ia(re,n.value,a.value)}),ve=le(()=>q.value.monthlyNetCost),me=le(()=>q.value.gesamtersparnis),J=le(()=>{const re=d.value-f.value;return Co(re,y.value)}),j=le(()=>To(g.value,h.value));function B(){C.value=!0,c.value=null;try{const re={currentAge:e.value,retirementAge:t.value,annualGrossIncome:n.value,hasKinder:a.value,expectedLifespan:s.value,otherPensionIncome:i.value*12,bavMonthlyContribution:d.value,bavEmployerContribution:f.value,bavGuaranteedCapital:g.value,bavGuaranteedPension:_.value,bavRentenfaktor:h.value,bavExpectedReturn:m.value,bavProductCosts:S.value,bavStartKapital:N.value,bavEnableLifecycle:u.value,etfExpectedReturn:A.value,etfTER:v.value,inflationPA:R.value,sparerpauschbetrag:M.value},we=oa(re);w.value={scenarios:{expected:we},breakEven:{etfReturnBreakEven:null,notes:[`GRV-Verlust: ~${Math.round(we.inputs.grvLoss.lostMonthlyNet)}/Monat`,`Effektive bAV-Rendite (nach Produktkosten): ${we.inputs.bavEffectiveReturnNet.toFixed(1)}%`,`Break-Even Alter: ${Math.round(we.bav.breakEvenAge)} Jahre`]},inputs:we.inputs}}catch(re){c.value=re.message,console.error("Fehler bei bAV-Vergleich:",re)}finally{C.value=!1}}function K(){C.value=!0,c.value=null;try{const re={currentAge:e.value,retirementAge:t.value,annualGrossIncome:n.value,hasKinder:a.value,expectedLifespan:s.value,otherPensionIncome:i.value*12,bavMonthlyContribution:d.value,bavEmployerContribution:f.value,bavGuaranteedCapital:g.value,bavGuaranteedPension:_.value,bavRentenfaktor:h.value,bavExpectedReturn:m.value,bavProductCosts:S.value,bavStartKapital:N.value,bavEnableLifecycle:u.value,bavCurrentCapital:N.value,etfExpectedReturn:A.value,etfTER:v.value,inflationPA:R.value,sparerpauschbetrag:M.value};F.value=xf(re)}catch(re){c.value=re.message,console.error("Fehler bei Freistellungsanalyse:",re)}finally{C.value=!1}}function oe(re,we){C.value=!0,c.value=null;try{const Ae={currentAge:e.value,retirementAge:t.value,annualGrossIncome:n.value,hasKinder:a.value,expectedLifespan:s.value,otherPensionIncome:i.value*12,bavMonthlyContribution:d.value,bavEmployerContribution:f.value,bavGuaranteedCapital:g.value,bavGuaranteedPension:_.value,bavRentenfaktor:h.value,bavExpectedReturn:m.value,bavProductCosts:S.value,bavEnableLifecycle:u.value,bavStartKapital:N.value,etfExpectedReturn:A.value,etfTER:v.value,inflationPA:R.value,sparerpauschbetrag:M.value};x.value=wf(Ae,re,we)}catch(Ae){c.value=Ae.message,console.error("Fehler bei Sensitivittsanalyse:",Ae)}finally{C.value=!1}}function ke(){const re=T.value*12,we=Math.pow(1+m.value/100,1/12)-1;let Ae=0;for(let Je=0;Je<re;Je++)Ae+=d.value,Ae*=1+we;N.value=Math.round(Ae)}function Ce(){r.value="2023-09-01",o.value="2061-09-01",d.value=292,f.value=48.67,g.value=132276,_.value=339.02,h.value=20.5,m.value=5,u.value=!0,e.value=new Date().getFullYear()-1994,t.value=67,ke()}function ce(){w.value=null,F.value=null,x.value=null,c.value=null}return{currentAge:e,retirementAge:t,expectedLifespan:s,annualGrossIncome:n,hasKinder:a,otherPensionIncome:i,bavContractStart:r,bavRetirementStart:o,bavMonthlyContribution:d,bavEmployerContribution:f,bavGuaranteedCapital:g,bavGuaranteedPension:_,bavRentenfaktor:h,bavExpectedReturn:m,bavProductCosts:S,bavEnableLifecycle:u,bavCurrentCapital:N,etfExpectedReturn:A,etfCosts:v,inflationPA:R,sparerpauschbetrag:M,comparisonResults:w,freistellungResults:F,sensitivityResults:x,isCalculating:C,errorMessage:c,yearsContributed:T,yearsUntilRetirement:y,taxSavings:q,monthlyNetSavingsForEtf:ve,annualTaxSavings:me,grvLoss:J,rentenfaktorBreakEven:j,runComparison:B,runFreistellungAnalysis:K,runSensitivityAnalysis:oe,calculateFromContract:ke,loadUserDefaults:Ce,reset:ce}}),Mf={class:"modal bav-comparison-modal"},kf={class:"modal-header"},Cf={class:"tab-nav"},Tf=["disabled"],Pf=["disabled"],$f={class:"modal-body"},Af={key:0,class:"tab-content"},If={class:"input-grid"},Ff={class:"input-group"},Nf={class:"input-row"},Vf={class:"input-row"},zf={class:"input-row"},Df={class:"input-row"},Of={class:"input-row checkbox"},Bf={class:"input-row"},Lf={class:"input-group"},Wf={class:"input-row"},Gf={class:"input-row"},Kf={class:"input-row"},Uf={class:"input-row"},jf={class:"input-row"},Hf={class:"input-row"},Jf={class:"input-group"},Zf={class:"input-row"},Yf={class:"input-row"},qf={class:"input-row"},Xf={class:"input-row"},Qf={class:"input-row"},eh={class:"quick-info"},th={class:"info-card"},nh={class:"value"},sh={class:"info-card"},lh={class:"value"},ah={class:"info-card"},ih={class:"value highlight"},oh={class:"info-card warning"},rh={class:"value highlight-red"},uh={key:0,class:"warning-box"},ch={class:"actions"},dh=["disabled"],fh={key:1,class:"tab-content"},hh={style:{"text-align":"right","margin-bottom":"0.5rem"}},ph=["disabled"],mh={class:"results-grid"},vh={class:"result-card bav"},gh={class:"result-table"},bh={class:"value"},yh={class:"value"},_h={class:"value"},Sh={class:"value"},Eh={class:"value highlight-green"},xh={class:"value"},wh={class:"value highlight"},Rh={class:"value"},Mh={class:"value highlight-red"},kh={class:"value"},Ch={class:"total"},Th={class:"value"},Ph={class:"result-card etf"},$h={class:"result-table"},Ah={class:"value"},Ih={class:"value"},Fh={class:"value"},Nh={class:"value"},Vh={class:"value highlight-red"},zh={class:"value"},Dh={key:0,class:"warning-badge"},Oh={class:"conservative-row"},Bh={class:"value highlight-blue"},Lh={class:"conservative-row"},Wh={class:"value highlight-blue"},Gh={class:"total"},Kh={class:"value"},Uh={class:"comparison-details"},jh={class:"metric"},Hh={class:"metric"},Jh={class:"metric"},Zh={class:"value"},Yh={key:0,class:"assumptions-box"},qh={key:1,class:"assumptions-box"},Xh={class:"scenarios-detail"},Qh={class:"scenarios-table"},ep={key:2,class:"break-even"},tp={key:2,class:"tab-content"},np={class:"results-grid"},sp={class:"result-card"},lp={class:"result-table"},ap={class:"value"},ip={class:"value"},op={class:"value"},rp={class:"value"},up={class:"total"},cp={class:"value highlight"},dp={class:"total"},fp={class:"value"},hp={class:"result-card"},pp={class:"result-table"},mp={class:"value"},vp={class:"value"},gp={class:"value"},bp={class:"value"},yp={class:"total"},_p={class:"value highlight"},Sp={class:"total"},Ep={class:"value"},xp={class:"comparison-details"},wp={class:"metric"},Rp={class:"metric"},Mp={class:"metric"},kp={class:"value"},Cp={class:"warning-box"},Tp={key:0,class:"insight-box"},Pp={class:"highlight-red",style:{"font-size":"1.3rem",margin:"0.5rem 0"}},$p={key:3,class:"tab-content"},Ap={key:0,class:"sensitivity-table"},Ip={class:"insight-box"},Fp={__name:"BavComparisonModal",emits:["close"],setup(e,{emit:t}){const s=t,n=Rf(),{formatCurrency:a,formatPercent:i}=bs(),r=Z("input");Z(!1);const o=S=>a(S),d=S=>i(S);function f(){n.runComparison(),n.runFreistellungAnalysis(),r.value="results"}function g(){n.runSensitivityAnalysis("etfExpectedReturn",[4,5,6,7,8,9,10,11,12])}function _(){const S={meta:{generatedAt:new Date().toISOString(),version:"3.1"},inputs:{currentAge:n.currentAge,retirementAge:n.retirementAge,expectedLifespan:n.expectedLifespan,annualGrossIncome:n.annualGrossIncome,hasKinder:n.hasKinder,otherPensionIncome:n.otherPensionIncome,bavContractStart:n.bavContractStart,bavRetirementStart:n.bavRetirementStart,bavMonthlyContribution:n.bavMonthlyContribution,bavEmployerContribution:n.bavEmployerContribution,bavGuaranteedCapital:n.bavGuaranteedCapital,bavGuaranteedPension:n.bavGuaranteedPension,bavRentenfaktor:n.bavRentenfaktor,bavExpectedReturn:n.bavExpectedReturn,bavProductCosts:n.bavProductCosts,bavEnableLifecycle:n.bavEnableLifecycle,bavCurrentCapital:n.bavCurrentCapital,etfExpectedReturn:n.etfExpectedReturn,etfCosts:n.etfCosts,inflationPA:n.inflationPA,sparerpauschbetrag:n.sparerpauschbetrag},comparisonResults:n.comparisonResults,freistellungResults:n.freistellungResults,sensitivityResults:n.sensitivityResults},u=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),N=URL.createObjectURL(u),A=document.createElement("a");A.href=N,A.download="bav-etf-vergleich.json",A.click(),URL.revokeObjectURL(N)}zn(()=>{n.loadUserDefaults()});const h=le(()=>{var S,u;return(u=(S=n.comparisonResults)==null?void 0:S.scenarios)==null?void 0:u.expected}),m=le(()=>n.freistellungResults);return(S,u)=>{var N,A,v,R,M,w,F;return $(),I("div",{class:"modal-backdrop",onClick:u[23]||(u[23]=on(x=>s("close"),["self"]))},[l("div",Mf,[l("header",kf,[u[24]||(u[24]=l("h2",null," bAV vs. ETF Vergleichsrechner",-1)),l("button",{class:"btn-close",onClick:u[0]||(u[0]=x=>s("close")),"aria-label":"Schlieen"},"")]),l("nav",Cf,[l("button",{class:pe(["tab-btn",{active:r.value==="input"}]),onClick:u[1]||(u[1]=x=>r.value="input")},"  Eingaben ",2),l("button",{class:pe(["tab-btn",{active:r.value==="results"}]),onClick:u[2]||(u[2]=x=>r.value="results"),disabled:!p(n).comparisonResults},"  Ergebnisse ",10,Tf),l("button",{class:pe(["tab-btn",{active:r.value==="freistellung"}]),onClick:u[3]||(u[3]=x=>r.value="freistellung"),disabled:!p(n).freistellungResults},"  Beitragsfreistellung ",10,Pf),l("button",{class:pe(["tab-btn",{active:r.value==="sensitivity"}]),onClick:u[4]||(u[4]=x=>{r.value="sensitivity",g()})},"  Sensitivitt ",2)]),l("div",$f,[r.value==="input"?($(),I("div",Af,[l("div",If,[l("fieldset",Ff,[u[32]||(u[32]=l("legend",null," Persnliche Daten",-1)),l("label",Nf,[u[25]||(u[25]=l("span",null,"Aktuelles Alter",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[5]||(u[5]=x=>p(n).currentAge=x),min:"18",max:"67"},null,512),[[Pe,p(n).currentAge,void 0,{number:!0}]])]),l("label",Vf,[u[26]||(u[26]=l("span",null,"Renteneintrittsalter",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[6]||(u[6]=x=>p(n).retirementAge=x),min:"60",max:"70"},null,512),[[Pe,p(n).retirementAge,void 0,{number:!0}]])]),l("label",zf,[u[27]||(u[27]=l("span",null,"Erwartete Lebenserwartung",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[7]||(u[7]=x=>p(n).expectedLifespan=x),min:"70",max:"100"},null,512),[[Pe,p(n).expectedLifespan,void 0,{number:!0}]])]),l("label",Df,[u[28]||(u[28]=l("span",null,"Bruttojahresgehalt ()",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[8]||(u[8]=x=>p(n).annualGrossIncome=x),step:"1000"},null,512),[[Pe,p(n).annualGrossIncome,void 0,{number:!0}]])]),l("label",Of,[ae(l("input",{type:"checkbox","onUpdate:modelValue":u[9]||(u[9]=x=>p(n).hasKinder=x)},null,512),[[sc,p(n).hasKinder]]),u[29]||(u[29]=l("span",null,"Kinder vorhanden",-1))]),l("label",Bf,[u[30]||(u[30]=l("span",null,"Sonstige Rente (mtl. )",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[10]||(u[10]=x=>p(n).otherPensionIncome=x),step:"100"},null,512),[[Pe,p(n).otherPensionIncome,void 0,{number:!0}]]),u[31]||(u[31]=l("small",null,"Gesetzliche Rente, andere bAV, etc.",-1))])]),l("fieldset",Lf,[u[39]||(u[39]=l("legend",null," bAV Vertragsdaten (MetallRente)",-1)),l("label",Wf,[u[33]||(u[33]=l("span",null,"Monatsbeitrag gesamt ()",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[11]||(u[11]=x=>p(n).bavMonthlyContribution=x),step:"10"},null,512),[[Pe,p(n).bavMonthlyContribution,void 0,{number:!0}]])]),l("label",Gf,[u[34]||(u[34]=l("span",null,"davon Arbeitgeber-Zuschuss ()",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[12]||(u[12]=x=>p(n).bavEmployerContribution=x),step:"5"},null,512),[[Pe,p(n).bavEmployerContribution,void 0,{number:!0}]])]),l("label",Kf,[u[35]||(u[35]=l("span",null,"Garantiertes Kapital ()",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[13]||(u[13]=x=>p(n).bavGuaranteedCapital=x),step:"1000"},null,512),[[Pe,p(n).bavGuaranteedCapital,void 0,{number:!0}]])]),l("label",Uf,[u[36]||(u[36]=l("span",null,"Garantierte Rente (/Monat)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[14]||(u[14]=x=>p(n).bavGuaranteedPension=x),step:"10"},null,512),[[Pe,p(n).bavGuaranteedPension,void 0,{number:!0}]])]),l("label",jf,[u[37]||(u[37]=l("span",null,"Rentenfaktor ( pro 10.000)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[15]||(u[15]=x=>p(n).bavRentenfaktor=x),step:"0.5"},null,512),[[Pe,p(n).bavRentenfaktor,void 0,{number:!0}]])]),l("label",Hf,[u[38]||(u[38]=l("span",null,"Bereits angespartes Kapital ()",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[16]||(u[16]=x=>p(n).bavCurrentCapital=x),step:"1000"},null,512),[[Pe,p(n).bavCurrentCapital,void 0,{number:!0}]]),l("button",{class:"btn-small",onClick:u[17]||(u[17]=(...x)=>p(n).calculateFromContract&&p(n).calculateFromContract(...x))}," Schtzen ")])]),l("fieldset",Jf,[u[47]||(u[47]=l("legend",null," Rendite & Kosten",-1)),l("label",Zf,[u[40]||(u[40]=l("span",null,"bAV Erwartete Rendite (% p.a.)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[18]||(u[18]=x=>p(n).bavExpectedReturn=x),step:"0.5",min:"0",max:"15"},null,512),[[Pe,p(n).bavExpectedReturn,void 0,{number:!0}]]),u[41]||(u[41]=l("small",null,"Dynamik-Strategie historisch: 5,0%",-1))]),l("label",Yf,[u[42]||(u[42]=l("span",null,"bAV Produktkosten (% p.a.)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[19]||(u[19]=x=>p(n).bavProductCosts=x),step:"0.1",min:"0",max:"3"},null,512),[[Pe,p(n).bavProductCosts,void 0,{number:!0}]])]),l("label",qf,[u[43]||(u[43]=l("span",null,"ETF Erwartete Rendite (% p.a.)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[20]||(u[20]=x=>p(n).etfExpectedReturn=x),step:"0.5",min:"0",max:"15"},null,512),[[Pe,p(n).etfExpectedReturn,void 0,{number:!0}]]),u[44]||(u[44]=l("small",null,"FTSE All World historisch: 7-8%",-1))]),l("label",Xf,[u[45]||(u[45]=l("span",null,"ETF Kosten/TER (% p.a.)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[21]||(u[21]=x=>p(n).etfCosts=x),step:"0.01",min:"0",max:"1"},null,512),[[Pe,p(n).etfCosts,void 0,{number:!0}]])]),l("label",Qf,[u[46]||(u[46]=l("span",null,"Inflation (% p.a.)",-1)),ae(l("input",{type:"number","onUpdate:modelValue":u[22]||(u[22]=x=>p(n).inflationPA=x),step:"0.5",min:"0",max:"10"},null,512),[[Pe,p(n).inflationPA,void 0,{number:!0}]])])])]),l("div",eh,[l("div",th,[u[48]||(u[48]=l("span",{class:"label"},"Jahre bis Rente",-1)),l("span",nh,k(p(n).yearsUntilRetirement),1)]),l("div",sh,[u[49]||(u[49]=l("span",{class:"label"},"Netto-Eigenbeitrag/Monat",-1)),l("span",lh,k(o(p(n).monthlyNetSavingsForEtf)),1)]),l("div",ah,[u[50]||(u[50]=l("span",{class:"label"},"Jhrliche Steuerersparnis",-1)),l("span",ih,k(o(p(n).annualTaxSavings)),1)]),l("div",oh,[u[51]||(u[51]=l("span",{class:"label"}," GRV-Verlust/Monat",-1)),l("span",rh,k(o(((N=p(n).grvLoss)==null?void 0:N.lostMonthlyPensionNet)||0)),1)])]),p(n).rentenfaktorBreakEven?($(),I("div",uh,[u[54]||(u[54]=l("strong",null," Break-Even bei Verrentung:",-1)),l("p",null,k(p(n).rentenfaktorBreakEven.note),1),l("p",null,[u[52]||(u[52]=Ne("Bei Rentenbeginn mit 67: Du musst ",-1)),l("strong",null,k(Math.round(67+p(n).rentenfaktorBreakEven.yearsToBreakEven))+" Jahre",1),u[53]||(u[53]=Ne(" alt werden, um dein eingezahltes Kapital zurckzubekommen.",-1))])])):G("",!0),l("div",ch,[l("button",{class:"btn btn-primary",onClick:f,disabled:p(n).isCalculating},k(p(n).isCalculating?" Berechne...":" Vergleich berechnen"),9,dh)])])):G("",!0),r.value==="results"&&h.value?($(),I("div",fh,[u[99]||(u[99]=l("h3",null," Szenario-Vergleich (Erwartetes Szenario)",-1)),l("div",hh,[l("button",{class:"btn-small",onClick:_,disabled:!p(n).comparisonResults},"  Daten exportieren ",8,ph)]),l("div",mh,[l("div",vh,[u[69]||(u[69]=l("h4",null," bAV weiterfhren",-1)),l("table",gh,[l("tbody",null,[l("tr",null,[u[55]||(u[55]=l("td",null,"Endkapital (nominal)",-1)),l("td",bh,k(o(h.value.bav.endCapitalNominal)),1)]),l("tr",null,[u[56]||(u[56]=l("td",null,"Endkapital (real)",-1)),l("td",yh,k(o(h.value.bav.endCapitalReal)),1)]),l("tr",null,[u[57]||(u[57]=l("td",null,"Garantiertes Kapital",-1)),l("td",_h,k(o(h.value.bav.guaranteedCapital)),1)]),u[66]||(u[66]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[58]||(u[58]=l("td",null,"Eigenbeitrge gesamt",-1)),l("td",Sh,k(o(h.value.bav.employeeContributions)),1)]),l("tr",null,[u[59]||(u[59]=l("td",null,"AG-Zuschsse gesamt",-1)),l("td",Eh,k(o(h.value.bav.employerContributions)),1)]),u[67]||(u[67]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[60]||(u[60]=l("td",null,"Monatliche Rente (brutto)",-1)),l("td",xh,k(o(h.value.bav.monthlyPensionGross)),1)]),l("tr",null,[u[61]||(u[61]=l("td",null,"Monatliche Rente (netto)",-1)),l("td",wh,k(o(h.value.bav.monthlyPensionNet)),1)]),l("tr",null,[u[62]||(u[62]=l("td",null,"Effektiver Steuersatz Rente",-1)),l("td",Rh,k(d(h.value.bav.effectivePensionTaxRate*100)),1)]),u[68]||(u[68]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[63]||(u[63]=l("td",null," GRV-Verlust (mtl. netto)",-1)),l("td",Mh,"-"+k(o(h.value.bav.grvLossMonthly||0)),1)]),l("tr",null,[u[64]||(u[64]=l("td",null,"Break-Even Alter",-1)),l("td",kh,k(Math.round(h.value.bav.breakEvenAge||107))+" Jahre",1)]),l("tr",Ch,[u[65]||(u[65]=l("td",null,"Gesamt Netto-Rente",-1)),l("td",Th,k(o(h.value.bav.totalNetPension)),1)])])])]),l("div",Ph,[u[84]||(u[84]=l("h4",null," ETF statt bAV",-1)),l("table",$h,[l("tbody",null,[l("tr",null,[u[70]||(u[70]=l("td",null,"Endkapital (nominal)",-1)),l("td",Ah,k(o(h.value.etf.endCapitalNominal)),1)]),l("tr",null,[u[71]||(u[71]=l("td",null,"Endkapital (real)",-1)),l("td",Ih,k(o(h.value.etf.endCapitalReal)),1)]),l("tr",null,[u[72]||(u[72]=l("td",null,"Gewinnanteil",-1)),l("td",Fh,k(d(h.value.etf.capitalGainRatio*100)),1)]),u[81]||(u[81]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[73]||(u[73]=l("td",null,"Eigenbeitrge gesamt",-1)),l("td",Nh,k(o(h.value.etf.totalContributions)),1)]),l("tr",null,[u[74]||(u[74]=l("td",null,"AG-Zuschsse",-1)),l("td",Vh,k(o(0))+" (entfllt!)",1)]),u[82]||(u[82]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[75]||(u[75]=l("td",null,"Monatl. Entnahme (brutto)",-1)),l("td",zh,k(o(h.value.etf.monthlyWithdrawalGross)),1)]),l("tr",null,[u[76]||(u[76]=l("td",null,"Monatl. Entnahme (netto)",-1)),l("td",{class:pe(["value",{highlight:!0,"highlight-orange":h.value.etf.withdrawalRatePA>5}])},k(o(h.value.etf.monthlyWithdrawalNet)),3)]),l("tr",{class:pe({"highlight-row-warning":h.value.etf.withdrawalRatePA>5})},[u[77]||(u[77]=l("td",null,"Entnahmerate p.a.",-1)),l("td",{class:pe(["value",{"highlight-orange":h.value.etf.withdrawalRatePA>5}])},[Ne(k(d(h.value.etf.withdrawalRatePA))+" ",1),h.value.etf.withdrawalRatePA>5?($(),I("span",Dh," aggressiv")):G("",!0)],2)],2),u[83]||(u[83]=l("tr",{class:"separator"},null,-1)),l("tr",Oh,[u[78]||(u[78]=l("td",null," 4%-Regel Entnahme (konservativ)",-1)),l("td",Bh,k(o(h.value.etf.withdrawal4PercentNet))+"/Monat",1)]),l("tr",Lh,[u[79]||(u[79]=l("td",null," 4%-Regel Gesamt",-1)),l("td",Wh,k(o(h.value.etf.total4PercentWithdrawal)),1)]),l("tr",Gh,[u[80]||(u[80]=l("td",null,"Gesamt Netto-Entnahme",-1)),l("td",Kh,k(o(h.value.etf.totalNetWithdrawal)),1)])])])])]),l("div",{class:pe(["comparison-summary",h.value.comparison.recommendation.toLowerCase()])},[l("h4",null," Empfehlung: "+k(h.value.comparison.recommendation),1),l("div",Uh,[l("div",jh,[u[85]||(u[85]=l("span",{class:"label"},"Monatlicher Unterschied",-1)),l("span",{class:pe(["value",{positive:h.value.comparison.monthlyNetDifference>0}])},k(h.value.comparison.monthlyNetDifference>0?"+":"")+k(o(h.value.comparison.monthlyNetDifference)),3)]),l("div",Hh,[u[86]||(u[86]=l("span",{class:"label"},"Gesamtunterschied Rentenphase",-1)),l("span",{class:pe(["value",{positive:h.value.comparison.bavAdvantage>0}])},k(h.value.comparison.bavAdvantage>0?"+":"")+k(o(h.value.comparison.bavAdvantage)),3)]),l("div",Jh,[u[87]||(u[87]=l("span",{class:"label"},"Prozentual",-1)),l("span",Zh,k(h.value.comparison.bavAdvantagePercent>0?"+":"")+k(h.value.comparison.bavAdvantagePercent.toFixed(1))+"% ",1)])])],2),h.value.etf.withdrawalRatePA>5?($(),I("div",Yh,[u[91]||(u[91]=l("strong",null," Hinweis zu den Modellannahmen:",-1)),l("ul",null,[l("li",null,[u[88]||(u[88]=l("strong",null,"ETF-Entnahmerate:",-1)),Ne(" "+k(d(h.value.etf.withdrawalRatePA))+" p.a. ist aggressiv (>5%). Die konservative 4%-Regel empfiehlt "+k(o(h.value.etf.withdrawal4PercentNet))+"/Monat.",1)]),l("li",null,[u[89]||(u[89]=l("strong",null,"bAV-Rendite:",-1)),Ne(" "+k(d(h.value.bav.returnPA))+" p.a. nach Kosten ist eine optimistische Annahme basierend auf Vertragsdaten, keine Garantie.",1)]),u[90]||(u[90]=l("li",null,[l("strong",null,"Deterministisch:"),Ne(" Die Berechnung ignoriert Volatilitt. In der Realitt knnen ETF-Ergebnisse stark schwanken.")],-1))])])):($(),I("div",qh,[u[95]||(u[95]=l("strong",null," Modellannahmen:",-1)),l("ul",null,[l("li",null,[u[92]||(u[92]=l("strong",null,"bAV-Rendite:",-1)),Ne(" "+k(d(h.value.bav.returnPA))+" p.a. nach Kosten ist eine Schtzung basierend auf Vertragsdaten (keine Garantie).",1)]),l("li",null,[u[93]||(u[93]=l("strong",null,"ETF-Entnahme:",-1)),Ne(" Annuittenbasierte Entnahme ber "+k(p(n).expectedLifespan-p(n).retirementAge)+" Jahre bei 3% Rendite whrend Entnahmephase.",1)]),u[94]||(u[94]=l("li",null,[l("strong",null,"Deterministisch:"),Ne(" Beide Varianten laufen mit fixer Rendite - reale Ergebnisse knnen abweichen.")],-1))])])),l("details",Xh,[u[97]||(u[97]=l("summary",null," Alle Szenarien anzeigen",-1)),l("table",Qh,[u[96]||(u[96]=l("thead",null,[l("tr",null,[l("th",null,"Szenario"),l("th",null,"bAV Rendite"),l("th",null,"ETF Rendite"),l("th",null,"bAV Netto-Rente"),l("th",null,"ETF Netto-Entnahme"),l("th",null,"Empfehlung")])],-1)),l("tbody",null,[($(!0),I($e,null,ht(p(n).comparisonResults.scenarios,(x,C)=>($(),I("tr",{key:C},[l("td",null,k(C==="pessimistic"?"Pessimistisch":C==="expected"?"Erwartet":"Optimistisch"),1),l("td",null,k(x.bav.returnPA)+"%",1),l("td",null,k(x.etf.returnPA)+"%",1),l("td",null,k(o(x.bav.totalNetPension)),1),l("td",null,k(o(x.etf.totalNetWithdrawal)),1),l("td",{class:pe(x.comparison.recommendation.toLowerCase())},k(x.comparison.recommendation),3)]))),128))])])]),p(n).comparisonResults.breakEven?($(),I("div",ep,[u[98]||(u[98]=l("h4",null," Break-Even Analyse",-1)),l("ul",null,[($(!0),I($e,null,ht(p(n).comparisonResults.breakEven.notes,x=>($(),I("li",{key:x},k(x),1))),128))])])):G("",!0)])):G("",!0),r.value==="freistellung"&&m.value?($(),I("div",tp,[u[121]||(u[121]=l("h3",null," Szenario: Beitragsfreistellung + ETF",-1)),u[122]||(u[122]=l("p",{class:"description"}," Was passiert, wenn du die bAV beitragsfrei stellst und das freigewordene Netto-Gehalt in einen ETF investierst? ",-1)),l("div",np,[l("div",sp,[l("h4",null," "+k(m.value.scenarioA.name),1),l("table",lp,[l("tbody",null,[l("tr",null,[u[100]||(u[100]=l("td",null,"bAV Endkapital",-1)),l("td",ap,k(o(m.value.scenarioA.bavEndCapital)),1)]),l("tr",null,[u[101]||(u[101]=l("td",null,"bAV Monatl. Netto-Rente",-1)),l("td",ip,k(o(m.value.scenarioA.bavMonthlyPensionNet)),1)]),u[106]||(u[106]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[102]||(u[102]=l("td",null,"ETF Endkapital",-1)),l("td",op,k(o(m.value.scenarioA.etfEndCapital)),1)]),l("tr",null,[u[103]||(u[103]=l("td",null,"ETF Monatl. Netto",-1)),l("td",rp,k(o(m.value.scenarioA.etfMonthlyNet)),1)]),l("tr",up,[u[104]||(u[104]=l("td",null,"Gesamt Monatl. Netto",-1)),l("td",cp,k(o(m.value.scenarioA.totalMonthlyNet)),1)]),l("tr",dp,[u[105]||(u[105]=l("td",null,"Gesamt Rentenphase",-1)),l("td",fp,k(o(m.value.scenarioA.totalRetirementNet)),1)])])])]),l("div",hp,[l("h4",null," "+k(m.value.scenarioB.name),1),l("table",pp,[l("tbody",null,[l("tr",null,[u[107]||(u[107]=l("td",null,"bAV Endkapital (beitragsfrei)",-1)),l("td",mp,k(o(m.value.scenarioB.bavEndCapital)),1)]),l("tr",null,[u[108]||(u[108]=l("td",null,"bAV Monatl. Netto-Rente",-1)),l("td",vp,k(o(m.value.scenarioB.bavMonthlyPensionNet)),1)]),u[113]||(u[113]=l("tr",{class:"separator"},null,-1)),l("tr",null,[u[109]||(u[109]=l("td",null,"ETF Endkapital",-1)),l("td",gp,k(o(m.value.scenarioB.etfEndCapital)),1)]),l("tr",null,[u[110]||(u[110]=l("td",null,"ETF Monatl. Netto",-1)),l("td",bp,k(o(m.value.scenarioB.etfMonthlyNet)),1)]),l("tr",yp,[u[111]||(u[111]=l("td",null,"Gesamt Monatl. Netto",-1)),l("td",_p,k(o(m.value.scenarioB.totalMonthlyNet)),1)]),l("tr",Sp,[u[112]||(u[112]=l("td",null,"Gesamt Rentenphase",-1)),l("td",Ep,k(o(m.value.scenarioB.totalRetirementNet)),1)])])])])]),l("div",{class:pe(["comparison-summary",m.value.comparison.recommendation==="Beitragsfreistellung"?"etf":"bav"])},[l("h4",null," Empfehlung: "+k(m.value.comparison.recommendation),1),l("div",xp,[l("div",wp,[u[114]||(u[114]=l("span",{class:"label"},"Monatlicher Unterschied",-1)),l("span",{class:pe(["value",{positive:m.value.comparison.monthlyDifference>0}])},k(m.value.comparison.monthlyDifference>0?"+":"")+k(o(m.value.comparison.monthlyDifference)),3)]),l("div",Rp,[u[115]||(u[115]=l("span",{class:"label"},"Gesamtunterschied",-1)),l("span",{class:pe(["value",{positive:m.value.comparison.totalDifference>0}])},k(m.value.comparison.totalDifference>0?"+":"")+k(o(m.value.comparison.totalDifference)),3)]),l("div",Mp,[u[116]||(u[116]=l("span",{class:"label"},"Prozentual",-1)),l("span",kp,k(m.value.comparison.percentDifference>0?"+":"")+k(m.value.comparison.percentDifference.toFixed(1))+"% ",1)])])],2),l("div",Cp,[u[118]||(u[118]=l("strong",null," Wichtige Hinweise zur Beitragsfreistellung:",-1)),l("ul",null,[($(!0),I($e,null,ht(m.value.warnings,x=>($(),I("li",{key:x},k(x),1))),128)),u[117]||(u[117]=l("li",null,"Prfe die genauen Bedingungen in deinem Vertrag!",-1))])]),(A=m.value.scenarioB)!=null&&A.agZuschussVerloren?($(),I("div",Tp,[u[119]||(u[119]=l("strong",null," Verlorener AG-Zuschuss bei Freistellung:",-1)),l("p",Pp,k(o(m.value.scenarioB.agZuschussVerloren)),1),u[120]||(u[120]=l("p",null,'Dieser Betrag ist "geschenktes Geld" vom Arbeitgeber, das bei Freistellung unwiederbringlich verloren geht.',-1))])):G("",!0)])):G("",!0),r.value==="sensitivity"?($(),I("div",$p,[u[127]||(u[127]=l("h3",null," Sensitivittsanalyse: ETF-Rendite",-1)),u[128]||(u[128]=l("p",{class:"description"}," Wie ndert sich die Empfehlung bei verschiedenen ETF-Renditen? ",-1)),p(n).sensitivityResults?($(),I("table",Ap,[u[123]||(u[123]=l("thead",null,[l("tr",null,[l("th",null,"ETF-Rendite"),l("th",null,"bAV Gesamt"),l("th",null,"ETF Gesamt"),l("th",null,"Differenz"),l("th",null,"Empfehlung")])],-1)),l("tbody",null,[($(!0),I($e,null,ht(p(n).sensitivityResults,x=>($(),I("tr",{key:x.etfExpectedReturn,class:pe({current:x.etfExpectedReturn===p(n).etfExpectedReturn})},[l("td",null,k(x.etfExpectedReturn)+"%",1),l("td",null,k(o(x.bavTotal)),1),l("td",null,k(o(x.etfTotal)),1),l("td",{class:pe({positive:x.difference>0,negative:x.difference<0})},k(x.difference>0?"+":"")+k(o(x.difference)),3),l("td",{class:pe(x.recommendation.toLowerCase())},k(x.recommendation),3)],2))),128))])])):G("",!0),l("div",Ip,[u[124]||(u[124]=l("strong",null," Erkenntnis:",-1)),l("p",null," Bei deinen aktuellen Parametern ist die bAV vorteilhaft, solange die ETF-Rendite unter "+k(((M=(R=(v=p(n).comparisonResults)==null?void 0:v.breakEven)==null?void 0:R.etfReturnBreakEven)==null?void 0:M.toFixed(1))||"?")+"% p.a. liegt. ",1),u[125]||(u[125]=l("p",null,[l("strong",null,"Vorteile bAV:")],-1)),l("ol",null,[l("li",null,"Arbeitgeberzuschuss ("+k(o(p(n).bavEmployerContribution))+'/Monat = "geschenktes Geld")',1),l("li",null,"Steuerersparnis Ansparphase ("+k(o(p(n).annualTaxSavings))+"/Jahr)",1),l("li",null,"Garantieleistungen (Minimum "+k(o(p(n).bavGuaranteedCapital))+")",1)]),u[126]||(u[126]=l("p",null,[l("strong",null,"Nachteile bAV (jetzt bercksichtigt):")],-1)),l("ul",null,[($(!0),I($e,null,ht((F=(w=p(n).comparisonResults)==null?void 0:w.breakEven)==null?void 0:F.notes,x=>($(),I("li",{key:x},k(x),1))),128))])]),u[129]||(u[129]=l("div",{class:"version-info"},[l("small",null,"v2.0 - Korrigiertes Modell mit GRV-Verlust, Lifecycle, KV-Freibetrag, Annuitten-Entnahme")],-1))])):G("",!0)]),u[130]||(u[130]=l("footer",{class:"modal-footer"},[l("p",{class:"disclaimer"},[Ne("  "),l("strong",null,"Hinweis:"),Ne(" Dies ist eine vereinfachte Modellrechnung. Die tatschlichen Ergebnisse knnen abweichen. Steuerliche und sozialversicherungsrechtliche Regelungen knnen sich ndern. Fr eine verbindliche Beratung wende dich an einen Steuerberater oder Finanzberater. ")])],-1))])])}}},Np=il(Fp,[["__scopeId","data-v-d3c632f0"]]),Vp={"aria-label":"Eingabeparameter"},zp={class:"scenario-header"},Dp={class:"scenario-tabs"},Op=["onClick"],Bp={class:"scenario-tab-label"},Lp=["onClick"],Wp=["onClick"],Gp={class:"scenario-actions"},Kp={class:"scenario-tools"},Up={class:"scenario-tools__menu"},jp=["aria-expanded"],Hp={key:0,class:"scenario-tools__dropdown",role:"menu"},Jp={key:0,class:"share-status"},Zp={class:"preset-section"},Yp={class:"preset-row"},qp={key:0,class:"preset-buttons"},Xp=["title","onClick"],Qp={class:"group"},em={class:"grid"},tm={class:"field"},nm=["value"],sm={class:"field"},lm=["value"],am={key:0,class:"field"},im=["value"],om={class:"field"},rm=["value"],um={class:"field"},cm=["value"],dm={class:"field"},fm=["value"],hm={class:"field"},pm=["value"],mm={class:"field"},vm=["value"],gm={class:"field field--checkbox"},bm=["checked"],ym={key:1,class:"field"},_m=["value"],Sm={key:2,class:"field"},Em=["value"],xm={key:3,class:"field"},wm=["value"],Rm={key:4,class:"field"},Mm=["value"],km={key:5,class:"field"},Cm=["value"],Tm={key:6,class:"field field--checkbox"},Pm=["checked"],$m={class:"group"},Am={class:"grid"},Im={class:"field"},Fm=["value"],Nm={class:"field"},Vm=["value"],zm={class:"field"},Dm=["value"],Om={class:"field"},Bm=["value"],Lm={key:0,class:"field"},Wm=["value"],Gm={key:1,class:"field"},Km=["value"],Um={class:"group"},jm={class:"grid grid--split"},Hm={class:"field"},Jm=["value"],Zm={class:"field"},Ym={class:"mode-switch"},qm=["checked"],Xm=["checked"],Qm={key:0,class:"field"},ev=["value"],tv={key:1,class:"field"},nv=["value"],sv={class:"field field--checkbox"},lv=["checked"],av={key:2,class:"field field--checkbox"},iv=["checked"],ov={key:3,class:"field"},rv=["value"],uv={key:4,class:"field"},cv=["value"],dv={key:5,class:"field"},fv=["value"],hv={key:6,class:"field"},pv=["value"],mv={key:7,class:"field field--checkbox"},vv=["checked"],gv={key:0,class:"group"},bv={class:"grid"},yv={class:"field field--checkbox"},_v=["checked"],Sv={key:0,class:"field"},Ev=["value"],xv={key:1,class:"field"},wv=["value"],Rv={key:2,class:"field"},Mv=["value"],kv={class:"group"},Cv={class:"grid"},Tv={class:"field"},Pv=["value"],$v={class:"field"},Av=["value"],Iv={key:0,class:"field field--checkbox"},Fv=["checked"],Nv={key:1,class:"field"},Vv=["value"],zv={key:2,class:"field"},Dv=["value"],Ov={key:3,class:"field"},Bv=["value"],Lv={class:"field"},Wv=["value"],Gv=["value","title"],Kv={key:0,class:"field-hint"},Uv={key:1,class:"group"},jv={class:"grid"},Hv={class:"field"},Jv=["value"],Zv={key:0,class:"field"},Yv=["value"],qv={key:1,class:"field"},Xv=["value"],Qv={key:2,class:"field"},eg=["value"],tg={class:"grid"},ng={class:"field"},sg=["value"],lg={key:0,class:"field"},ag=["value"],ig={key:1,class:"field"},og=["value"],rg={class:"grid"},ug={class:"field"},cg=["value"],dg={key:0,class:"field"},fg=["value"],hg={key:1,class:"field"},pg=["value"],mg={key:2,class:"field"},vg=["value"],gg={class:"grid"},bg={class:"field"},yg=["value"],_g={key:0,class:"field"},Sg=["value"],Eg={key:1,class:"field"},xg=["value"],wg={key:2,class:"field"},Rg=["value"],Mg={class:"grid"},kg={class:"field"},Cg=["value"],Tg={key:0,class:"field"},Pg=["value"],$g={key:1,class:"field"},Ag=["value"],Ig={key:2,class:"field"},Fg=["value"],Ng={class:"actions"},Vg={__name:"ScenarioForm",setup(e){const t=Rt(),s=Jt(),n=gs(),a=On(),i=le(()=>t.activeScenario),r=Z(null),o=Z(""),d=Z(!1);function f(C,c){t.updateScenario({[C]:c})}async function g(C){var T;const c=(T=C.target.files)==null?void 0:T[0];if(c){try{await t.importScenarioFromJson(c),s.runSimulation(),o.value="Import erfolgreich!",setTimeout(()=>o.value="",3e3)}catch(y){o.value=y.message,setTimeout(()=>o.value="",5e3)}C.target.value=""}}async function _(){const C=await t.copyShareUrl();C.success?o.value="Link kopiert!":(prompt("Share-URL:",C.url),o.value=""),setTimeout(()=>o.value="",3e3)}function h(){d.value=!d.value}function m(){d.value=!1}function S(){t.exportScenarioAsJson(),m()}function u(){r.value&&r.value.click(),m()}async function N(){await _(),m()}function A(){s.runSimulation()}function v(){n.isRunning?n.abortSimulation():(n.startSimulation(),a.setActiveTab("monte-carlo"),setTimeout(()=>{const C=document.querySelector(".panel--results");C&&typeof C.scrollIntoView=="function"&&C.scrollIntoView({behavior:"smooth",block:"start"})},0))}function R(C){var q;const c=((q=t.scenarios[C])==null?void 0:q.name)||`Szenario ${C}`,T=prompt("Szenario umbenennen",c);if(!T)return;const y=T.trim();y&&t.renameScenario(C,y)}function M(C){var T;if(!t.hasMultipleScenarios)return;const c=((T=t.scenarios[C])==null?void 0:T.name)||`Szenario ${C}`;confirm(`Szenario "${c}" wirklich lschen?`)&&t.removeScenario(C)}function w(){t.resetScenario(),s.runSimulation()}Kt(()=>{var C;return(C=i.value)==null?void 0:C.isMarried},C=>{C!==void 0&&f("sparerpauschbetrag",C?2e3:1e3)});const F=le(()=>Object.entries(Mo||{}).map(([C,c])=>({key:C,...c}))),x=le(()=>Object.entries(ko||{}).map(([C,c])=>({key:C,...c})));return(C,c)=>{var T;return $(),I("section",Vp,[l("div",zp,[l("div",Dp,[($(!0),I($e,null,ht(p(t).scenarioIds,y=>{var q;return $(),I("button",{key:y,class:pe(["scenario-tab",{"scenario-tab--active":p(t).activeScenarioId===y}]),onClick:ve=>p(t).setActiveScenario(y)},[l("span",Bp,k(((q=p(t).scenarios[y])==null?void 0:q.name)||`Szenario ${y}`),1),l("span",{class:"scenario-tab-icon",role:"button","aria-label":"Szenario umbenennen",onClick:on(ve=>R(y),["stop"])},"  ",8,Lp),p(t).hasMultipleScenarios?($(),I("span",{key:0,class:"scenario-tab-icon scenario-tab-icon--danger",role:"button","aria-label":"Szenario lschen",onClick:on(ve=>M(y),["stop"])},"  ",8,Wp)):G("",!0)],10,Op)}),128)),p(t).scenarioIds.length<3?($(),I("button",{key:0,class:"scenario-tab scenario-tab--add",onClick:c[0]||(c[0]=y=>p(t).addScenario()),title:"Szenario hinzufgen"}," + ")):G("",!0)]),l("div",Gp,[l("button",{type:"button",class:"btn btn--small btn--ghost expert-toggle",onClick:c[1]||(c[1]=y=>p(a).toggleExpertMode())},k(p(a).expertMode?"Einfacher Modus":"Expertenmodus"),1),l("div",Kp,[l("div",Up,[l("button",{type:"button",class:"btn btn--small btn--ghost scenario-tools__trigger",onClick:h,"aria-expanded":d.value,"aria-haspopup":"menu"},[...c[66]||(c[66]=[Ne("  ",-1),l("span",{class:"scenario-tools__label"},"Szenario-Aktionen",-1)])],8,jp),d.value?($(),I("div",Hp,[l("button",{type:"button",class:"scenario-tools__item",onClick:S,role:"menuitem"},"  Export als JSON "),l("button",{type:"button",class:"scenario-tools__item",onClick:u,role:"menuitem"},"  Import aus JSON "),l("button",{type:"button",class:"scenario-tools__item",onClick:N,role:"menuitem"},"  Share-Link kopieren ")])):G("",!0)]),l("input",{ref_key:"fileInput",ref:r,type:"file",accept:".json",style:{display:"none"},onChange:g},null,544),o.value?($(),I("span",Jp,k(o.value),1)):G("",!0)])])]),l("div",Zp,[l("div",Yp,[l("button",{type:"button",class:"btn btn--accent wizard-btn",onClick:c[2]||(c[2]=y=>p(a).showWizardModal=!0),title:"Gefhrte Einrichtung mit persnlichen Fragen"},"  Setup-Assistent "),c[67]||(c[67]=l("span",{class:"preset-label"},"oder Vorlagen:",-1)),F.value.length>0?($(),I("div",qp,[($(!0),I($e,null,ht(F.value,y=>($(),I("button",{key:y.key,type:"button",class:"preset-btn",title:y.description,onClick:q=>p(t).applyPreset(y.key)},k(y.name),9,Xp))),128))])):G("",!0)])]),l("form",{id:"sim-form",novalidate:"",onSubmit:on(A,["prevent"]),"aria-label":"Sparplan-Simulation Formular"},[l("div",Qp,[c[87]||(c[87]=l("div",{class:"group__header"},[l("h2",null,"Basisdaten & Zinsen"),l("p",null,"Startwerte, Zinsen und TG-Ziel.")],-1)),l("div",em,[l("label",tm,[c[68]||(c[68]=l("span",{class:"field-label","data-tooltip":"Aktueller Kontostand auf deinem Tagesgeldkonto zu Beginn der Simulation."},"Start Tagesgeld (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.startSavings,onInput:c[3]||(c[3]=y=>f("startSavings",+y.target.value)),min:"0",max:"100000000"},null,40,nm)]),l("label",sm,[c[69]||(c[69]=l("span",{class:"field-label","data-tooltip":"Aktueller Wert deines ETF-Depots zu Beginn der Simulation."},"Start ETF (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.startEtf,onInput:c[4]||(c[4]=y=>f("startEtf",+y.target.value)),min:"0",max:"100000000"},null,40,lm)]),p(a).expertMode?($(),I("label",am,[c[70]||(c[70]=l("span",{class:"field-label","data-tooltip":"Ursprnglicher Kaufpreis deines ETF-Altbestands."},"Einstand Altbestand (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.startEtfCostBasis,onInput:c[5]||(c[5]=y=>f("startEtfCostBasis",+y.target.value)),min:"0",max:"100000000"},null,40,im),c[71]||(c[71]=l("small",{class:"field-hint"},"0 = keine Altgewinne",-1))])):G("",!0),l("label",om,[c[72]||(c[72]=l("span",{class:"field-label","data-tooltip":"Jhrlicher Zinssatz fr dein Tagesgeldkonto."},"Tagesgeld Zins p.a. (%)",-1)),l("input",{type:"number",step:"0.1",value:i.value.savingsRate,onInput:c[6]||(c[6]=y=>f("savingsRate",+y.target.value)),min:"-10",max:"50"},null,40,rm)]),l("label",um,[c[73]||(c[73]=l("span",{class:"field-label","data-tooltip":"Erwartete jhrliche ETF-Rendite vor Kosten."},"ETF Rendite p.a. (%)",-1)),l("input",{type:"number",step:"0.1",value:i.value.etfRate,onInput:c[7]||(c[7]=y=>f("etfRate",+y.target.value)),min:"-50",max:"50"},null,40,cm)]),l("label",dm,[c[74]||(c[74]=l("span",{class:"field-label","data-tooltip":"Total Expense Ratio - jhrliche Fondskosten."},"ETF Kosten (TER) p.a. (%)",-1)),l("input",{type:"number",step:"0.01",value:i.value.etfTer,onInput:c[8]||(c[8]=y=>f("etfTer",+y.target.value)),min:"0",max:"5"},null,40,fm)]),l("label",hm,[c[75]||(c[75]=l("span",{class:"field-label","data-tooltip":"Ziel-Saldo fr Tagesgeld (Notgroschen)."},"Tagesgeld-Ziel (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.savingsTarget,onInput:c[9]||(c[9]=y=>f("savingsTarget",+y.target.value)),min:"0",max:"10000000"},null,40,pm)]),l("label",mm,[c[76]||(c[76]=l("span",{class:"field-label","data-tooltip":"Jhrliche Inflationsrate fr Kaufkraftberechnung."},"Inflation p.a. (%)",-1)),l("input",{type:"number",step:"0.1",value:i.value.inflationRate,onInput:c[10]||(c[10]=y=>f("inflationRate",+y.target.value)),min:"-10",max:"30"},null,40,vm)]),l("label",gm,[l("input",{type:"checkbox",checked:i.value.isMarried,onChange:c[11]||(c[11]=y=>f("isMarried",y.target.checked))},null,40,bm),c[77]||(c[77]=l("span",{class:"field-label","data-tooltip":"Verdoppelt den Sparerpauschbetrag auf 2.000."},"Verheiratet / gemeinsam veranlagt",-1))]),p(a).expertMode?($(),I("label",ym,[c[78]||(c[78]=l("span",{class:"field-label","data-tooltip":"Jhrlicher steuerfreier Freibetrag."},"Sparerpauschbetrag (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.sparerpauschbetrag,onInput:c[12]||(c[12]=y=>f("sparerpauschbetrag",+y.target.value)),min:"0",max:"10000"},null,40,_m)])):G("",!0),p(a).expertMode?($(),I("label",Sm,[c[80]||(c[80]=l("span",{class:"field-label","data-tooltip":"Zustzliche Steuer auf Kapitalertrge fr Kirchenmitglieder."},"Kirchensteuer",-1)),l("select",{value:i.value.kirchensteuer,onChange:c[13]||(c[13]=y=>f("kirchensteuer",y.target.value))},[...c[79]||(c[79]=[l("option",{value:"keine"},"Keine Kirchensteuer",-1),l("option",{value:"8"},"8% (Bayern, Baden-Wrttemberg)",-1),l("option",{value:"9"},"9% (andere Bundeslnder)",-1)])],40,Em)])):G("",!0),p(a).expertMode?($(),I("label",xm,[c[82]||(c[82]=l("span",{class:"field-label","data-tooltip":"Fondstyp bestimmt die Teilfreistellung."},"Fondstyp (Teilfreistellung)",-1)),l("select",{value:i.value.fondstyp,onChange:c[14]||(c[14]=y=>f("fondstyp",y.target.value))},[...c[81]||(c[81]=[l("option",{value:"aktien"},"Aktienfonds (30% steuerfrei)",-1),l("option",{value:"misch"},"Mischfonds (15% steuerfrei)",-1),l("option",{value:"renten"},"Rentenfonds/Andere (0% steuerfrei)",-1)])],40,wm)])):G("",!0),p(a).expertMode?($(),I("label",Rm,[c[83]||(c[83]=l("span",{class:"field-label","data-tooltip":"Basiszins fr Vorabpauschale (18 InvStG). Fr historische Jahre automatisch."},"Basiszins (%)",-1)),l("input",{type:"number",step:"0.01",value:i.value.basiszins,onInput:c[15]||(c[15]=y=>f("basiszins",+y.target.value)),min:"-1",max:"10"},null,40,Mm),c[84]||(c[84]=l("small",{class:"field-hint"},"2025: 2,53%",-1))])):G("",!0),p(a).expertMode?($(),I("label",km,[c[85]||(c[85]=l("span",{class:"field-label","data-tooltip":"Verlustvortrag aus Vorjahren."},"Start-Verlusttopf (EUR)",-1)),l("input",{type:"number",step:"100",value:i.value.lossPot,onInput:c[16]||(c[16]=y=>f("lossPot",+y.target.value)),min:"0",max:"1000000"},null,40,Cm)])):G("",!0),p(a).expertMode?($(),I("label",Tm,[l("input",{type:"checkbox",checked:i.value.useLifo,onChange:c[17]||(c[17]=y=>f("useLifo",y.target.checked))},null,40,Pm),c[86]||(c[86]=l("span",{class:"field-label","data-tooltip":"Last-In-First-Out: Verkauft zuerst die neuesten Anteile. Standard ist FIFO."},"LIFO statt FIFO verwenden",-1))])):G("",!0)])]),l("div",$m,[c[94]||(c[94]=l("div",{class:"group__header"},[l("h2",null,"Ansparphase"),l("p",null,"Monatliche Raten, Dynamik und Sonderausgaben.")],-1)),l("div",Am,[l("label",Im,[c[88]||(c[88]=l("span",{class:"field-label","data-tooltip":"Wie lange du monatlich einzahlen mchtest."},"Dauer Ansparen (Jahre)",-1)),l("input",{type:"number",step:"1",value:i.value.yearsSave,onInput:c[18]||(c[18]=y=>f("yearsSave",+y.target.value)),min:"1",max:"100"},null,40,Fm)]),l("label",Nm,[c[89]||(c[89]=l("span",{class:"field-label","data-tooltip":"Monatlicher Sparbetrag auf das Tagesgeldkonto."},"Monatlich Tagesgeld (EUR)",-1)),l("input",{type:"number",step:"50",value:i.value.monthlySavings,onInput:c[19]||(c[19]=y=>f("monthlySavings",+y.target.value)),min:"0",max:"1000000"},null,40,Vm)]),l("label",zm,[c[90]||(c[90]=l("span",{class:"field-label","data-tooltip":"Monatlicher Sparplan-Betrag fr den ETF."},"Monatlich ETF (EUR)",-1)),l("input",{type:"number",step:"50",value:i.value.monthlyEtf,onInput:c[20]||(c[20]=y=>f("monthlyEtf",+y.target.value)),min:"0",max:"1000000"},null,40,Dm)]),l("label",Om,[c[91]||(c[91]=l("span",{class:"field-label","data-tooltip":"Jhrliche Erhhung deiner Sparraten."},"Gehaltserhhung p.a. (%)",-1)),l("input",{type:"number",step:"0.1",value:i.value.annualRaise,onInput:c[21]||(c[21]=y=>f("annualRaise",+y.target.value)),min:"-10",max:"50"},null,40,Bm)]),p(a).expertMode?($(),I("label",Lm,[c[92]||(c[92]=l("span",{class:"field-label","data-tooltip":"Grere Einmalausgaben in der Ansparphase."},"Sonderausgabe Anspar (EUR)",-1)),l("input",{type:"number",step:"500",value:i.value.specialSavings,onInput:c[22]||(c[22]=y=>f("specialSavings",+y.target.value)),min:"0",max:"10000000"},null,40,Wm)])):G("",!0),p(a).expertMode?($(),I("label",Gm,[c[93]||(c[93]=l("span",{class:"field-label","data-tooltip":"Alle wie viele Jahre die Sonderausgabe fllig wird."},"Sonderausgabe alle X J.",-1)),l("input",{type:"number",step:"1",value:i.value.specialSavingsInterval,onInput:c[23]||(c[23]=y=>f("specialSavingsInterval",+y.target.value)),min:"0",max:"50"},null,40,Km)])):G("",!0)])]),l("div",Um,[c[108]||(c[108]=l("div",{class:"group__header"},[l("h2",null,"Entnahmephase"),l("p",null,"Rentenmodus, Sonderausgaben und Dauer.")],-1)),l("div",jm,[l("label",Hm,[c[95]||(c[95]=l("span",{class:"field-label","data-tooltip":"Wie lange du monatlich Geld entnehmen mchtest."},"Dauer Entnahme (Jahre)",-1)),l("input",{type:"number",step:"1",value:i.value.yearsWithdraw,onInput:c[24]||(c[24]=y=>f("yearsWithdraw",+y.target.value)),min:"1",max:"100"},null,40,Jm)]),l("div",Zm,[c[98]||(c[98]=l("span",{class:"field-label","data-tooltip":"Whle zwischen fester monatlicher Entnahme oder prozentualem Anteil."},"Wunschrente",-1)),l("div",Ym,[l("label",null,[l("input",{type:"radio",name:"rent_mode",value:"eur",checked:i.value.rentMode==="eur",onChange:c[25]||(c[25]=y=>f("rentMode","eur"))},null,40,qm),c[96]||(c[96]=Ne(" EUR / Monat ",-1))]),l("label",null,[l("input",{type:"radio",name:"rent_mode",value:"percent",checked:i.value.rentMode==="percent",onChange:c[26]||(c[26]=y=>f("rentMode","percent"))},null,40,Xm),c[97]||(c[97]=Ne(" % vom Vermgen (p.a.) ",-1))])])]),i.value.rentMode==="eur"?($(),I("label",Qm,[c[99]||(c[99]=l("span",{class:"field-label","data-tooltip":"Fester monatlicher Entnahmebetrag."},"Wunschrente (EUR)",-1)),l("input",{type:"number",step:"50",value:i.value.rentEur,onInput:c[27]||(c[27]=y=>f("rentEur",+y.target.value)),min:"0",max:"1000000"},null,40,ev)])):G("",!0),i.value.rentMode==="percent"?($(),I("label",tv,[c[100]||(c[100]=l("span",{class:"field-label","data-tooltip":"Entnahme als Prozent des Startvermgens (4%-Regel)."},"Wunschrente % vom Startvermgen p.a.",-1)),l("input",{type:"number",step:"0.1",value:i.value.rentPercent,onInput:c[28]||(c[28]=y=>f("rentPercent",+y.target.value)),min:"0",max:"100"},null,40,nv)])):G("",!0),l("label",sv,[l("input",{type:"checkbox",checked:i.value.inflationAdjustWithdrawal,onChange:c[29]||(c[29]=y=>f("inflationAdjustWithdrawal",y.target.checked))},null,40,lv),c[101]||(c[101]=l("span",{class:"field-label","data-tooltip":"Erhht die Entnahme jhrlich um die Inflation."},"Entnahme jhrlich inflationsanpassen (4%-Regel)",-1))]),p(a).expertMode?($(),I("label",av,[l("input",{type:"checkbox",checked:i.value.rentIsGross,onChange:c[30]||(c[30]=y=>f("rentIsGross",y.target.checked))},null,40,iv),c[102]||(c[102]=l("span",{class:"field-label","data-tooltip":"Wunschrente ist Bruttobetrag (vor Steuern). Sonst Netto (nach Steuern)."},"Wunschrente ist Bruttobetrag",-1))])):G("",!0),p(a).expertMode?($(),I("label",ov,[c[103]||(c[103]=l("span",{class:"field-label","data-tooltip":"Minimale monatliche Entnahme (Untergrenze)."},"Min. Entnahme (EUR)",-1)),l("input",{type:"number",step:"50",value:i.value.withdrawalMin,onInput:c[31]||(c[31]=y=>f("withdrawalMin",+y.target.value)),min:"0",max:"1000000"},null,40,rv)])):G("",!0),p(a).expertMode?($(),I("label",uv,[c[104]||(c[104]=l("span",{class:"field-label","data-tooltip":"Maximale monatliche Entnahme (Obergrenze)."},"Max. Entnahme (EUR)",-1)),l("input",{type:"number",step:"50",value:i.value.withdrawalMax,onInput:c[32]||(c[32]=y=>f("withdrawalMax",+y.target.value)),min:"0",max:"1000000"},null,40,cv)])):G("",!0),p(a).expertMode?($(),I("label",dv,[c[105]||(c[105]=l("span",{class:"field-label","data-tooltip":"Grere Einmalausgaben in der Entnahmephase."},"Sonderausgabe Entnahme (EUR)",-1)),l("input",{type:"number",step:"500",value:i.value.specialWithdraw,onInput:c[33]||(c[33]=y=>f("specialWithdraw",+y.target.value)),min:"0",max:"10000000"},null,40,fv)])):G("",!0),p(a).expertMode?($(),I("label",hv,[c[106]||(c[106]=l("span",{class:"field-label","data-tooltip":"Alle wie viele Jahre die Sonderausgabe fllig wird."},"Sonderausgabe alle X J.",-1)),l("input",{type:"number",step:"1",value:i.value.specialWithdrawInterval,onInput:c[34]||(c[34]=y=>f("specialWithdrawInterval",+y.target.value)),min:"0",max:"50"},null,40,pv)])):G("",!0),p(a).expertMode?($(),I("label",mv,[l("input",{type:"checkbox",checked:i.value.inflationAdjustSpecialWithdrawal,onChange:c[35]||(c[35]=y=>f("inflationAdjustSpecialWithdrawal",y.target.checked))},null,40,vv),c[107]||(c[107]=l("span",{class:"field-label","data-tooltip":"Erhht die Sonderentnahme alle X Jahre um die Inflation."},"Sonderausgabe Entnahme inflationsanpassen",-1))])):G("",!0)])]),p(a).expertMode?($(),I("div",gv,[c[113]||(c[113]=l("div",{class:"group__header"},[l("h2",null,"Kapitalerhalt-Modus"),l("p",null,"Reduziert Entnahme bei drohendem Kapitalverzehr.")],-1)),l("div",bv,[l("label",yv,[l("input",{type:"checkbox",checked:i.value.capitalPreservationEnabled,onChange:c[36]||(c[36]=y=>f("capitalPreservationEnabled",y.target.checked))},null,40,_v),c[109]||(c[109]=l("span",{class:"field-label","data-tooltip":"Aktiviert automatische Entnahmekrzung bei niedrigem Kapital."},"Kapitalerhalt aktivieren",-1))]),i.value.capitalPreservationEnabled?($(),I("label",Sv,[c[110]||(c[110]=l("span",{class:"field-label","data-tooltip":"Bei Unterschreitung dieses %-Werts vom Startkapital greift die Reduktion."},"Schwelle (% vom Startkapital)",-1)),l("input",{type:"number",step:"5",value:i.value.capitalPreservationThreshold,onInput:c[37]||(c[37]=y=>f("capitalPreservationThreshold",+y.target.value)),min:"10",max:"100"},null,40,Ev)])):G("",!0),i.value.capitalPreservationEnabled?($(),I("label",xv,[c[111]||(c[111]=l("span",{class:"field-label","data-tooltip":"Um wie viel % die Entnahme reduziert wird, wenn Schwelle unterschritten."},"Reduktion (%)",-1)),l("input",{type:"number",step:"5",value:i.value.capitalPreservationReduction,onInput:c[38]||(c[38]=y=>f("capitalPreservationReduction",+y.target.value)),min:"5",max:"75"},null,40,wv)])):G("",!0),i.value.capitalPreservationEnabled?($(),I("label",Rv,[c[112]||(c[112]=l("span",{class:"field-label","data-tooltip":"% ber Schwelle, ab dem Entnahme wieder normalisiert wird."},"Erholung (% ber Schwelle)",-1)),l("input",{type:"number",step:"5",value:i.value.capitalPreservationRecovery,onInput:c[39]||(c[39]=y=>f("capitalPreservationRecovery",+y.target.value)),min:"5",max:"50"},null,40,Mv)])):G("",!0)])])):G("",!0),l("div",kv,[c[123]||(c[123]=l("div",{class:"group__header"},[l("h2",null,"Monte-Carlo-Simulation"),l("p",null,"Stochastische Analyse mit variabler ETF-Rendite.")],-1)),l("div",Cv,[l("label",Tv,[c[114]||(c[114]=l("span",{class:"field-label","data-tooltip":"Wie oft die Simulation durchgefhrt wird."},"Anzahl Simulationen",-1)),l("input",{type:"number",step:"100",value:i.value.mcIterations,onInput:c[40]||(c[40]=y=>f("mcIterations",+y.target.value)),min:"100",max:"10000"},null,40,Pv),c[115]||(c[115]=l("small",{class:"field-hint"},"100-10.000 Durchlufe",-1))]),l("label",$v,[c[116]||(c[116]=l("span",{class:"field-label","data-tooltip":"Standardabweichung der jhrlichen ETF-Rendite."},"ETF Volatilitt p.a. (%)",-1)),l("input",{type:"number",step:"0.5",value:i.value.mcVolatility,onInput:c[41]||(c[41]=y=>f("mcVolatility",+y.target.value)),min:"1",max:"50"},null,40,Av),c[117]||(c[117]=l("small",{class:"field-hint"},"Historisch ~15-20% fr Aktien-ETFs",-1))]),p(a).expertMode?($(),I("label",Iv,[l("input",{type:"checkbox",checked:i.value.mcShowIndividual,onChange:c[42]||(c[42]=y=>f("mcShowIndividual",y.target.checked))},null,40,Fv),c[118]||(c[118]=l("span",{class:"field-label","data-tooltip":"Zeigt bis zu 50 einzelne Simulationspfade im Chart an."},"Einzelne Pfade anzeigen (max. 50)",-1))])):G("",!0),p(a).expertMode?($(),I("label",Nv,[c[119]||(c[119]=l("span",{class:"field-label","data-tooltip":"Minimales Endvermgen fr 'Erfolg'."},"Erfolgsschwelle ( real)",-1)),l("input",{type:"number",step:"100",value:i.value.mcSuccessThreshold,onInput:c[43]||(c[43]=y=>f("mcSuccessThreshold",+y.target.value)),min:"0",max:"1000000"},null,40,Vv)])):G("",!0),p(a).expertMode?($(),I("label",zv,[c[120]||(c[120]=l("span",{class:"field-label","data-tooltip":"Ruin-Schwelle als % des Vermgens bei Rentenbeginn."},"Ruin-Schwelle (% Rentenbeginn)",-1)),l("input",{type:"number",step:"1",value:i.value.mcRuinThreshold,onInput:c[44]||(c[44]=y=>f("mcRuinThreshold",+y.target.value)),min:"1",max:"50"},null,40,Dv)])):G("",!0),p(a).expertMode?($(),I("label",Ov,[c[121]||(c[121]=l("span",{class:"field-label","data-tooltip":"Seed fr Zufallsgenerator."},"Random Seed (0=zufllig)",-1)),l("input",{type:"number",step:"1",value:i.value.mcSeed,onInput:c[45]||(c[45]=y=>f("mcSeed",+y.target.value)),min:"0",max:"999999"},null,40,Bv)])):G("",!0),l("label",Lv,[c[122]||(c[122]=l("span",{class:"field-label","data-tooltip":"Testet vorgegebene Marktbedingungen in den ersten Jahren der Entnahmephase."},"Stress-Szenario",-1)),l("select",{value:i.value.stressScenario,onChange:c[46]||(c[46]=y=>f("stressScenario",y.target.value))},[($(!0),I($e,null,ht(x.value,y=>($(),I("option",{key:y.key,value:y.key,title:y.description},k(y.name),9,Gv))),128))],40,Wv),i.value.stressScenario!=="none"?($(),I("small",Kv,k((T=x.value.find(y=>y.key===i.value.stressScenario))==null?void 0:T.description),1)):G("",!0)])])]),p(a).expertMode?($(),I("div",Uv,[c[148]||(c[148]=l("div",{class:"group__header"},[l("h2",null,"MC-Erweiterte Risiken"),l("p",null,"Zustzliche Schwankungsquellen fr realistischere Szenarien.")],-1)),l("div",jv,[l("label",Hv,[c[125]||(c[125]=l("span",{class:"field-label","data-tooltip":"Aktiviert zufllige jhrliche Schwankungen der Inflationsrate."},"Inflation-Modus",-1)),l("select",{value:i.value.mcInflationMode,onChange:c[47]||(c[47]=y=>f("mcInflationMode",y.target.value))},[...c[124]||(c[124]=[l("option",{value:"deterministic"},"Deterministisch (fix)",-1),l("option",{value:"random"},"Stochastisch (zufllig)",-1)])],40,Jv)]),i.value.mcInflationMode==="random"?($(),I("label",Zv,[c[126]||(c[126]=l("span",{class:"field-label","data-tooltip":"Standardabweichung der jhrlichen Inflation in Prozentpunkten."},"Inflation Volatilitt (%-Pkt.)",-1)),l("input",{type:"number",step:"0.1",value:i.value.mcInflationVolatility,onInput:c[48]||(c[48]=y=>f("mcInflationVolatility",+y.target.value)),min:"0.1",max:"5"},null,40,Yv)])):G("",!0),i.value.mcInflationMode==="random"?($(),I("label",qv,[c[127]||(c[127]=l("span",{class:"field-label","data-tooltip":"Minimale jhrliche Inflationsrate."},"Inflation Min (%)",-1)),l("input",{type:"number",step:"0.5",value:i.value.mcInflationFloor,onInput:c[49]||(c[49]=y=>f("mcInflationFloor",+y.target.value)),min:"-5",max:"5"},null,40,Xv)])):G("",!0),i.value.mcInflationMode==="random"?($(),I("label",Qv,[c[128]||(c[128]=l("span",{class:"field-label","data-tooltip":"Maximale jhrliche Inflationsrate."},"Inflation Max (%)",-1)),l("input",{type:"number",step:"0.5",value:i.value.mcInflationCap,onInput:c[50]||(c[50]=y=>f("mcInflationCap",+y.target.value)),min:"2",max:"20"},null,40,eg)])):G("",!0)]),l("div",tg,[l("label",ng,[c[130]||(c[130]=l("span",{class:"field-label","data-tooltip":"Aktiviert zufllige jhrliche Schwankungen des Tagesgeldzinses."},"Cashzins-Modus",-1)),l("select",{value:i.value.mcCashRateMode,onChange:c[51]||(c[51]=y=>f("mcCashRateMode",y.target.value))},[...c[129]||(c[129]=[l("option",{value:"deterministic"},"Deterministisch (fix)",-1),l("option",{value:"random"},"Stochastisch (zufllig)",-1)])],40,sg)]),i.value.mcCashRateMode==="random"?($(),I("label",lg,[c[131]||(c[131]=l("span",{class:"field-label","data-tooltip":"Standardabweichung des jhrlichen Cashzinses in Prozentpunkten."},"Cashzins Volatilitt (%-Pkt.)",-1)),l("input",{type:"number",step:"0.1",value:i.value.mcCashRateVolatility,onInput:c[52]||(c[52]=y=>f("mcCashRateVolatility",+y.target.value)),min:"0.1",max:"3"},null,40,ag)])):G("",!0),i.value.mcCashRateMode==="random"||i.value.mcInflationMode==="random"?($(),I("label",ig,[c[132]||(c[132]=l("span",{class:"field-label","data-tooltip":"Korrelation zwischen Inflation und Cashzins (0.7 = stark positiv)."},"Korr. Inflation/Cashzins",-1)),l("input",{type:"number",step:"0.1",value:i.value.mcCorrInflationCash,onInput:c[53]||(c[53]=y=>f("mcCorrInflationCash",+y.target.value)),min:"0",max:"1"},null,40,og)])):G("",!0)]),l("div",rg,[l("label",ug,[c[134]||(c[134]=l("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Einkommensschocks (Arbeitslosigkeit, Befrderung)."},"Einkommensschocks",-1)),l("select",{value:i.value.mcSavingShockMode,onChange:c[54]||(c[54]=y=>f("mcSavingShockMode",y.target.value))},[...c[133]||(c[133]=[l("option",{value:"off"},"Aus",-1),l("option",{value:"simple"},"Einfach (Ereignis-basiert)",-1)])],40,cg)]),i.value.mcSavingShockMode==="simple"?($(),I("label",dg,[c[135]||(c[135]=l("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit eines negativen Schocks pro Jahr."},"Negativ-Schock (% p.a.)",-1)),l("input",{type:"number",step:"0.5",value:i.value.mcSavingShockPNeg*100,onInput:c[55]||(c[55]=y=>f("mcSavingShockPNeg",+y.target.value/100)),min:"0",max:"20"},null,40,fg)])):G("",!0),i.value.mcSavingShockMode==="simple"?($(),I("label",hg,[c[136]||(c[136]=l("span",{class:"field-label","data-tooltip":"Dauer eines negativen Schocks in Monaten."},"Schock-Dauer (Monate)",-1)),l("input",{type:"number",step:"1",value:i.value.mcSavingShockDurationNeg,onInput:c[56]||(c[56]=y=>f("mcSavingShockDurationNeg",+y.target.value)),min:"1",max:"36"},null,40,pg)])):G("",!0),i.value.mcSavingShockMode==="simple"?($(),I("label",mg,[c[137]||(c[137]=l("span",{class:"field-label","data-tooltip":"Faktor auf Sparrate bei negativem Schock (0 = keine Sparleistung)."},"Faktor bei neg. Schock",-1)),l("input",{type:"number",step:"0.1",value:i.value.mcSavingShockFactorNeg,onInput:c[57]||(c[57]=y=>f("mcSavingShockFactorNeg",+y.target.value)),min:"0",max:"1"},null,40,vg)])):G("",!0)]),l("div",gg,[l("label",bg,[c[139]||(c[139]=l("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Zusatzausgaben in der Entnahmephase."},"Extra-Ausgaben (Entnahme)",-1)),l("select",{value:i.value.mcExtraExpenseMode,onChange:c[58]||(c[58]=y=>f("mcExtraExpenseMode",y.target.value))},[...c[138]||(c[138]=[l("option",{value:"off"},"Aus",-1),l("option",{value:"percent_of_wealth"},"% vom Vermgen",-1),l("option",{value:"fixed_real"},"Fester Betrag (real)",-1)])],40,yg)]),i.value.mcExtraExpenseMode!=="off"?($(),I("label",_g,[c[140]||(c[140]=l("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit einer Extra-Ausgabe pro Jahr."},"Wahrscheinlichkeit (% p.a.)",-1)),l("input",{type:"number",step:"1",value:i.value.mcExtraExpenseProbability*100,onInput:c[59]||(c[59]=y=>f("mcExtraExpenseProbability",+y.target.value/100)),min:"0",max:"30"},null,40,Sg)])):G("",!0),i.value.mcExtraExpenseMode==="percent_of_wealth"?($(),I("label",Eg,[c[141]||(c[141]=l("span",{class:"field-label","data-tooltip":"Hhe der Extra-Ausgabe als % des Vermgens."},"Hhe (% vom Vermgen)",-1)),l("input",{type:"number",step:"1",value:i.value.mcExtraExpensePercent,onInput:c[60]||(c[60]=y=>f("mcExtraExpensePercent",+y.target.value)),min:"1",max:"30"},null,40,xg)])):G("",!0),i.value.mcExtraExpenseMode==="fixed_real"?($(),I("label",wg,[c[142]||(c[142]=l("span",{class:"field-label","data-tooltip":"Hhe der Extra-Ausgabe in EUR (kaufkraftbereinigt)."},"Hhe (EUR real)",-1)),l("input",{type:"number",step:"1000",value:i.value.mcExtraExpenseFixed,onInput:c[61]||(c[61]=y=>f("mcExtraExpenseFixed",+y.target.value)),min:"1000",max:"100000"},null,40,Rg)])):G("",!0)]),l("div",Mg,[l("label",kg,[c[144]||(c[144]=l("span",{class:"field-label","data-tooltip":"Aktiviert zufllige Crash-Ereignisse zustzlich zur normalen Volatilitt."},"Crash-Ereignisse",-1)),l("select",{value:i.value.mcCrashMode,onChange:c[62]||(c[62]=y=>f("mcCrashMode",y.target.value))},[...c[143]||(c[143]=[l("option",{value:"off"},"Aus",-1),l("option",{value:"simple"},"Einfach (zufllige Crashes)",-1)])],40,Cg)]),i.value.mcCrashMode==="simple"?($(),I("label",Tg,[c[145]||(c[145]=l("span",{class:"field-label","data-tooltip":"Wahrscheinlichkeit eines Crashes pro Jahr."},"Crash-Wahrsch. (% p.a.)",-1)),l("input",{type:"number",step:"0.5",value:i.value.mcCrashProbability*100,onInput:c[63]||(c[63]=y=>f("mcCrashProbability",+y.target.value/100)),min:"0",max:"15"},null,40,Pg)])):G("",!0),i.value.mcCrashMode==="simple"?($(),I("label",$g,[c[146]||(c[146]=l("span",{class:"field-label","data-tooltip":"Minimale Crash-Tiefe (z.B. -25%)."},"Min. Crash (%)",-1)),l("input",{type:"number",step:"5",value:i.value.mcCrashDropMin*100,onInput:c[64]||(c[64]=y=>f("mcCrashDropMin",+y.target.value/100)),min:"-60",max:"-10"},null,40,Ag)])):G("",!0),i.value.mcCrashMode==="simple"?($(),I("label",Ig,[c[147]||(c[147]=l("span",{class:"field-label","data-tooltip":"Maximale Crash-Tiefe (z.B. -45%)."},"Max. Crash (%)",-1)),l("input",{type:"number",step:"5",value:i.value.mcCrashDropMax*100,onInput:c[65]||(c[65]=y=>f("mcCrashDropMax",+y.target.value/100)),min:"-70",max:"-15"},null,40,Fg)])):G("",!0)])])):G("",!0),l("div",Ng,[c[149]||(c[149]=l("button",{type:"submit",class:"btn btn--primary"},"Simulation starten",-1)),l("button",{type:"button",class:"btn btn--accent",onClick:v},k(p(n).isRunning?"Abbrechen":"Monte-Carlo starten"),1),l("div",{class:"btn-group"},[l("button",{type:"button",class:"btn btn--secondary",onClick:w},"Zurcksetzen")])])],32)])}}},zg=il(Vg,[["__scopeId","data-v-a2ac3ab5"]]),Ee=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),ue=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2});function ra(e,t=!1){const s=new Date().toISOString();let n=`# ETF Sparplan Simulator v${Sc}
`;return n+=`# Exportiert: ${s}
`,n+=`# Szenario: ${e.name||"Unbenannt"}
`,n+=`#
`,n+=`# Parameter:
`,n+=`# - Ansparphase: ${e.yearsSave} Jahre
`,n+=`# - Entnahmephase: ${e.yearsWithdraw} Jahre
`,n+=`# - Startkapital TG: ${Ee.format(e.startSavings)} 
`,n+=`# - Startkapital ETF: ${Ee.format(e.startEtf)} 
`,n+=`# - Monatl. Sparen TG: ${Ee.format(e.monthlySavings)} 
`,n+=`# - Monatl. Sparen ETF: ${Ee.format(e.monthlyEtf)} 
`,n+=`# - TG-Zins p.a.: ${ue.format(e.savingsRate)}%
`,n+=`# - ETF-Rendite p.a.: ${ue.format(e.etfRate)}%
`,n+=`# - Inflation p.a.: ${ue.format(e.inflationRate)}%
`,t&&(n+=`# - MC-Iterationen: ${e.mcIterations}
`,n+=`# - Volatilitt: ${ue.format(e.mcVolatility)}%
`),n+=`#
`,n}function Dg(e,t){if(!(e!=null&&e.length))throw new Error("Keine Simulationsdaten vorhanden");if(!t)throw new Error("Kein Szenario bergeben");const s=ra(t),n=["Monat","Jahr","Phase","Tagesgeld","ETF","Gesamt","Gesamt (real)","Einzahlung TG","Einzahlung ETF","TG-Zinsen","Entnahme (brutto)","Entnahme (netto)","Steuern","Vorabpauschale","Fehlbetrag","Inflation (kumuliert)"];let a=s;a+=n.join(";")+`
`;for(const i of e){const r=[i.month,i.year,i.phase,ue.format(i.savings),ue.format(i.etf),ue.format(i.total),ue.format(i.total_real),ue.format(i.savings_contrib||0),ue.format(i.etf_contrib||0),ue.format(i.savings_interest||0),ue.format(i.withdrawal||0),ue.format(i.withdrawal_net||0),ue.format(i.tax_paid||0),ue.format(i.vorabpauschale_tax||0),ue.format(i.shortfall||0),ue.format(i.cumulative_inflation||1)];a+=r.join(";")+`
`}ca(a,`etf_simulation_${ua()}.csv`)}function Og(e,t){if(!(e!=null&&e.length))throw new Error("Keine Simulationsdaten vorhanden");if(!t)throw new Error("Kein Szenario bergeben");const s=ra(t),n=Ao(e),a=["Jahr","Phase","Tagesgeld (Jahresende)","ETF (Jahresende)","Gesamt","Gesamt (real)","Einzahlungen","Rendite","Entnahmen (gesamt)","Steuern (gesamt)"];let i=s;i+=a.join(";")+`
`;for(const r of n){const o=[r.year,r.phase,ue.format(r.savings),ue.format(r.etf),ue.format(r.total),ue.format(r.total_real),ue.format(r.deposits),ue.format(r.returns),ue.format(r.withdrawals),ue.format(r.taxes)];i+=o.join(";")+`
`}ca(i,`etf_simulation_jahresuebersicht_${ua()}.csv`)}function Bg(e,t){if(!e)throw new Error("Keine Monte-Carlo-Ergebnisse vorhanden");if(!t)throw new Error("Kein Szenario bergeben");let n=ra(t,!0);n+=`# ZUSAMMENFASSUNG
`,n+=`Iterationen;${e.iterations}
`,n+=`Volatilitt;${ue.format(e.volatility)}%
`,n+=`Erfolgsrate;${ue.format(e.successRate)}%
`,n+=`Ruinwahrscheinlichkeit;${ue.format(e.ruinProbability)}%
`,n+=`Kapitalerhalt-Rate;${ue.format(e.capitalPreservationRate)}%
`,n+=`
`,n+=`Median Endvermgen;${Ee.format(e.medianEnd)} 
`,n+=`Median Endvermgen (real);${Ee.format(e.medianEndReal)} 
`,n+=`5. Perzentil;${Ee.format(e.p5End)} 
`,n+=`95. Perzentil;${Ee.format(e.p95End)} 
`,n+=`
`,e.sorr&&(n+=`# SEQUENCE-OF-RETURNS-RISIKO
`,n+=`SoRR-Score;${ue.format(e.sorr.sorRiskScore)}
`,n+=`Korrelation frhe Renditen;${ue.format(e.sorr.correlationEarlyReturns)}
`,n+=`Worst Sequence Endvermgen;${Ee.format(e.sorr.worstSequenceEnd)} 
`,n+=`Best Sequence Endvermgen;${Ee.format(e.sorr.bestSequenceEnd)} 
`,n+=`
`),n+=`# PERZENTILE PRO MONAT
`,n+=`Monat;P5;P10;P25;Median;P75;P90;P95
`;for(let a=0;a<e.months.length;a++){const i=e.percentiles;n+=[e.months[a],Ee.format(i.p5[a]),Ee.format(i.p10[a]),Ee.format(i.p25[a]),Ee.format(i.p50[a]),Ee.format(i.p75[a]),Ee.format(i.p90[a]),Ee.format(i.p95[a])].join(";")+`
`}ca(n,`etf_monte_carlo_${ua()}.csv`)}function Lg(e,t,s){if(!s)throw new Error("Kein Szenario bergeben");const n=s,a=new Date().toLocaleString("de-DE"),i=e?Ao(e):[];let r="";for(const f of i)r+=`
      <tr>
        <td>${f.year}</td>
        <td>${f.phase}</td>
        <td>${Ee.format(f.total)} </td>
        <td>${Ee.format(f.total_real)} </td>
        <td>${Ee.format(f.deposits)} </td>
        <td>${Ee.format(f.withdrawals)} </td>
      </tr>
    `;let o="";return t&&(o=`
      <div class="report-section">
        <h2>Monte-Carlo-Analyse</h2>
        <table class="report-table">
          <tr><td>Iterationen</td><td>${t.iterations}</td></tr>
          <tr><td>Volatilitt</td><td>${ue.format(t.volatility)}%</td></tr>
          <tr><td>Erfolgsrate</td><td>${ue.format(t.successRate)}%</td></tr>
          <tr><td>Ruinwahrscheinlichkeit</td><td>${ue.format(t.ruinProbability)}%</td></tr>
          <tr><td>Median Endvermgen</td><td>${Ee.format(t.medianEnd)} </td></tr>
          <tr><td>5. Perzentil</td><td>${Ee.format(t.p5End)} </td></tr>
          <tr><td>95. Perzentil</td><td>${Ee.format(t.p95End)} </td></tr>
        </table>
      </div>
    `),`
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>ETF Simulator Report - ${n.name}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      color: #1a1a2e;
    }
    h1 { color: #f59e0b; border-bottom: 2px solid #f59e0b; padding-bottom: 10px; }
    h2 { color: #3b82f6; margin-top: 30px; }
    .report-header { display: flex; justify-content: space-between; align-items: center; }
    .report-date { color: #666; font-size: 14px; }
    .report-section { margin: 20px 0; }
    .report-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .report-card {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #3b82f6;
    }
    .report-card h3 { margin: 0 0 10px 0; color: #333; font-size: 14px; }
    .report-card .value { font-size: 24px; font-weight: bold; color: #1a1a2e; }
    .report-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }
    .report-table th, .report-table td {
      padding: 8px 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .report-table th { background: #f0f0f0; }
    .report-table tr:hover { background: #f8f9fa; }
    @media print {
      body { padding: 0; }
      .report-section { page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="report-header">
    <h1>ETF Sparplan Simulator Report</h1>
    <span class="report-date">Erstellt: ${a}</span>
  </div>
  
  <div class="report-section">
    <h2>Szenario: ${n.name}</h2>
    <div class="report-grid">
      <div class="report-card">
        <h3>Ansparphase</h3>
        <div class="value">${n.yearsSave} Jahre</div>
      </div>
      <div class="report-card">
        <h3>Entnahmephase</h3>
        <div class="value">${n.yearsWithdraw} Jahre</div>
      </div>
      <div class="report-card">
        <h3>Monatliche Sparrate</h3>
        <div class="value">${Ee.format(n.monthlySavings+n.monthlyEtf)} </div>
      </div>
      <div class="report-card">
        <h3>ETF-Rendite p.a.</h3>
        <div class="value">${ue.format(n.etfRate)}%</div>
      </div>
    </div>
  </div>
  
  <div class="report-section">
    <h2>Parameter</h2>
    <table class="report-table">
      <tr><td>Startkapital Tagesgeld</td><td>${Ee.format(n.startSavings)} </td></tr>
      <tr><td>Startkapital ETF</td><td>${Ee.format(n.startEtf)} </td></tr>
      <tr><td>Tagesgeld-Zins p.a.</td><td>${ue.format(n.savingsRate)}%</td></tr>
      <tr><td>ETF TER</td><td>${ue.format(n.etfTer)}%</td></tr>
      <tr><td>Inflation p.a.</td><td>${ue.format(n.inflationRate)}%</td></tr>
      <tr><td>Sparerpauschbetrag</td><td>${Ee.format(n.sparerpauschbetrag)} </td></tr>
    </table>
  </div>
  
  ${o}
  
  <div class="report-section">
    <h2>Jahresbersicht</h2>
    <table class="report-table">
      <thead>
        <tr>
          <th>Jahr</th>
          <th>Phase</th>
          <th>Gesamt</th>
          <th>Gesamt (real)</th>
          <th>Einzahlungen</th>
          <th>Entnahmen</th>
        </tr>
      </thead>
      <tbody>
        ${r}
      </tbody>
    </table>
  </div>
</body>
</html>
  `}function Wg(e,t,s){const n=Lg(e,t,s),a=new Blob([n],{type:"text/html"}),i=URL.createObjectURL(a),r=window.open(i,"_blank");r&&(r.onload=()=>{setTimeout(()=>r.print(),500)})}function Ao(e){const t={};for(const s of e){t[s.year]||(t[s.year]={year:s.year,phase:s.phase,savings:0,etf:0,total:0,total_real:0,deposits:0,returns:0,withdrawals:0,taxes:0});const n=t[s.year];n.savings=s.savings,n.etf=s.etf,n.total=s.total,n.total_real=s.total_real,n.deposits+=(s.savings_contrib||0)+(s.etf_contrib||0),n.returns+=s.return_gain||0,n.withdrawals+=s.withdrawal||0,n.taxes+=s.tax_paid||0,n.phase=s.phase}return Object.values(t).sort((s,n)=>s.year-n.year)}function ua(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function ca(e,t){const n=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}const Gg={class:"stat-label"},Kg={key:0,class:"stat-hint"},te={__name:"StatsCard",props:{label:{type:String,required:!0},value:{type:String,default:"-"},hint:{type:String,default:""},highlight:{type:Boolean,default:!1},variant:{type:String,default:""},clickable:{type:Boolean,default:!1}},emits:["click"],setup(e){return(t,s)=>($(),I("div",{class:pe(["stat-card",{"stat-card--clickable":e.clickable,[`stat-card--${e.variant}`]:e.variant}]),onClick:s[0]||(s[0]=n=>e.clickable&&t.$emit("click"))},[l("span",Gg,k(e.label),1),l("span",{class:pe(["stat-value",{"stat-value--highlight":e.highlight}])},k(e.value),3),e.hint?($(),I("small",Kg,k(e.hint),1)):G("",!0)],2))}},Ug={__name:"StandardChart",props:{history:{type:Array,default:()=>[]},logScale:{type:Boolean,default:!1}},setup(e){const t=e,s=Z(null);let n=null;const a={total:"#f59e0b",real:"#22c55e",grid:"rgba(255, 255, 255, 0.1)",text:"#94a3b8",savingsPhase:"rgba(34, 197, 94, 0.1)",withdrawPhase:"rgba(251, 146, 60, 0.1)"};function i(){if(!s.value||!t.history.length)return;const o=s.value.getContext("2d"),d=window.devicePixelRatio||1,f=s.value.getBoundingClientRect();s.value.width=f.width*d,s.value.height=f.height*d,o.scale(d,d);const g=f.width,_=f.height,h={top:20,right:20,bottom:40,left:70},m=g-h.left-h.right,S=_-h.top-h.bottom;o.clearRect(0,0,g,_);const u=t.history.flatMap(T=>[T.total,T.totalReal]);let N=Math.min(...u),A=Math.max(...u);const v=A-N;N=Math.max(0,N-v*.05),A=A+v*.05;const R=T=>h.left+T/(t.history.length-1)*m,M=T=>{if(t.logScale&&T>0){const y=Math.log10(Math.max(1,N)),q=Math.log10(Math.max(1,A)),ve=Math.log10(Math.max(1,T));return h.top+S-(ve-y)/(q-y)*S}return h.top+S-(T-N)/(A-N)*S};o.strokeStyle=a.grid,o.lineWidth=1;const w=5;for(let T=0;T<=w;T++){const y=h.top+T/w*S;o.beginPath(),o.moveTo(h.left,y),o.lineTo(g-h.right,y),o.stroke();const q=A-T/w*(A-N);o.fillStyle=a.text,o.font="11px sans-serif",o.textAlign="right",o.fillText(r(q),h.left-8,y+4)}const F=t.history.filter(T=>T.phase==="saving").length;if(F>0&&F<t.history.length){const T=R(F);o.fillStyle=a.savingsPhase,o.fillRect(h.left,h.top,T-h.left,S),o.fillStyle=a.withdrawPhase,o.fillRect(T,h.top,g-h.right-T,S),o.strokeStyle="rgba(255, 255, 255, 0.3)",o.setLineDash([5,5]),o.beginPath(),o.moveTo(T,h.top),o.lineTo(T,h.top+S),o.stroke(),o.setLineDash([])}function x(T,y){o.strokeStyle=y,o.lineWidth=2,o.beginPath(),T.forEach((q,ve)=>{const me=R(ve),J=M(q);ve===0?o.moveTo(me,J):o.lineTo(me,J)}),o.stroke()}x(t.history.map(T=>T.total),a.total),x(t.history.map(T=>T.totalReal),a.real),o.fillStyle=a.text,o.font="11px sans-serif",o.textAlign="center";const C=Math.ceil(t.history.length/12),c=Math.ceil(C/10);for(let T=0;T<=C;T+=c){const y=T*12;if(y<t.history.length){const q=R(y);o.fillText(`${T}J`,q,_-10)}}}function r(o){return o>=1e6?`${(o/1e6).toFixed(1)}M `:o>=1e3?`${(o/1e3).toFixed(0)}k `:`${o.toFixed(0)} `}return Kt(()=>[t.history,t.logScale],i,{deep:!0}),zn(()=>{i(),n=new ResizeObserver(i),n.observe(s.value)}),ms(()=>{n&&n.disconnect()}),(o,d)=>($(),I("canvas",{ref_key:"canvas",ref:s,"aria-label":"Vermgensgraph",style:{width:"100%",height:"320px"}},null,512))}},jg={class:"tab-content tab-content--active",role:"tabpanel"},Hg={class:"result-header"},Jg={class:"chart-controls"},Zg=["disabled"],Yg=["disabled"],qg={class:"graph-wrapper"},Xg={class:"result-header result-header--stats"},Qg={class:"stats-toggle"},e0={class:"stats-panel"},t0={class:"stats-section"},n0={class:"stats-grid"},s0={class:"stats-section"},l0={class:"stats-grid"},a0={__name:"StandardTab",setup(e){const t=Jt(),s=Rt(),n=gs(),a=On(),{formatCurrency:i,formatPercent:r}=bs();function o(){const h=t.history,m=s.activeScenario;try{Dg(h,m)}catch(S){alert(S.message)}}function d(){const h=t.history,m=n.hasResults?n.results:null,S=s.activeScenario;try{Wg(h,m,S)}catch(u){alert(u.message)}}const f=le(()=>t.stats),g=le(()=>a.showStatsNominal),_=le(()=>{if(!f.value)return null;const h=t.history[t.history.length-1];return h?h.total<=0?{type:"critical",text:" Das Vermgen ist aufgebraucht!"}:h.totalReal<1e4?{type:"warning",text:" Das Endvermgen (real) ist sehr gering."}:{type:"ok",text:" Das Vermgen reicht ber den gesamten Zeitraum."}:null});return(h,m)=>{var S,u,N,A,v,R,M,w,F,x,C,c,T,y,q;return $(),I("div",jg,[l("div",Hg,[m[5]||(m[5]=l("div",null,[l("p",{class:"eyebrow"},"Visualisierung"),l("h2",null,"Vermgensverlauf")],-1)),l("div",Jg,[l("button",{type:"button",class:"btn btn--small btn--ghost",onClick:o,title:"Als CSV exportieren",disabled:!p(t).hasResults},"  CSV ",8,Zg),l("button",{type:"button",class:"btn btn--small btn--ghost",onClick:d,title:"Als PDF drucken",disabled:!p(t).hasResults},"  PDF ",8,Yg),m[4]||(m[4]=l("span",{class:"divider"},null,-1)),l("button",{type:"button",class:pe(["btn-scale",{"btn-scale--active":p(a).standardChartLogScale}]),onClick:m[0]||(m[0]=ve=>p(a).standardChartLogScale=!0),title:"Logarithmische Skala"}," Log ",2),l("button",{type:"button",class:pe(["btn-scale",{"btn-scale--active":!p(a).standardChartLogScale}]),onClick:m[1]||(m[1]=ve=>p(a).standardChartLogScale=!1),title:"Lineare Skala"}," Linear ",2)])]),m[7]||(m[7]=cs('<div class="mc-legend"><span class="legend__item"><span class="dot dot--total"></span>Gesamtvermgen</span><span class="legend__item"><span class="dot dot--real"></span>Gesamt (inflationsbereinigt)</span></div>',1)),l("div",qg,[Y(Ug,{history:p(t).history,"log-scale":p(a).standardChartLogScale},null,8,["history","log-scale"])]),l("div",Xg,[m[6]||(m[6]=l("div",null,[l("p",{class:"eyebrow"},"Zusammenfassung"),l("h2",null,"Simulationsergebnisse")],-1)),l("div",Qg,[l("button",{type:"button",class:pe(["stats-toggle-btn",{"stats-toggle-btn--active":g.value}]),onClick:m[2]||(m[2]=ve=>p(a).showStatsNominal=!0)}," Nominal ",2),l("button",{type:"button",class:pe(["stats-toggle-btn",{"stats-toggle-btn--active":!g.value}]),onClick:m[3]||(m[3]=ve=>p(a).showStatsNominal=!1)}," Inflationsbereinigt ",2)])]),l("div",e0,[ae(l("div",t0,[l("div",n0,[Y(te,{label:"Endvermgen",value:p(i)(p(t).endWealth)},null,8,["value"]),Y(te,{label:"Vermgen bei Rentenbeginn",value:p(i)((S=f.value)==null?void 0:S.retirementWealth)},null,8,["value"]),Y(te,{label:"Eingezahlt gesamt",value:p(i)((u=f.value)==null?void 0:u.totalInvested)},null,8,["value"]),Y(te,{label:"Rendite gesamt",value:p(i)((N=f.value)==null?void 0:N.totalReturn)},null,8,["value"]),Y(te,{label:" Entnahme/Monat",value:p(i)((A=f.value)==null?void 0:A.avgMonthlyWithdrawal)},null,8,["value"]),Y(te,{label:"Entnahmen gesamt",value:p(i)((v=f.value)==null?void 0:v.totalWithdrawals)},null,8,["value"]),Y(te,{label:"Steuern gesamt",value:p(i)((R=f.value)==null?void 0:R.totalTax)},null,8,["value"]),Y(te,{label:"davon Vorabpauschale",value:p(i)((M=f.value)==null?void 0:M.totalVorabpauschale)},null,8,["value"]),Y(te,{label:"Effektive Entnahmerate",value:p(r)((w=f.value)==null?void 0:w.effectiveWithdrawalRate)},null,8,["value"])])],512),[[bt,g.value]]),ae(l("div",s0,[l("div",l0,[Y(te,{label:"Endvermgen (Kaufkraft heute)",value:p(i)(p(t).endWealthReal),highlight:""},null,8,["value"]),Y(te,{label:"Vermgen bei Rentenbeginn",value:p(i)((F=f.value)==null?void 0:F.retirementWealthReal),highlight:""},null,8,["value"]),Y(te,{label:"Eingezahlt gesamt",value:p(i)((x=f.value)==null?void 0:x.totalInvested),hint:"Nominal, nicht inflationsbereinigt"},null,8,["value"]),Y(te,{label:"Rendite gesamt (real)",value:p(i)((C=f.value)==null?void 0:C.totalReturnReal)},null,8,["value"]),Y(te,{label:" Entnahme/Monat",value:p(i)((c=f.value)==null?void 0:c.avgMonthlyWithdrawalReal),highlight:""},null,8,["value"]),Y(te,{label:"Entnahmen gesamt (real)",value:p(i)((T=f.value)==null?void 0:T.totalWithdrawalsReal)},null,8,["value"]),Y(te,{label:"Kaufkraftverlust",value:p(r)((y=f.value)==null?void 0:y.purchasingPowerLoss),hint:"Durch Inflation ber die Laufzeit"},null,8,["value"]),Y(te,{label:"Reale Rendite p.a.",value:p(r)((q=f.value)==null?void 0:q.realReturnPa),hint:"Nach Abzug der Inflation"},null,8,["value"])])],512),[[bt,!g.value]]),_.value?($(),I("div",{key:0,class:pe(["stat-warning",`stat-warning--${_.value.type}`])},k(_.value.text),3)):G("",!0)])])}}},Ps=new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}),dt=new Intl.NumberFormat("de-DE",{minimumFractionDigits:1,maximumFractionDigits:1});function i0(e,t){if(!e)return"";const s=t.savings_years+t.withdrawal_years,n=e.successRate||0,a=e.ruinProbability||0,i=e.medianEndReal||0,r=e.retirementMedian||0,o=e.emergencyFillProbability||0,d=e.emergencyMedianFillYears,f=[];return n>=95?f.push(`<strong>Sehr gute Aussichten:</strong> In ${dt.format(n)}% der ${Ps.format(e.iterations)} Simulationen war dein Geld nach ${s} Jahren noch nicht aufgebraucht.`):n>=80?f.push(`<strong>Gute Aussichten:</strong> In ${dt.format(n)}% der Simulationen reichte dein Vermgen ber die gesamte Laufzeit von ${s} Jahren.`):n>=50?f.push(`<strong>Erhhtes Risiko:</strong> Nur in ${dt.format(n)}% der Simulationen war dein Geld nach ${s} Jahren noch vorhanden. Erwge eine niedrigere Entnahmerate oder lngere Ansparphase.`):f.push(`<strong>Hohes Risiko:</strong> In nur ${dt.format(n)}% der Simulationen blieb Vermgen brig. Diese Strategie ist sehr riskant.`),a>0&&(a<5?f.push(`Das Risiko, whrend der Entnahmephase in finanzielle Schwierigkeiten zu geraten, liegt bei nur ${dt.format(a)}%.`):a<15?f.push(`Das Pleite-Risiko betrgt ${dt.format(a)}%  moderate Vorsicht ist geboten.`):f.push(`<strong>Achtung:</strong> Das Risiko eines Vermgensausfalls liegt bei ${dt.format(a)}%.`)),r>0&&f.push(`Bei Rentenbeginn (nach ${t.savings_years} Jahren) hast du im Median ca. ${Ps.format(r)}  angespart.`),i>0&&f.push(`Das inflationsbereinigte Median-Endvermgen betrgt ${Ps.format(i)} .`),t.savings_target>0&&(o>=95?f.push(`Dein Notgroschen-Ziel von ${Ps.format(t.savings_target)}  wird in ${dt.format(o)}% der Flle erreicht${d?` (im Median nach ${dt.format(d)} Jahren)`:""}.`):o>=80?f.push(`Der Notgroschen wird in ${dt.format(o)}% der Simulationen gefllt${d?`  typischerweise nach ${dt.format(d)} Jahren`:""}.`):o>0&&f.push(`Nur in ${dt.format(o)}% der Flle erreichst du dein Notgroschen-Ziel. Erwge eine hhere TG-Sparrate.`)),e.sorr&&e.sorr.sorRiskScore>30&&f.push(`<strong>Sequence-of-Returns-Risiko:</strong> Frhe Crashs in der Entnahmephase haben einen starken Einfluss auf dein Endvermgen (Korrelation: ${dt.format(Math.abs(e.sorr.correlationEarlyReturns*100))}%).`),f.join(" ")}const o0={__name:"MonteCarloChart",props:{results:{type:Object,default:null},logScale:{type:Boolean,default:!0}},setup(e){const t=e,s=Z(null);let n=null;function a(){t.results&&Fc(t.results,{logScale:t.logScale})}return Kt(()=>[t.results,t.logScale],()=>{a()},{deep:!0}),zn(()=>{a(),n=new ResizeObserver(()=>{a()}),s.value&&n.observe(s.value)}),ms(()=>{n&&n.disconnect()}),(i,r)=>($(),I("canvas",{id:"mc-graph",ref_key:"canvas",ref:s,"aria-label":"Monte-Carlo Vermgensgraph",style:{width:"100%",height:"320px"}},null,512))}},r0={class:"tab-content",role:"tabpanel"},u0={key:0,class:"mc-empty-state"},c0={key:1,class:"mc-results"},d0={key:0,class:"mc-progress-bar"},f0=["value"],h0={key:1,class:"mc-highlight"},p0={class:"mc-highlight-main"},m0={class:"mc-highlight-meta"},v0={key:2,class:"mc-summary-box"},g0=["innerHTML"],b0={class:"result-header"},y0={class:"chart-controls"},_0={class:"graph-wrapper"},S0={class:"result-header result-header--stats"},E0={class:"stats-toggle"},x0={class:"stats-section"},w0={class:"mc-stats-section"},R0={class:"stats-grid stats-grid--mc"},M0={class:"mc-stats-section"},k0={class:"stats-grid stats-grid--mc"},C0={class:"mc-stats-section"},T0={class:"stats-grid stats-grid--mc"},P0={key:0,class:"mc-stats-section"},$0={class:"stats-grid stats-grid--mc"},A0={class:"stats-section"},I0={class:"mc-stats-section"},F0={class:"stats-grid stats-grid--mc"},N0={class:"mc-stats-section"},V0={class:"stats-grid stats-grid--mc"},z0={class:"mc-stats-section"},D0={class:"stats-grid stats-grid--mc"},O0={key:0,class:"mc-stats-section mc-additional-stats"},B0={class:"mc-stats-desc"},L0={class:"stats-grid stats-grid--sorr"},W0={key:1,class:"mc-optimize-section"},G0={__name:"MonteCarloTab",emits:["start-optimizer"],setup(e){const t=gs(),s=Rt(),n=Jt(),a=On(),{formatCurrency:i,formatPercent:r}=bs(),o=le(()=>{if(!t.results)return"";const h=n.buildSimulationParams(s.activeScenario);return i0(t.results,h)});function d(){if(t.results)try{Bg(t.results,s.activeScenario)}catch(h){alert(h.message)}}const f=le(()=>{const h=t.successRate;return h>=95?"success-high":h>=80?"success-medium":"success-low"}),g=le(()=>{var S;const h=(S=t.results)==null?void 0:S.sorr;return h?`Die SoRR-Auswertung betrachtet die ersten ${h.vulnerabilityWindow||5} Jahre der Entnahmephase und vergleicht frhe Crash- vs. Boom-Szenarien. Hohe Werte bedeuten, dass die Reihenfolge der Renditen einen starken Einfluss auf das Endvermgen hat.`:""}),_=le(()=>a.showMcStatsNominal);return(h,m)=>{var S,u,N,A,v,R,M,w,F,x,C,c,T,y,q,ve,me,J,j,B,K,oe,ke,Ce,ce,re,we,Ae,Je,vt,Mt,Yt,gt,It,b,E,P,O,z,D,U,W,L;return $(),I("div",r0,[!p(t).hasResults&&!p(t).isRunning?($(),I("div",u0,[...m[5]||(m[5]=[cs('<div class="mc-empty-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"></path><circle cx="12" cy="12" r="3"></circle></svg></div><h3>Monte-Carlo-Simulation starten</h3><p>Klicke auf &quot;Monte-Carlo starten&quot; um eine stochastische Analyse mit variabler ETF-Rendite durchzufhren.</p><p class="mc-empty-hint">Die Simulation fhrt hunderte Durchlufe mit zuflligen Renditen durch und zeigt die Erfolgswahrscheinlichkeit deiner Entnahme-Strategie.</p>',4)])])):($(),I("div",c0,[p(t).isRunning?($(),I("div",d0,[l("progress",{value:p(t).progress,max:"100"},null,8,f0),l("span",null,k(p(t).progressText),1)])):G("",!0),p(t).hasResults?($(),I("div",h0,[l("div",p0,[m[6]||(m[6]=l("span",{class:"mc-highlight-label"},"Erfolgswahrscheinlichkeit",-1)),l("span",{class:pe(["mc-highlight-value",f.value])},k(p(r)(p(t).successRate)),3),m[7]||(m[7]=l("span",{class:"mc-highlight-hint"}," Keine Entnahme-Shortfalls & Endvermgen > Schwelle ",-1))]),l("div",m0,k(((S=p(t).results)==null?void 0:S.iterations)||"-")+" Simulationen durchgefhrt ",1)])):G("",!0),p(t).hasResults&&o.value?($(),I("div",v0,[m[8]||(m[8]=l("div",{class:"mc-summary-icon"},"",-1)),l("div",{class:"mc-summary-text",innerHTML:o.value},null,8,g0)])):G("",!0),p(t).hasResults?($(),I($e,{key:3},[l("div",b0,[m[10]||(m[10]=l("div",null,[l("p",{class:"eyebrow"},"Visualisierung"),l("h2",null,"Vermgensverteilung ber Zeit")],-1)),l("div",y0,[l("button",{type:"button",class:"btn btn--small btn--ghost",onClick:d,title:"MC-Ergebnisse als CSV exportieren"},"  CSV Export "),m[9]||(m[9]=l("span",{class:"divider"},null,-1)),l("button",{type:"button",class:pe(["btn-scale",{"btn-scale--active":p(a).mcChartLogScale}]),onClick:m[0]||(m[0]=V=>p(a).mcChartLogScale=!0),title:"Logarithmische Skala"}," Log ",2),l("button",{type:"button",class:pe(["btn-scale",{"btn-scale--active":!p(a).mcChartLogScale}]),onClick:m[1]||(m[1]=V=>p(a).mcChartLogScale=!1),title:"Lineare Skala"}," Linear ",2)])]),m[20]||(m[20]=cs('<div class="mc-legend"><span class="legend__item"><span class="dot dot--mc-median"></span>Median (50%)</span><span class="legend__item"><span class="dot dot--mc-50"></span>25%-75%</span><span class="legend__item"><span class="dot dot--mc-80"></span>10%-90%</span><span class="legend__item"><span class="dot dot--mc-p5"></span>5% (Worst)</span><span class="legend__item"><span class="dot dot--mc-p95"></span>95% (Best)</span></div>',1)),l("div",_0,[Y(o0,{results:p(t).results,"log-scale":p(a).mcChartLogScale},null,8,["results","log-scale"])]),l("div",S0,[m[11]||(m[11]=l("div",null,[l("p",{class:"eyebrow"},"Zusammenfassung"),l("h2",null,"Simulationsergebnisse")],-1)),l("div",E0,[l("button",{type:"button",class:pe(["stats-toggle-btn",{"stats-toggle-btn--active":_.value}]),onClick:m[2]||(m[2]=V=>p(a).showMcStatsNominal=!0)}," Nominal ",2),l("button",{type:"button",class:pe(["stats-toggle-btn",{"stats-toggle-btn--active":!_.value}]),onClick:m[3]||(m[3]=V=>p(a).showMcStatsNominal=!1)}," Inflationsbereinigt ",2)])]),ae(l("div",x0,[l("div",w0,[m[12]||(m[12]=l("h4",{class:"mc-stats-title"},"Endvermgen",-1)),l("div",R0,[Y(te,{label:"Median (50%)",value:p(i)((u=p(t).results)==null?void 0:u.medianEnd),variant:"mc",hint:"Typischer Verlauf"},null,8,["value"]),Y(te,{label:"Spanne (10%-90%)",value:`${p(i)((N=p(t).results)==null?void 0:N.p10End)} - ${p(i)((A=p(t).results)==null?void 0:A.p90End)}`,variant:"mc",hint:"80% Konfidenzintervall"},null,8,["value"]),Y(te,{label:"Konservativ (25%)",value:p(i)((v=p(t).results)==null?void 0:v.p25End),variant:"worst",hint:"Jeder 4. Fall ist schlechter"},null,8,["value"]),Y(te,{label:"Optimistisch (75%)",value:p(i)((R=p(t).results)==null?void 0:R.p75End),variant:"best",hint:"Jeder 4. Fall ist besser"},null,8,["value"])])]),l("div",M0,[m[13]||(m[13]=l("h4",{class:"mc-stats-title"},"Entnahmen & Rente",-1)),l("div",k0,[Y(te,{label:" Monatliche Rente",value:p(i)((M=p(t).results)==null?void 0:M.medianAvgWithdrawalNet),variant:"mc",hint:"Median ber alle Simulationen"},null,8,["value"]),Y(te,{label:"Entnahmen Gesamt",value:p(i)((w=p(t).results)==null?void 0:w.medianTotalWithdrawalGross),variant:"mc",hint:"Median Gesamtentnahme"},null,8,["value"]),Y(te,{label:"Vermgen bei Rentenbeginn",value:p(i)((F=p(t).results)==null?void 0:F.retirementMedian),variant:"best",hint:"Median zu Start der Entnahme"},null,8,["value"]),Y(te,{label:"Durchschnittl. Endvermgen",value:p(i)((x=p(t).results)==null?void 0:x.meanEnd),variant:"mc",hint:"Arithmetisches Mittel"},null,8,["value"])])]),l("div",C0,[m[14]||(m[14]=l("h4",{class:"mc-stats-title"},"Risikokennzahlen",-1)),l("div",T0,[Y(te,{label:"Kapitalerhalt (nominal)",value:p(r)((C=p(t).results)==null?void 0:C.capitalPreservationRate),variant:"mc",hint:"Endvermgen  Startvermgen (ohne Inflationsausgleich)"},null,8,["value"]),Y(te,{label:"Pleite-Risiko (P&D)",value:p(r)(p(t).ruinProbability),variant:"mc",hint:"Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase"},null,8,["value"]),Y(te,{label:"Shortfall-Quote (Entnahme)",value:p(r)((c=p(t).results)==null?void 0:c.entnahmeShortfallRate),variant:"mc",hint:"Entnahme < Ziel (Min. SWR unter 2+ Jahre Delay)"},null,8,["value"])])]),((T=p(t).results)==null?void 0:T.emergencyFillProbability)>0?($(),I("div",P0,[m[15]||(m[15]=l("h4",{class:"mc-stats-title"},"Notgroschen (Monte-Carlo)",-1)),l("div",$0,[Y(te,{label:"Wird gefllt",value:p(r)((y=p(t).results)==null?void 0:y.emergencyFillProbability),variant:"mc",hint:"Anteil der Pfade mit erreichtem TG-Ziel"},null,8,["value"]),(q=p(t).results)!=null&&q.emergencyMedianFillYears?($(),bn(te,{key:0,label:"Zeit bis voll",value:`${(me=(ve=p(t).results)==null?void 0:ve.emergencyMedianFillYears)==null?void 0:me.toFixed(1)} Jahre`,variant:"mc",hint:"Median Zeit-Phase, in denen er gefllt wird"},null,8,["value"])):G("",!0)])])):G("",!0)],512),[[bt,_.value]]),ae(l("div",A0,[l("div",I0,[m[16]||(m[16]=l("h4",{class:"mc-stats-title"},"Endvermgen (Kaufkraft heute)",-1)),l("div",F0,[Y(te,{label:"Median (50%)",value:p(i)((J=p(t).results)==null?void 0:J.medianEndReal),variant:"mc",highlight:"",hint:"Typischer Verlauf in heutiger Kaufkraft"},null,8,["value"]),Y(te,{label:"Spanne (10%-90%)",value:`${p(i)((j=p(t).results)==null?void 0:j.p10EndReal)} - ${p(i)((B=p(t).results)==null?void 0:B.p90EndReal)}`,variant:"mc",hint:"80% Konfidenzintervall"},null,8,["value"]),Y(te,{label:"Konservativ (25%)",value:p(i)((K=p(t).results)==null?void 0:K.p25EndReal),variant:"worst",hint:"In heutiger Kaufkraft"},null,8,["value"]),Y(te,{label:"Optimistisch (75%)",value:p(i)((oe=p(t).results)==null?void 0:oe.p75EndReal),variant:"best",hint:"In heutiger Kaufkraft (75%-Perzentil)"},null,8,["value"])])]),l("div",N0,[m[17]||(m[17]=l("h4",{class:"mc-stats-title"},"Entnahmen & Rente (real)",-1)),l("div",V0,[Y(te,{label:" Monatliche Rente",value:p(i)((ke=p(t).results)==null?void 0:ke.medianAvgWithdrawalNetReal),variant:"mc",hint:"Median ber alle Simulationen (real)"},null,8,["value"]),Y(te,{label:"Entnahmen Gesamt",value:p(i)((Ce=p(t).results)==null?void 0:Ce.medianTotalWithdrawalGrossReal),variant:"mc",hint:"Median Gesamtentnahme (real)"},null,8,["value"]),Y(te,{label:"Vermgen bei Rentenbeginn",value:p(i)((ce=p(t).results)==null?void 0:ce.retirementMedianReal),variant:"best",hint:"Median zu Start der Entnahme (real)"},null,8,["value"]),Y(te,{label:"Durchschnittl. Endvermgen",value:p(i)((re=p(t).results)==null?void 0:re.meanEndReal),variant:"mc",hint:"Arithmetisches Mittel (inflationsbereinigt)"},null,8,["value"])])]),l("div",z0,[m[18]||(m[18]=l("h4",{class:"mc-stats-title"},"Risikokennzahlen",-1)),l("div",D0,[Y(te,{label:"Kapitalerhalt (real)",value:p(r)((we=p(t).results)==null?void 0:we.capitalPreservationRateReal),variant:"mc",hint:"Kaufkraft erhalten"},null,8,["value"]),Y(te,{label:"Pleite-Risiko (P&D)",value:p(r)(p(t).ruinProbability),variant:"mc",hint:"Vermgen unter Ruin-Schwelle oder Shortfall in Entnahmephase"},null,8,["value"]),Y(te,{label:"Shortfall-Quote (Entnahme)",value:p(r)((Ae=p(t).results)==null?void 0:Ae.entnahmeShortfallRate),variant:"mc",hint:"Entnahme < Ziel (Min. SWR unter 2+ Jahre Delay)"},null,8,["value"])])])],512),[[bt,!_.value]]),(Je=p(t).results)!=null&&Je.sorr?($(),I("div",O0,[m[19]||(m[19]=l("h4",{class:"mc-stats-title"},"Sequence-of-Returns-Risk (SoRR)",-1)),l("p",B0,k(g.value),1),l("div",L0,[Y(te,{label:"SoRR-Spreizung",value:p(r)(((Mt=(vt=p(t).results)==null?void 0:vt.sorr)==null?void 0:Mt.sorRiskScore)||0),variant:"sorr-main",hint:"Unterschied beste vs. schlechteste Sequenz"},null,8,["value"]),Y(te,{label:"Frher Crash-Effekt",value:p(i)(((gt=(Yt=p(t).results)==null?void 0:Yt.sorr)==null?void 0:gt.worstSequenceEnd)||0),variant:"worst",hint:"Endvermgen-Reduktion bei frhem Crash"},null,8,["value"]),Y(te,{label:"Frher Boom-Effekt",value:p(i)(((b=(It=p(t).results)==null?void 0:It.sorr)==null?void 0:b.bestSequenceEnd)||0),variant:"best",hint:"Endvermgen-Bonus bei frhen Boom"},null,8,["value"]),Y(te,{label:"Korrelation (frhe Rendite  Ende)",value:p(r)(Math.abs(((P=(E=p(t).results)==null?void 0:E.sorr)==null?void 0:P.correlationEarlyReturns)||0)*100),variant:"mc",hint:"Wie stark beeinflusst 'frhe Jahre' das Ergo"},null,8,["value"]),Y(te,{label:"Endvermgen (schlechte Sequenz)",value:p(i)(((z=(O=p(t).results)==null?void 0:O.sorr)==null?void 0:z.worstSequenceEnd)||0),variant:"worst",hint:" bei schlechten frhen Renditen"},null,8,["value"]),Y(te,{label:"Endvermgen (gute Sequenz)",value:p(i)(((U=(D=p(t).results)==null?void 0:D.sorr)==null?void 0:U.bestSequenceEnd)||0),variant:"best",hint:" bei guten frhen Renditen"},null,8,["value"]),Y(te,{label:"Kritisches Fenster",value:String(((L=(W=p(t).results)==null?void 0:W.sorr)==null?void 0:L.vulnerabilityWindow)||5),variant:"mc",hint:"Hchste Sensitivitt in diesen Jahren"},null,8,["value"])])])):G("",!0),p(t).hasResults?($(),I("div",W0,[l("button",{type:"button",class:"btn btn--primary btn--optimize",onClick:m[4]||(m[4]=V=>h.$emit("start-optimizer"))}," Parameter optimieren ")])):G("",!0)],64)):G("",!0)]))])}}},K0={class:"tab-content",role:"tabpanel"},U0={class:"result-header"},j0={class:"chart-controls"},H0=["disabled"],J0={key:0,class:"mc-empty-state"},Z0={key:1,class:"table-wrapper"},Y0={__name:"YearlyTableTab",setup(e){const t=Jt(),s=Rt(),{formatCurrency:n}=bs(),a=le(()=>{const r=t.history;if(!r.length)return[];const o=[];for(let d=0;d<r.length;d+=12){const f=r[Math.min(d+11,r.length-1)];d>0&&r[d-1];const _={year:Math.floor(d/12)+1,phase:f.phase==="saving"?"Anspar":"Entnahme",savingsEnd:f.savings,etfEnd:f.etf,totalEnd:f.total,totalReal:f.totalReal,deposited:0,withdrawn:0,taxPaid:0};for(let h=d;h<Math.min(d+12,r.length);h++){const m=r[h];_.deposited+=(m.savingsContrib||0)+(m.etfContrib||0),_.withdrawn+=m.withdrawal||0,_.taxPaid+=m.taxPaid||0}o.push(_)}return o});function i(){const r=t.history,o=s.activeScenario;try{Og(r,o)}catch(d){alert(d.message)}}return(r,o)=>($(),I("div",K0,[l("div",U0,[o[0]||(o[0]=l("div",null,[l("p",{class:"eyebrow"},"Detailansicht"),l("h2",null,"Jahresbersicht")],-1)),l("div",j0,[l("button",{type:"button",class:"btn btn--small btn--ghost",onClick:i,title:"Jahresbersicht als CSV exportieren",disabled:a.value.length===0}," CSV ",8,H0)])]),a.value.length===0?($(),I("div",J0,[...o[1]||(o[1]=[l("h3",null,"Keine Daten vorhanden",-1),l("p",null,"Starte eine Simulation um die Jahresbersicht zu sehen.",-1)])])):($(),I("div",Z0,[l("table",null,[o[2]||(o[2]=l("thead",null,[l("tr",null,[l("th",null,"Jahr"),l("th",null,"Phase"),l("th",null,"Tagesgeld"),l("th",null,"ETF"),l("th",null,"Gesamt"),l("th",null,"Gesamt (real)"),l("th",null,"Eingezahlt"),l("th",null,"Entnommen"),l("th",null,"Steuern")])],-1)),l("tbody",null,[($(!0),I($e,null,ht(a.value,d=>($(),I("tr",{key:d.year},[l("td",null,k(d.year),1),l("td",null,k(d.phase),1),l("td",null,k(p(n)(d.savingsEnd)),1),l("td",null,k(p(n)(d.etfEnd)),1),l("td",null,k(p(n)(d.totalEnd)),1),l("td",null,k(p(n)(d.totalReal)),1),l("td",null,k(p(n)(d.deposited)),1),l("td",null,k(p(n)(d.withdrawn)),1),l("td",null,k(p(n)(d.taxPaid)),1)]))),128))])])]))]))}},q0={"aria-label":"Simulationsergebnisse"},X0={class:"tabs",role:"tablist","aria-label":"Ergebnis-Ansichten"},Q0=["aria-selected","onClick"],e1={key:0,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},t1={key:1,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},n1={key:2,class:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},s1={key:3,class:"tab-badge"},l1={__name:"ResultsPanel",setup(e){const t=On(),s=gs(),n=[{id:"standard",label:"Standard",icon:"chart"},{id:"tabelle",label:"Jahresbersicht",icon:"table"},{id:"monte-carlo",label:"Monte-Carlo",icon:"dice"}];function a(){t.showOptimizerModal=!0}return(i,r)=>($(),I("section",q0,[l("div",X0,[($(),I($e,null,ht(n,o=>l("button",{key:o.id,class:pe(["tab",{"tab--active":p(t).activeTab===o.id}]),role:"tab","aria-selected":p(t).activeTab===o.id,onClick:d=>p(t).setActiveTab(o.id)},[o.icon==="chart"?($(),I("svg",e1,[...r[0]||(r[0]=[l("path",{d:"M3 3v18h18"},null,-1),l("path",{d:"M18 9l-5 5-4-4-3 3"},null,-1)])])):o.icon==="table"?($(),I("svg",t1,[...r[1]||(r[1]=[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"},null,-1),l("path",{d:"M3 9h18M3 15h18M9 3v18"},null,-1)])])):o.icon==="dice"?($(),I("svg",n1,[...r[2]||(r[2]=[l("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"},null,-1)])])):G("",!0),Ne(" "+k(o.label)+" ",1),o.id==="monte-carlo"&&p(s).hasResults?($(),I("span",s1,"")):G("",!0)],10,Q0)),64))]),ae(Y(a0,null,null,512),[[bt,p(t).activeTab==="standard"]]),ae(Y(Y0,null,null,512),[[bt,p(t).activeTab==="tabelle"]]),ae(Y(G0,{onStartOptimizer:a},null,512),[[bt,p(t).activeTab==="monte-carlo"]])]))}},a1={class:"page",role:"main"},i1={__name:"App",setup(e){const t=Rt(),s=Jt(),n=gs(),a=On();return Ic({onRunSimulation:()=>s.runSimulation(),onCloseModals:()=>a.closeAllModals(),onAbortMonteCarlo:()=>n.isRunning?(n.abortSimulation(),!0):!1,onToggleTab:i=>a.setActiveTab(i)}),zn(async()=>{a.initTheme(),t.initFromStorage(),t.loadFromShareUrl(),await el(),di(s.history,n.results),Nc()}),Kt(()=>[s.history,n.results],()=>{di(s.history,n.results)},{deep:!0}),(i,r)=>($(),I($e,null,[r[5]||(r[5]=l("a",{href:"#sim-form",class:"skip-link"},"Zum Formular springen",-1)),Y(Dc),p(a).showInfoModal?($(),bn(Lc,{key:0,onClose:r[0]||(r[0]=o=>p(a).showInfoModal=!1)})):G("",!0),p(a).showFormulaModal?($(),bn(Kc,{key:1,onClose:r[1]||(r[1]=o=>p(a).showFormulaModal=!1)})):G("",!0),p(a).showWizardModal?($(),bn(Nd,{key:2,onClose:r[2]||(r[2]=o=>p(a).showWizardModal=!1)})):G("",!0),p(a).showOptimizerModal?($(),bn(_f,{key:3,onClose:r[3]||(r[3]=o=>p(a).showOptimizerModal=!1)})):G("",!0),p(a).showBavComparisonModal?($(),bn(Np,{key:4,onClose:r[4]||(r[4]=o=>p(a).showBavComparisonModal=!1)})):G("",!0),l("main",a1,[Y(zg,{class:"panel panel--inputs"}),Y(l1,{class:"panel panel--results"})]),r[6]||(r[6]=l("div",{id:"tooltip",class:"tooltip","data-visible":"false"},null,-1)),r[7]||(r[7]=l("div",{class:"risk-widget-container"},[l("div",{id:"risk-widget",class:"risk-widget"})],-1))],64))}},Io=uc(i1),o1=fc();Io.use(o1);Io.mount("#app");
